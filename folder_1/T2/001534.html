<!--   Copyright 1996 QNX Software Systems Ltd.                          -->

<!--   All rights reserved.                                              -->

<!--                                                                     -->

<!--   No part of this publication may be reproduced, stored in a        -->

<!--   retrieval system, or transmitted in any form or by any            -->

<!--   means, electronic, mechanical, photocopying, recording, or        -->

<!--   otherwise without the prior written permission of QNX             -->

<!--   Software Systems Ltd.                                             -->

<!--                                                                     -->

<!--   Although every precaution has been taken in the preparation       -->

<!--   of this document, we assume no responsibility for any errors or   -->

<!--   omissions, nor do we assume liability for damages resulting       -->

<!--   from the use of the information contained in this document.       -->

<!--                                                                     -->

<!--   QNX is a registered trademark of QNX Software Systems Ltd.        -->

<!--   Photon microGUI is a trademark of QNX Software Systems Ltd.       -->



<html>



<head>

<title>rcs</title>

<link rel="next" href="/usr/help/product/qnx423/utils/rcsclean.html">

<link rel="previous" href="/usr/help/product/qnx423/utils/ramtrap.html">

</head>



<body>





<vpage>



<h1><a name="rcs">rcs</a></h1>



<p><i>change RCS file attributes (UNIX)</i></p>





<h2>Syntax:</h2>

<pre>

<tt>rcs</tt> [<i>options</i>] <i>file</i>...</pre>





<h2>Options:</h2>

<dl>

<dt> <tt><b>-a</b></tt><i>logins</i></dt><dd> Append the login names appearing in the comma-separated list 

     <i>logins</i> to the access list of the RCS

     file.</dd><dt> <tt><b>-A</b></tt><i>oldfile</i></dt><dd> Append the access list of <i>oldfile</i> to the access

     list of the RCS file.</dd><dt> <tt><b>-b</b></tt> [<i>rev</i>]</dt><dd> Set the default branch to <i>rev</i>. If

     <i>rev</i> is omitted, the default branch is reset to the

     (dynamically) highest branch on the trunk.</dd><dt> <tt><b>-c</b></tt><i>string</i></dt><dd> Set the comment leader to <i>string</i>. The comment

     leader is printed before every log message line generated by the keyword

     <tt>$</tt><tt>Log$</tt> during checkout (see <tt><a href="co.html">co</a></tt>). This is

     useful for programming languages without multi-line comments. An initial

     <tt><a href="ci.html">ci</a></tt>, or an <tt>rcs -i</tt> without <tt><b>-c</b></tt>,

     guesses the comment leader from the suffix of the working file.</dd><dt> <tt><b>-e</b></tt> [<i>logins</i>]</dt><dd> Erase the login names appearing in the comma-separated list 

     <i>logins</i> from the access list of the RCS

     file. If <i>logins</i> is omitted, erase the entire access

     list.</dd><dt> <tt><b>-i</b></tt></dt><dd> Create and initialize a new RCS file, but don't deposit

     any revision. If the RCS file has no path prefix, try to place

     it first into the subdirectory <tt>./RCS</tt>, and then into

     the current directory. If the RCS file already exists, print an

     error message.</dd><dt> <tt><b>-I</b></tt></dt><dd> Run interactively, even if the standard input isn't a terminal.</dd><dt> <tt><b>-k</b></tt><i>subst</i></dt><dd> Set the default keyword substitution to <i>subst</i>. The

     effect of keyword substitution is described in <tt><a href="co.html">co</a></tt>. Giving

     an explicit <tt><b>-k</b></tt> option to <tt><a href="co.html">co</a></tt>, <tt><a href="rcsdiff.html">rcsdiff</a></tt>,

     and <tt><a href="rcsmerge.html">rcsmerge</a></tt> overrides this default. Beware of

     <tt>rcs -kv</tt>, since <tt><b>-kv</b></tt> is incompatible with

     <tt><a href="co.html">co -l</a></tt>. Use <tt>rcs -kkv</tt> to restore the normal default

     keyword substitution.</dd><dt> <tt><b>-l</b></tt> [<i>rev</i>]</dt><dd> ("el") Lock the revision with number <i>rev</i>. If a branch is

     given, lock the latest revision on that branch. If 

     <i>rev</i> is omitted, lock the latest revision on the

     default branch. Locking prevents overlapping changes. You remove a lock

     with <tt><a href="ci.html">ci</a></tt> or <tt>rcs -u</tt> (see below).</dd><dt> <tt><b>-L</b></tt></dt><dd> Set locking to strict. Strict locking means that the owner of an

     RCS file isn't exempt from locking for checkin. You should

     use this option for files that are shared.</dd><dt> <tt><b>-m</b></tt><i>rev</i><tt>:</tt><i>msg</i></dt><dd> Replace revision <i>rev</i>'s log message with <i>msg</i>.     </dd><dt> <tt><b>-M</b></tt></dt><dd> Do  not  send  mail  when  breaking somebody else's             

     lock.  This option is not meant for casual use;  it               

     is  meant  for  programs  that  warn users by other               

     means, and invoke <tt>rcs -u</tt> only as a low-level

     lock-breaking operation.                                               </dd><dt> <tt><b>-n</b></tt><i>name</i>[<tt><b>:</b></tt><i>rev</i>]</dt><dd> Associate the symbolic name <i>name</i> with the branch

     or revision <i>rev</i>. Print an error message if

     <i>name</i> is already associated with another number. If

     <i>rev</i> is omitted, the symbolic name is deleted.</dd><dt> <tt><b>-N</b></tt><i>name</i>[<tt><b>:</b></tt><i>rev</i>]</dt><dd> Act as if <tt><b>-n</b></tt> were specified, except override any previous

     assignment of name.</dd><dt> <tt><b>-o</b></tt><i>range</i></dt><dd> Delete (i.e. "outdate") the revisions given by <i>range</i>.

     See "Description," below.</dd><dt> <tt><b>-q</b></tt></dt><dd> Be quiet; don't print diagnostics.</dd><dt> <tt><b>-s</b></tt><i>state</i>[<tt><b>:</b></tt><i>rev</i>]</dt><dd> Set the state attribute of the revision <i>rev</i> to

     <i>state</i>. If <i>rev</i> is a branch

     number, assume the latest revision on that branch. If 

     <i>rev</i> is omitted, assume the latest revision on the

     default branch. Any identifier is acceptable for

     <i>state</i>. The following is a useful set of states:

     <dl compact>

<dt><tt><b>Exp</b></tt></dt><dd>(experimental)

     </dd><dt><tt><b>Stab</b></tt></dt><dd>(stable)

     </dd><dt><tt><b>Rel</b></tt></dt><dd>(released)

     </dd></dl>



     By default, <tt><a href="ci.html">ci</a></tt> sets the state of a revision to

     <tt><b>Exp</b></tt>.</dd><dt> <tt><b>-t</b></tt> [<i>file</i>]</dt><dd> Write descriptive text from the contents of the named file into the 

     RCS file, deleting the existing text. The filename may not begin

     with <tt><b>-</b></tt>. If <i>file</i> is omitted,

     <tt>rcs</tt> obtains the text from standard input, terminated by

     EOF or by a line containing only a dot (<tt>.</tt>). You are

     prompted for the text if interaction is possible; see

     <tt><b>-I</b></tt>. With <tt><b>-i</b></tt>, descriptive text is

     obtained even if <tt><b>-t</b></tt> isn't given.</dd><dt> <tt><b>-t-</b></tt><i>string</i></dt><dd> Write the descriptive text from <i>string</i> into the

     RCS file, deleting the existing text.</dd><dt> <tt><b>-T</b></tt></dt><dd> Preserve the modification time on the RCS file             

     unless a revision is removed.  This option can suppress extensive

     recompilation caused by a <tt>make</tt> dependency of some copy

     of the working file on the RCS file.  Use this option with care; it

     can suppress recompilation even when it is needed, i.e. when a change

     to the RCS file would mean a change to keyword strings in the

     working file.            </dd><dt> <tt><b>-u</b></tt> [<i>rev</i>]</dt><dd> Unlock the revision with number <i>rev</i>. If a branch

     is given, unlock the latest revision on that branch. If

     <i>rev</i> is omitted, remove the latest lock held by

     the caller.



     <p>Normally, only the locker of a revision may unlock it. Somebody

     else unlocking a revision breaks the lock. This causes a mail message

     to be sent to the original locker. The message contains a commentary

     solicited from the breaker. The commentary is terminated by EOF

     or by a line containing only a dot (<tt>.</tt>).</p></dd><dt> <tt><b>-U</b></tt></dt><dd> Set locking to non-strict. Non-strict locking means that the owner of a

     file need not lock a revision for checkin. You should <em>not</em> use

     this option for files that are shared. Whether default locking is

     strict is determined by your system administrator, but it is normally

     strict.</dd><dt> <tt><b>-V</b></tt>[<i>n</i>]</dt><dd>  Report RCS version; or, if a number is supplied immediately after          

     <tt><b>-V</b></tt> (no spaces), emulate RCS version <i>n</i>, where         

     <i>n</i> may be 3, 4, or 5. This option can be useful when you're      

     interchanging RCS files with other users who are running older             

     versions of RCS.</dd><dt><tt><b>-x</b></tt><i>suffixes</i></dt><dd>Use <i>suffixes</i> to characterize RCS files.

    See <tt><a href="ci.html">ci</a></tt> for details.                           </dd><dt><tt><b>-z</b></tt><i>zone</i></dt><dd>Use <i>zone</i> as the default time zone.  This option has     

    no  effect;  it  is  present for compatibility with other RCS commands.           </dd></dl>





<h2>Description:</h2>

<p>The <tt>rcs</tt> utility creates new RCS files or changes

the attributes of existing ones. An RCS file contains multiple

revisions of text, an access list, a change log, descriptive text,

and some control attributes.

</p><p>Filenames ending in <tt>,v</tt> denote RCS files; all

others denote working files. If a working file is given, <tt>rcs</tt>

tries to find the corresponding RCS file first in an RCS

subdirectory and then in the working file's directory, as explained

for the <tt><a href="co.html">co</a></tt> utility.

</p><p>The RCS filename and the revisions outdated are written to

the diagnostic output.

</p><p>For <tt>rcs</tt> to work, the caller's login name must be on the

access list, <em>unless</em> one or more of the following is true:</p><ul><li> The access list is empty.</li><li> The caller is the owner of the file or the superuser.</li><li> The <tt><b>-i</b></tt> option is specified.</li></ul><p>To delete one revision or a range of revisions, you use the

<tt><b>-o</b></tt><i>range</i> option. The following rules

apply to <i>range</i>:</p><table border>

<tr><th>If <i>range</i> is:</th><th>It means:</th></tr><tr><td>a single revision number</td><td> that revision</td></tr><tr><td>a branch number</td><td>the latest revision on that branch</td></tr><tr><td>of the form <i>rev1</i><tt>:</tt><i>rev2</i>

    </td><td>revisions <i>rev1</i> to <i>rev2</i> on the same branch</td></tr><tr><td>of the form <tt>:</tt><i>rev</i>

    </td><td> from the beginning of the branch containing <i>rev</i> up to and including <i>rev</i></td></tr><tr><td> of the form <i>rev</i><tt>:</tt>

    </td><td> from revision <i>rev</i> to the end of the branch containing <i>rev</i></td></tr></table>

<p>Note that none of the outdated revisions may have branches or locks.

</p>

<h3><a name="id2">Compatibility</a></h3>

<p>To make an RCS file acceptable to prior RCS

versions (by discarding information that would confuse those

versions), use <tt>rcs -V</tt> <i>n</i>.

</p><p>Also note the following:

</p><ul><li> The <tt><b>-b</b></tt><i>rev</i> option generates an

RCS file that cannot be parsed by RCS version 3 or earlier.</li><li> The <tt><b>-k</b></tt><i>subst</i> options (except

<tt><b>-kkv</b></tt>) generate an RCS file that cannot be parsed by

RCS version 4 or earlier.</li></ul><p>For more information on RCS versions, see the <tt><a href="co.html">co</a></tt>

utility.</p>



<h2>Exit status:</h2>

<dl compact>

<dt>0</dt><dd> Successful completion.</dd><dt>&gt;0</dt><dd> An error occurred.</dd></dl>

<p>The exit status is zero only if all operations were successful.</p>



<h2>Files:</h2>

<p>The <tt>rcs</tt> utility accesses files much as <tt><a href="ci.html">ci</a></tt>

does, except that it doesn't need to access the working file or its

directory.</p>



<h2>See also:</h2>

<ul><li><tt><a href="ci.html">ci</a></tt> utility (Check in RCS revisions)</li><li><tt><a href="co.html">co</a></tt> utility (Check out RCS revisions)</li><li><tt><a href="ident.html">ident</a></tt> utility (Identify files)</li><li><tt><a href="rcsdiff.html">rcsdiff</a></tt> utility (compare RCS revisions)</li><li><tt><a href="rcsmerge.html">rcsmerge</a></tt> utility (merge RCS revisions)</li><li><tt><a href="rlog.html">rlog</a></tt> utility (Print info about RCS files)</li><li>Walter F. Tichy, "RCS  &mdash;  A System for Version Control," <cite>Software  &mdash;  Practice

    &amp; Experience 15, 7</cite>, July 1985</li><li>Don Bolinger &amp; Tan Bronson, <cite>Applying RCS &amp; SCCS</cite>, O'Reilly and Associates, 1995</li></ul>



<h2 TITLE="Author:">Author:</h2>

<p>GNU</p>



</body>



</html>

