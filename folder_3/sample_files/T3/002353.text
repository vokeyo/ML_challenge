From akbiocca@lbl.gov  Fri Jan  2 19:16:58 1998
From: Alan K Biocca <akbiocca@lbl.gov>
Date: Fri Jan  2 19:17:02 PST 1998
Subject: Re: Advertising
Hi, Russ. I'd like a good, simple solution (since I have to write and
maintain it).  Registration of users is tough - we have many hundreds, and
they often post from other than their normal address, and many more users
on the newsgroup.

Your post caused me to consider another methodology. At the current time we
have about 30 filters installed that reject quite a bit of junk. Obviously
these are insufficient. However it might be simpler and still effective to
only accept messages that had certain words in them. A list of enabling
words would probably not be hard to come up with that would not occur in
these offensive advertising postings.

I am open to other suggestions.

Regarding "Help Wanted" queries - do folk feel that vxworks related jobs
should be posted here?

Thanks,

Alan K Biocca
Berkeley Lab
Advanced Light Source
Controls Section Leader
VxWorks Exploder software author
akbiocca@lbl.gov

>I don't know about the rest of you out there, but I am getting pretty
>fed up with the unsolicited advertising as of late. This is SUPPOSSED to
>be a forum for users of vxWorks. I can accept "advertising" from WRS or
>other vendors of products related to our work, however advertising for
>life insurance, on-line gambling and just about any product you can
>think of, is out of line. What's worse, is when these items these items
>get incorporated into the daily digest.  Personally, I believe "help
>wanted" ads are also out of place here, but TMHO.
>
>Isn't there something that can be done, maybe require registration of
>users, to eliminate some of this clutter ?
>
>Russ
>-- 




From bmg@pacbell.net  Sat Jan  3 09:04:27 1998
From: mac <bmg@pacbell.net>
Date: Sat Jan  3 09:04:31 PST 1998
Subject: Re: Advertising


>
>Regarding "Help Wanted" queries - do folk feel that vxworks related jobs
>should be posted here?
>

Yes. Emphatically yes.

Brian



From froeber@BBN.COM  Sat Jan  3 10:03:41 1998
From: Fred Roeber <froeber@bbn.com>
Date: Sat Jan  3 10:03:44 PST 1998
Subject: Re: Advertising
On Fri, 2 Jan 1998, Alan K Biocca wrote about filtering out the reams
of junk email that comes through the exploder:

> Hi, Russ. I'd like a good, simple solution (since I have to write and
> maintain it).  Registration of users is tough - we have many hundreds, and
> they often post from other than their normal address, and many more users
> on the newsgroup.
> 
> Your post caused me to consider another methodology. At the current time we
> have about 30 filters installed that reject quite a bit of junk. Obviously
> these are insufficient. However it might be simpler and still effective to
> only accept messages that had certain words in them. A list of enabling
> words would probably not be hard to come up with that would not occur in
> these offensive advertising postings.

This sounds like a very good method. Trying to filter out junk email in
general is a real bear since there are so many sources of it and the
different messages follow no simple formulas (hey, if it was easy to
filter it wouldn't be as effective). With the exploder, however, we
have the strong advantage of having common subject matter. We could
make something as simple as requiring any post to include the words
"vxworks" or "wrs" somewhere in them. If someone wasn't going to reference
one of these words directly they could simply tack one of them on to the
end of the message. The idea works for me. This would also cut down on
some of the irrelavent cross postings that sometimes show up (e.g. the
thread on year 2000 and different facts about dates has been lingering
around too long fueled by cross postings from other groups).

> Regarding "Help Wanted" queries - do folk feel that vxworks related jobs
> should be posted here?

I don't find these posts helpful or of interest but I can see where others
may. Seems it would be better if there was some central web site for
this information where interested people could look.  Just my $.02.  Fred

   |     Fred J Roeber,  BBN Systems & Technologies     |
   |   4 John Clarke Road   Middletown, RI  02842-5202  |
   |         froeber@bbn.com     401-848-3548           |


From norberto@dem.uc.pt  Mon Jan  5 04:21:23 1998
From: "J. Norberto Pires" <norbpires@gemini.ci.uc.pt>
Date: Mon Jan  5 04:21:28 PST 1998
Subject: Re: Advertising
At 11:39 AM 1/5/98, you wrote:
>>Regarding "Help Wanted" queries - do folk feel that vxworks related jobs
>>should be posted here?

Yep! Sometimes this is a nice and faster way of having some help or hint.
Isn't
that one of the reasons to have a mail-list?

Happy new year!

norberto





From mwbrown@sandia.gov  Mon Jan  5 07:40:18 1998
From: "Matthew W. K. Brown" <mwbrown@sandia.gov>
Date: Mon Jan  5 07:40:21 PST 1998
Subject: Re: Advertising
the vxWorks Users Group Exploder wrote:
> 
> Submitted-by akbiocca@lbl.gov  Fri Jan  2 19:16:58 1998
> Submitted-by: Alan K Biocca <akbiocca@lbl.gov>
> ...
> 
> Regarding "Help Wanted" queries - do folk feel that vxworks related jobs
> should be posted here?
> 
> 
Yes!!!


From del@rst.com  Mon Jan  5 16:15:17 1998
From: del@rst.com (Mark Del Giorno)
Date: Mon Jan  5 16:15:21 PST 1998
Subject: fopen() fails on big files
Heyyyyyyyyyyyyyyyyyyyyyyyy,

vxWorks 5.2
Target: MVME162

I'm trying to fopen() a file, and for big files, it fails with:

>0x3ae498 (tShell): memPartAlloc: block too big - 524 in partition 0x99332.
>TIGER:cat: write error: Broken pipe
>S_netDrv_UNIX_FILE_ERROR


The file is 2.3 MB.  I can successfully open 1.6 MB.
What are the vxWorks memory requirements?
Must I have 2.3 MB of memory available to fopen() the file?
[I hope the answer to that is "no".]

I have #INCLUDE_NFS in configAll.h, which I thought was supposed to solve
the problem.

Thanks in advance for any info.

- Mark




    _/_/_/_/  _/_/_/_/ _/_/_/_/_/      Mark Del Giorno   (del@rst.com)
   _/    _/  _/           _/           Robotic Systems Technology
  _/_/_/_/  _/_/_/_/     _/            1234 Tech Court
 _/   _/         _/     _/             Westminster, MD 21157
_/    _/  _/_/_/_/     _/              (410) 876-9200  Fax: 876-9470
                                       http://www.rst.com




From froeber@BBN.COM  Mon Jan  5 19:45:41 1998
From: Fred Roeber <froeber@bbn.com>
Date: Mon Jan  5 19:45:49 PST 1998
Subject: Re: fopen() fails on big files
On Mon, 5 Jan 1998, Mark Del Giorno wrote:

> I'm trying to fopen() a file, and for big files, it fails with:
> 
> >0x3ae498 (tShell): memPartAlloc: block too big - 524 in partition 0x99332.
> >TIGER:cat: write error: Broken pipe
> >S_netDrv_UNIX_FILE_ERROR
> 
> 
> The file is 2.3 MB.  I can successfully open 1.6 MB.
> What are the vxWorks memory requirements?
> Must I have 2.3 MB of memory available to fopen() the file?
> [I hope the answer to that is "no".]
> 
> I have #INCLUDE_NFS in configAll.h, which I thought was supposed to solve
> the problem.

Including NFS IS a key first step in getting to a solution to this
problem.  The problem is that the file is being opened using the
default VxWorks file system driver; netDrv. Note the error code
S_netDrv_UNIX_FILE_ERROR which references the system service reporting
the error and is always a good clue to the problem source. To get
around the use of netDrv, it isn't enough to include the NFS driver
in your VxWorks image. You also have to mount a file system using the
NFS driver and then make sure to access (i.e. open) a file on the
mounted file system.  To mount a file system use the call:
     nfsMount(host, fileSystem, localName)

The VxWorks programmer guide goes into detail on mounting file systems
using NFS. Once the system is mounted (check the return status from
nfsMount), opening a file that starts with the localName cited above
will result in a file that is accessed using NFS. NFS writes the files
in blocks (nominally 8KB). Thus, you don't need a huge memory to access
a large file. You don't say what operations you do on the file but
there are some minor differences between the operations supported by
the two drivers (e.g. flushing and appending to files).  Good luck.
Fred

   |     Fred J Roeber,  BBN Systems & Technologies     |
   |   4 John Clarke Road   Middletown, RI  02842-5202  |
   |         froeber@bbn.com     401-848-3548           |


From jagan@wipinfo.soft.net  Mon Jan  5 23:15:47 1998
From: Jagan Mohan <jagan@wipinfo.soft.net>
Date: Mon Jan  5 23:15:58 PST 1998
Subject: VxGdb

Hi !

Can someone give me the deatils of using VxGdb 2.0..
I have a remote MIPS target and am doing source debugging using Slip.
(Remote CPU : R3000 MIPS, OS : Vxworks 5.1, compiler :  ccx)
Though I have done the configuration as given in the manual,
my target CPU crashes after debugging for a few minutes. More the
breakpoints I have in the source code, faster is the crash.
Also, without this source level debugging, code seems fine and target
CPU never hangs.

Someone had similar problem using VxGDB ..?

Thanx in advance

Jagan



From c.j.slominski@larc.larc.nasa.gov  Tue Jan  6 11:35:39 1998
From: "Christopher J. Slominski" <c.j.slominski@larc.larc.nasa.gov>
Date: Tue Jan  6 11:35:42 PST 1998
Subject: Serial I/O
Group,
	I am going to use the standard VxWorks serial driver for COM2 on my
PowerPC 604.  Documentation for the "read" function implies that it returns
immediately, providing the number of bytes read up to the maximum specified
in the command.  I also have read a warning in WRS documentation that the
"read" and "write" functions may block.  Does the "read" ever wait for the
device, or will it always return the number of bytes available (0 to
maxBytes) if no ERROR occurs?  Is this configurable with "ioctl"?
     Do the device driver's functions (and other VxWorks system calls)
become part of the task thread calling them, and can be interrupted by
higher priority tasks?  Does "read" or other system calls have critical
sections where they become non-interruptable?  If so, for any significant
time?  There must be some semaphore work done in "read" which is treated as
a critical section.  I am trying to assess how a "read" in a low priority
background task, fetching continuous slow rate data, will effect my  system
determinism.

   *----------------------------------------*
   |  Christopher J. Slominski              |
   |   Computer Sciences Corporation (CSC)  |
   |   3217 N. Armistead Ave.               |
   |   Hampton, VA 23666                    |
   |   (757) 766-8258                       |
   |   c.j.slominski@larc.nasa.gov          |
   |   NASA Mail Stop 931                   |
   *----------------------------------------*



From koch@tcville.ES.HAC.COM  Tue Jan  6 16:05:21 1998
From: koch@tcville.ES.HAC.COM (Kim Chacon)
Date: Tue Jan  6 16:05:24 PST 1998
Subject: question on how to do non-blocking keyboard reads

Hello fellow VxWorks users:

I am using VxWorks 5.3 on a Vista PowerPC processor.

I need to be able to read the keyboard, one character
at a time, in a non-blocking (polling) mode.

I have successfully used the ioctl() and read() calls
to read a single character at a time, but the read() call
is blocking until a key gets entered on the keyboard.

Does anyone know how to configure the file descriptor, so
that the read call is non-blocking?

I've checked the VxWorks documentation, but have not found a
solution yet.

Any help would be appreciated.

Thank you and regards,
Kim M. Chacon
Raytheon Systems
El Segundo, California
phone: (310) 616-6471
email: chacon@tcville.es.hac.com (at internet)


From AKBiocca@lbl.gov  Tue Jan  6 17:16:00 1998
From: Alan K Biocca <AKBiocca@lbl.gov>
Date: Tue Jan  6 17:16:04 PST 1998
Subject: ALL READ - New Exploder Filter
Based on the response I received regarding advertising annoyance I have
tenatively installed a filter that REQUIRES the word 'vxworks' in the
message body or subject (case not important) in order that it be exploded.

This does not apply to the newsgroup (we have no control over that at the
current time), or to the digests from the newsgroup (this will take
additional programming and could be done in the future).

If an article submitted does not have the word 'vxworks' somewhere within
it - it will not be posted, and will silently sink into the abyss of
rejected postings. We may consider allowing rejects to be viewed with a web
page for the five days they hang around in the system.

Give us feedback on this 'new' feature - do we want it or not?

Thanks, and back to our regular service

-- Alan K Biocca
   exploder software author




From AKBiocca@lbl.gov  Tue Jan  6 17:42:58 1998
From: Alan K Biocca <AKBiocca@lbl.gov>
Date: Tue Jan  6 17:43:02 PST 1998
Subject: ALL READ - New Exploder Filter

Based on the response I received regarding advertising annoyance I have
tenatively installed a filter that REQUIRES the word 'vxworks' in the
message body or subject (case not important) in order that it be exploded.

This does not apply to the newsgroup (we have no control over that at the
current time), or to the digests from the newsgroup (this will take
additional programming and could be done in the future).

If an article submitted does not have the word 'vxworks' somewhere within
it - it will not be posted, and will silently sink into the abyss of
rejected postings. We may consider allowing rejects to be viewed with a web
page for the five days they hang around in the system.

Give us feedback on this 'new' feature - do we want it or not?

Thanks, and back to our regular service

-- Alan K Biocca
   exploder software author




From daemon@csg.lbl.gov  Wed Jan  7 04:00:33 1998
From: daemon@csg.lbl.gov
Date: Wed Jan  7 04:00:36 PST 1998
Subject: comp.os.vxworks newsdigest

Comp.Os.Vxworks Daily Digest    Wed Jan  7 04:00:29 PST 1998

        Subject: Re: Advertising

-------------------------------------------------------

Newsgroups: comp.os.vxworks
Subject: Re: Advertising
Date: Tue, 6 Jan 1998 13:07:17 -0800
From: "Jerry Asher" <asher@dnai.com>
Organization: DNAI ( Direct Network Access )
Message-ID: <68v4f5$2rv$1@castor.dnai.com>
References: <3.0.1.32.19980103090334.00b7e6a0@pacbell.net>

>>Regarding "Help Wanted" queries - do folk feel that vxworks related jobs
>>should be posted here?
>>
>
>Yes. Emphatically yes.


Seconded with a resounding YES!

Jerry



---------------------------

End of New-News digest
**********************


From uchenick@tis4000.com  Wed Jan  7 04:05:45 1998
From: Gordon Uchenick <uchenick@tis4000.com>
Date: Wed Jan  7 04:05:48 PST 1998
Subject: RE: question on how to do non-blocking keyboard reads

Vxworks vxworks vxWorks VXWORKS

Does anyone know how to configure the file descriptor, so
that the read call is non-blocking?

Three methods come to mind.

First, you could use the FIONREAD ioctl to determine if there
were any bytes available in the input buffer. If the return is
positive, then there are bytes in the buffer and a read call will
not block. If zero, then a read would block, so DON'T do it. I
have used this technique successfully.

Second way, try setting FIONBIO in your ioctl. This sets the
fd to non-blocking. Doing a read call on an fd with no data ready
returns ERROR with ERRNO set to EWOULDBLOCK. I have
not used this technique on serial lines, but I have used it on
sockets with good results.


Third, it seems to me that using the select call to determine if the
fd is ready for reading is the most straightforward and portable
way to solve your problem. Select transfers to other operating
systems easily.

Contact me directly if you want to discuss this further.

Gordon
uchenick@tis4000.com








From currie@ghg.net  Wed Jan  7 05:49:36 1998
From: currie@ghg.net (Alan Currie)
Date: Wed Jan  7 05:49:41 PST 1998
Subject: vxworks Re: ALL READ - New Exploder Filter

I like it.


From a.g.kirke@ieee.org  Wed Jan  7 07:35:15 1998
From: Al Kirke <a.g.kirke@ieee.org>
Date: Wed Jan  7 07:35:19 PST 1998
Subject: Re: vxworks Re: ALL READ - New Exploder Filter

At 05:49 AM 1/7/98 PST, you wrote:
>Submitted-by currie@ghg.net  Wed Jan  7 05:49:36 1998
>Submitted-by: currie@ghg.net (Alan Currie)
>
>I like it.
>
>**********
  vxworks    Should this message have filtered?         vxworks



From AKBiocca@lbl.gov  Wed Jan  7 08:53:28 1998
From: Alan K Biocca <AKBiocca@lbl.gov>
Date: Wed Jan  7 08:53:31 PST 1998
Subject: Re: ALL READ - New Exploder Filter

Apparently the filter is working. So far it caught a couple of respondents
who liked the filter and were responding positively to its existence, but
didn't actually include the word vxworks in their messages. Perhaps they
were testing it.

I did actually send the notification twice during my testing, so that is
why there were two messages broadcast. The exploder takes quite awhile to
finish mailing each message.

Thanks, Alan



From CBarkley@NLvl.com  Wed Jan  7 10:02:10 1998
From: "Barkley, Charles (HT-EX)" <CBarkley@NLvl.com>
Date: Wed Jan  7 10:02:14 PST 1998
Subject: RE: ALL READ - New Exploder Filter


>Based on the response I received regarding advertising annoyance I have
>tenatively installed a filter that REQUIRES the word 'vxworks' in the
>message body or subject (case not important) in order that it be exploded.

This seems like a reasonable compromise.  It doesn't necessarily block
help 
wanted ads, only those not specifically stating 'vxworks' (after all,
this IS a 
vxworks group), while keeping unrelated advertising and other spam out.

>=====================================================
>Chuck Barkley
>NextLevel Systems, Inc.      Tel: (215) 773-8509
>2200 Byberry Road            Fax: (215) 773-8536
>Hatboro, PA 19040            Email: cbarkley@nlvl.com
>=====================================================
>


From cpinkard@falcon.kla-tencor.com  Wed Jan  7 10:21:49 1998
From: Christopher Pinkard <cpinkard@falcon.kla-tencor.com>
Date: Wed Jan  7 10:21:52 PST 1998
Subject: Re: vxworks Re: ALL READ - New Exploder Filter

the vxWorks Users Group Exploder wrote:
> 
> Submitted-by a.g.kirke@ieee.org  Wed Jan  7 07:35:15 1998
> Submitted-by: Al Kirke <a.g.kirke@ieee.org>
> 
> At 05:49 AM 1/7/98 PST, you wrote:
> >Submitted-by currie@ghg.net  Wed Jan  7 05:49:36 1998
> >Submitted-by: currie@ghg.net (Alan Currie)
> >
> >I like it.
> >
> >**********
>   vxworks    Should this message have filtered?         vxworks
> 
> **********
>
Glancing through the news group directly, it looks like one 
out of 3 or 4 valid messages might get filtered.

What if we had a list of trigger words, like tornado, 5.3,
5.2, wrs, ...

-- 
----------------------------------------------------
Chris Pinkard             Sr. Staff SW Engineer
KLA-Tencor                RAPID Engineering  
160 Rio Robles            C2-3400
San Jose, CA              95161-9055       
cpinkard@falcon.kla.com   408-875-4346


From AKBiocca@lbl.gov  Wed Jan  7 11:12:36 1998
From: Alan K Biocca <AKBiocca@lbl.gov>
Date: Wed Jan  7 11:12:39 PST 1998
Subject: The Vxworks Exploder itself

VxWorks Exploder History, Credit, Notes

I would like to take this opportunity to review the history and give some
credit for the effort in the VxWorks User's Group Exploder.

As I recall, this all started when Sypko Andreae of Lawrence Berkeley
Laboratory was president of the users group (don't have the date). As was
requested at the users group meeting, he set up an exploder here at LBNL on
the Computing Services mail system, a VMS VAX. After a time the popularity
of this list and the difficulty of managing it as well as problems with
large lists on VMS prompted us to convince him to move it to a small
dedicated Unix box, a Sun 3/80. I was asked to specify the hardware, and
around that time I got more involved and wrote some code to make the list
work better, eventually evolving that into the code running the list today.
Sypko retired and maintenance of the system fell to Mike Bordua, Gary Jung
(our unix administrators), and I.

Mike finally retired the 3/80 and moved the code over to the Sparc. He and
Gary continue to manage this machine, and I the programs.

The larger part of the work is in actually adding and deleting names from
the list. This is alternated between Bill Brown and Loren Shalz.

Thanks to Bill, Loren, Gary, and Mike for their support!

Also thanks to R.P. Singh, the Software Engineering Department Head who
funds the machine it runs on, and to Advanced Light Source management (Ben
Feinberg, Henry Lancaster et al) who allow us to spend a few minutes on it.

Alan K Biocca
Berkeley Labs (LBL/LBNL)
Advanced Light Source
Controls Section Leader


From aram.nahidipour@spdg.COM  Wed Jan  7 11:26:39 1998
From: aram.nahidipour@spdg.COM (Aram Nahidipour)
Date: Wed Jan  7 11:26:44 PST 1998
Subject: Re: vxworks Re: ALL READ - New Exploder Filter

No because the subject had vxworks


From daemon@csg.lbl.gov  Thu Jan  8 04:00:32 1998
From: daemon@csg.lbl.gov
Date: Thu Jan  8 04:00:36 PST 1998
Subject: comp.os.vxworks newsdigest

Comp.Os.Vxworks Daily Digest    Thu Jan  8 04:00:17 PST 1998

        Subject: NFS for Windows NT 4.0 ???

-------------------------------------------------------

Newsgroups: comp.os.vxworks,comp.realtime,comp.os.ms-windows.nt.admin.networking,comp.os.ms-windows.nt.software.services
Subject: NFS for Windows NT 4.0 ???
Date: Wed, 07 Jan 1998 13:16:37 +0100
From: Maciek Czech <mszymkat@wawel.cyfronet.krakow.pl>
Organization: PHU ControlSoft
Message-ID: <34B37225.1E656C2D@wawel.cyfronet.krakow.pl>

Has anybody such a software ? Where can I buy it ?

Generally I need to mount NT4.0 hard drive on some Unix-like system
(VxWorks).

Thanks for help.

Maciek

---------------------------

End of New-News digest
**********************


From mea@mclean.sparta.com  Thu Jan  8 07:14:41 1998
From: "Mike Anderson" <mea@mclean.sparta.com>
Date: Thu Jan  8 07:14:45 PST 1998
Subject: Re: NFS for Windows NT 4.0 ???


>From: Maciek Czech <mszymkat@wawel.cyfronet.krakow.pl>
>Organization: PHU ControlSoft
>Message-ID: <34B37225.1E656C2D@wawel.cyfronet.krakow.pl>
>
>Has anybody such a software ? Where can I buy it ?
>
>Generally I need to mount NT4.0 hard drive on some Unix-like system
>(VxWorks).
>


Yes.  FTP Software, Inc. makes such a creature for NT 4.0 Server.  
It allows you to mount the NT drives with any standard NFS implementation.
I haven't tried VxWorks specifically, but it *should* work.

HTH,

---------------------------------------------------------------------
|Michael E. Anderson        | Voice -> 703 448 1683 x235            |
|Chief Engineer             | FAX   -> 703 893 5494                 |
|mea@mclean.sparta.com      | http://www.mclean.sparta.com          |
|___________________________|_______________________________________|
|             SPARTA, Inc.              |                           |
|     /\\     C4I Operation             |"Software Development is   |
|    ///\\    7926 Jones Branch Drive   | like making a baby...     |
|   /////\\   Suite 900                 | You can't make a baby in  |
|  /////  \\  McLean, VA 22102          | one month by impregnating |
| / \\\\\  \\ 703-448-0210              | nine women.               |
| \  \\\\\ //                           |                           |
|  \  //////                            | Some things just take     |
|   \//////   SPARTA                    | time."                    |
|    \////    Pride In Performance      |                           |
|     \//     --------------------      |                           |
---------------------------------------------------------------------




From wong@vms.masd.northgrum.com  Thu Jan  8 08:41:56 1998
From: wong@vms.masd.northgrum.com (J. Pierre Wong)
Date: Thu Jan  8 08:42:00 PST 1998
Subject: Uniform Driver Interface (UDI)

Greetings,

Has anyone ever heard of Uniform Driver Interface (UDI)? Is it an addition
to POSIX? Or how is it different?

Does anyone know if WRS plans on implementing the Uniform Driver 
Interface (UDI) into vxworks?

Thanks,


Pierre Wong
wong@vms.masd.northgrum.com


From Eli_Wittner@cti-pet.com  Thu Jan  8 11:29:59 1998
From: "Eli Wittner" <Eli_Wittner@cti-pet.com>
Date: Thu Jan  8 11:30:03 PST 1998
Subject: Re: NFS for Windows NT 4.0 ???





>From: Maciek Czech <mszymkat@wawel.cyfronet.krakow.pl>
>Organization: PHU ControlSoft
>Message-ID: <34B37225.1E656C2D@wawel.cyfronet.krakow.pl>
>
>Has anybody such a software ? Where can I buy it ?
>
>Generally I need to mount NT4.0 hard drive on some Unix-like system
>(VxWorks).
>

I'm not sure if this is what you are asking for, but we use a shareware
product called TropicNFS to mount an NT 4.0 hard drive partition on
vxWorks.  We tried several others, but this one works the best and is
<$20.00 per copy.
Check out      http://www.shareware.com
Hope this helps.

Eli Wittner
CTI Cyclotron Systems, Inc.




From hawthorne@aptec.com  Thu Jan  8 11:39:06 1998
From: "James B. Hawthorne" <hawthorne@aptec.com>
Date: Thu Jan  8 11:39:10 PST 1998
Subject: Re: NFS for Windows NT 4.0 ???

the vxWorks Users Group Exploder wrote:

>From: Maciek Czech <mszymkat@wawel.cyfronet.krakow.pl>
>Organization: PHU ControlSoft
>Message-ID: <34B37225.1E656C2D@wawel.cyfronet.krakow.pl>
>
>Has anybody such a software ? Where can I buy it ?
>
>Generally I need to mount NT4.0 hard drive on some Unix-like system
>(VxWorks).
>

Hummingbird Communications, Ltd (http://www.hcl.com) has a product
called Maestro NFS Server (http://www.hummingbird.com/products/maestro/)
that should do just fine. I have used Hummingbird products in the past
and found them to do tremendously well.  The Maestro NFS Client package
worked real well at my previous place of employment.

Sun also has has a product called PCNFS Pro. However, the last time I
used this product it was not available for the NT platform and did not
run well on Windows 95 along side of the Microsoft network client.

Best Regards,

Jim

=================================================================
  James B. Hawthorne             |  voice: (505)767-1228
  Realtime Systems Engineer      |  fax:   (505)768-1379
  Applied Technology Associates  |
  1900 Randolph Road SE          |  email: hawthorne@aptec.com
  Albuquerque, NM 87106          |  http://www.aptec.com
=================================================================


From mmcquade@slave2.aa.net  Thu Jan  8 14:06:41 1998
From: Mike McQuade <mmcquade@slave2.aa.net>
Date: Thu Jan  8 14:06:45 PST 1998
Subject: Re: NFS for Windows NT 4.0 ???

At 11:39 AM 1/8/98 PST, you wrote:

>>From: Maciek Czech <mszymkat@wawel.cyfronet.krakow.pl>
>>Organization: PHU ControlSoft
>>Message-ID: <34B37225.1E656C2D@wawel.cyfronet.krakow.pl>
>>
>>Has anybody such a software ? Where can I buy it ?


vxworks


We use Diskshare from Intergraph, we use it on a nearly daily
basis to write data from our VxWorks targets (mv2600, VxWorks 5.3.1)
to PC running NT 4.0 sp 3.



The software is easy to install, runs great, and you can get
a fully functional demo from:


http://www.intergraph.com/iss/products/prodtool/nfs/



Mike






From daemon@csg.lbl.gov  Fri Jan  9 04:00:36 1998
From: daemon@csg.lbl.gov
Date: Fri Jan  9 04:00:41 PST 1998
Subject: comp.os.vxworks newsdigest

Comp.Os.Vxworks Daily Digest    Fri Jan  9 04:00:30 PST 1998

        Subject: What's VxWorks
        Subject: Re: VxWorks in Flight Software?

-------------------------------------------------------

Newsgroups: comp.os.vxworks
Subject: What's VxWorks
Date: 8 Jan 1998 13:22:12 GMT
From: pdumon@eduserv1.rug.ac.be (Pieter Dumon)
Organization: University of Ghent, Belgium
Message-ID: <692ju4$ff0$1@inf6serv.rug.ac.be>

I never heard of VxWorks before visiting this newsgroup. 
I know it's a shame, but if anyone could give me a nice introduction ...


- --
########################################
#                                      # 
# Pieter Dumon                         #
#				       #
# Pieter.Dumon@rug.ac.be               #
#                                      #
# http://studwww.rug.ac.be/~pdumon     #
########################################

---------------------------

Newsgroups: comp.os.vxworks
Subject: Re: VxWorks in Flight Software?
Date: Thu, 08 Jan 1998 13:22:53 -0800
From: Matt Cosby <m_cosby@scs.dra.hmg.gb>
Organization: DERA
Message-ID: <34B543AD.140D@scs.dra.hmg.gb>
References: <903015884273D111A8FA00805FCCEB4319FB67@fl51m01.space.honeywell.com> <34AA941E.6FCF@csi.jpl.nasa.gov> <34B3C699.167E@nist.gov>
Reply-To: m_cosby@scs.dra.hmg.gb

- -- 
We at DERA, in the UK, are using VxWorks for the control software for an
experiment on-board our STRV 1d satellite. This is scheduled to be
launched in 1999.

Regards

Matt. 




- ------------------------------------------------
Matt Cosby 
SpaceCraft Environment & Protection,
Space Department,
Room G081, Arthur C Clarke Building,
DERA Farnborough,
Hants, UK.
GU14 0LX.             44-(0)1252-396313
- ------------------------------------------------

---------------------------

End of New-News digest
**********************


From daemon@csg.lbl.gov  Sat Jan 10 04:02:12 1998
From: daemon@csg.lbl.gov
Date: Sat Jan 10 04:02:15 PST 1998
Subject: comp.os.vxworks newsdigest

Comp.Os.Vxworks Daily Digest    Sat Jan 10 04:02:10 PST 1998

        Subject: VxWorks/Tornado for DSP
        Subject: VxWorks/Tornado for DSP
        Subject: Re: File I/O problems
        Subject: TSR 16443 - MV167 VME TAS patch.
        Subject: [Help] VxWorks network !!

-------------------------------------------------------

Newsgroups: comp.os.vxworks,comp.realtime,comp.dsp,sci.engr.control
Subject: VxWorks/Tornado for DSP
Date: Fri, 09 Jan 1998 18:37:13 +0100
From: Friedrich Scheurer / ZFS <zfssrr@zfssun6.tz.rus.uni-stuttgart.de>
Organization: Zentrum Fertigungstechnik Stuttgart
Message-ID: <34B66049.4D72@zfssun6.tz.rus.uni-stuttgart.de>
References: <34B2BB9A.81C3F459@integralaccess.com>

Hi,

Is there anyone who already uses VxWorks/TORNADO for DSPs? 
What state of development has WRS at this point? 
Are there any experiences? 
What platforms are supported?
Who offers complete CPU-I/O-Systems?

F. Scheurer

+--------------------------------------------+
|                                            |
| Dipl.-Ing. F. Scheurer                     |
|                                            |
| c/o ZFS                                    |
| Zentrum Fertigungstechnik Stuttgart        |
| Center for Production Technology Stuttgart |
| Nobelstrasse 15                            |
| D-70569 Stuttgart                          |
|                                            |
| Telefon +49 711 13162-41(-0)               |
| Fax     +49 711 13162-11                   |
| E-Mail  scheurer@zfs.rus.uni-stuttgart.de  |
|                                            |
+--------------------------------------------+
|                                            |
| privat:                                    |
| Telefon +49 7161 686362                    |
| Fax     +49 7161 686301                    |
| E-Mail  Friedrich.Scheurer@t-online.de     |
|                                            |
+--------------------------------------------+

---------------------------

Newsgroups: comp.os.vxworks
Subject: VxWorks/Tornado for DSP
Date: Fri, 09 Jan 1998 19:28:37 +0100
From: Friedrich Scheurer / ZFS <zfssrr@zfssun6.tz.rus.uni-stuttgart.de>
Organization: Zentrum Fertigungstechnik Stuttgart
Message-ID: <34B66C55.298A@zfssun6.tz.rus.uni-stuttgart.de>
References: <34B2BB9A.81C3F459@integralaccess.com> <34B66049.4D72@zfssun6.tz.rus.uni-stuttgart.de>

Hi,
 
Is there anyone who already uses VxWorks/TORNADO for DSPs?
What state of development has WRS at this point?
Are there any experiences?
What platforms are supported?
Who offers complete CPU-I/O-Systems?

F. Scheurer

+--------------------------------------------+
|                                            |
| Dipl.-Ing. F. Scheurer                     |
|                                            |
| c/o ZFS                                    |
| Zentrum Fertigungstechnik Stuttgart        |
| Center for Production Technology Stuttgart |
| Nobelstrasse 15                            |
| D-70569 Stuttgart                          |
|                                            |
| Telefon +49 711 13162-41(-0)               |
| Fax     +49 711 13162-11                   |
| E-Mail  scheurer@zfs.rus.uni-stuttgart.de  |
|                                            |
+--------------------------------------------+
|                                            |
| privat:                                    |
| Telefon +49 7161 686362                    |
| Fax     +49 7161 686301                    |
| E-Mail  Friedrich.Scheurer@t-online.de     |
|                                            |
+--------------------------------------------+

---------------------------

Newsgroups: comp.os.vxworks
Subject: Re: File I/O problems
Date: 9 Jan 98 18:20:15 GMT
From: georg@sgl.crestech.ca (Georg Feil)
Organization: Centre for Research in Earth and Space Technology
Message-ID: <georg.884370015@s2.sgl.ists.ca>
References: <691co9$sn4@clarknet.clark.net> <34B53331.6725@most.fw.hac.com>

"Troy A. Moon" <tamoon@most.fw.hac.com> writes:
>Jeff wrote:
>> 
>> I have a nagging File I/O problem that I can't seem to pinpoint.  The
>> problem occurs during file close() and/or fclose() function calls that cause
>> memPartFree (invalid block) errors, and subsequently suspends the offending
>> task.   Using the stack trace, I can see that the file descriptors/pointers
>> are valid, and they're listed when I use iosFdShow from the shell (after the
>> error).
>> 
>> I have about a dozen tasks in my app; about 8 perform file I/O.  Every file
>> I/O task is equally capable of generating the error, and there's no
>> commonality among the files being closed.  There's no pattern specific to
>> any event or task that causes this error; at least none that I can find.
>> 
>> What's particularly annoying is that the error is very infrequent, on the
>> order of 1 "crash" per month.
>> 
>> More details;
>> 
>> VxWorks 5.1.1
>> MVME167 SBC
>> 4Gig SCSI hard drive
>> dosFs filesystem
>> 
>> I would appreciate any suggestions on debugging this problem.  Thanks.
>> 
>> Jeff Clements
>> Embedded Systems Design, Inc.
>> jeff.clements@embedded-sys.com


While this could very well be caused by memory overwrites, we had a very
similar problem back in '94 that was caused by a VxWorks bug. More exactly,
it's a CPU hardware bug that the VxWorks BSP didn't handle right. Back then
we had mv167 BSP version 1.0 (last change to sysLib.c was 02d,27feb93,ccc),
so if your BSP is newer this bug may already be fixed. Have a look, if so
this should be obvious.

Implementing the following patch solved our problem. This applies only to
VxWorks 5.1.1!

Good luck,
Georg


Date: 	Tue, 5 Apr 1994 14:32:11 -0400
From: Jerald Pendleton <jerald@wrs.com>
Subject: TSR 16443 - MV167 VME TAS patch.
Status: RO




] 						Date: 03-02-1994
] 						Submitted by: Vinai Kolli
] 
] 
] 			Sub: 	Configuration changes 
] 				which provide workaround for the 
] 				back plane problem for the motorolla mvme162.
] -----------------------------------------------------------------------------
] 
] Due to snoop problems with the Test And Set (TAS) command from the
] VMEbus the following modifications are necessary until the TAS
] command can be snooped from the VMEbus.  The shared memory pool
] will be defined in low memory, and will be marked as non-cacheable
] by the local processor.  The VMEchip will have the snoop control
] bits turned off.  This will not effect the cache and snooping for
] the on-board devices such as ethernet and SCSI, as snooping will
] still be turned on for those devices.
] The size of the memory required for the shared memory should be a multiple
] of 8k which is the default page size for the mmu.
] Any interprocessor communication which is done through a shared memory
] should make sure that the cache is disabled for that shared memory location.
] These changes would be in effect until motorolla fixes the snooping 
] problems. The following changes apply to mvme162 and mvme167
] 
] 	File		Changes
] ------------------------------------------------------------------------------
] 	config.h	define RAM_LOW_ADRS as 0x20000
] 			define SM_MEM_SIZE  as 0xe000 (64k -8k)
] 			define SM_OBJ_MEM_SIZE as 0x10000 (64k)
] 			define SM_MEM_ADRS as 
] 			RAM_LOW_ADRS - (SM_MEM_SIZE + SM_OBJ_MEM_SIZE)
] 			define  SM_OBJ_MEM_ADRS as
] 			RAM_LOW_ADRS - SM_OBJ_MEM_SIZE
] 			Specifically to mvme167 the macro
] 			USER_D_CACHE_MODE should be defined as
] 			(CACHE_COPYBACK | CACHE_SNOOP_ENABLE)
] 	
] 	MakeSkel	change RAM_LOW_ADRS to 0x20000
] 
] 	sysLib.c	In the function sysHwInit2() add a function code
] 			shown below to the end of the function which disables
] 			the cache for the pages dedicated to the shared 
] 			memory.
] 			
] 			void sysHwInit2 (void)
] 			{
] 			 
] 			....
] 			....
] 			....
] 
] 			#ifdef INCLUDE_MMU_BASIC
] 			    (void) vmBaseStateSet (NULL, (void *)SM_MEM_ADRS,
]                         		SM_MEM_SIZE + SM_OBJ_MEM_SIZE,
]                            		VM_STATE_MASK_CACHEABLE,
]                            		VM_STATE_CACHEABLE_NOT);
] 			#endif /* INCLUDE_MMU_BASIC */
] 
] 			#ifdef INCLUDE_MMU_FULL    /* unbundled mmu product */
] 			(void) vmStateSet (NULL, (void *)SM_MEM_ADRS,
] 					SM_MEM_SIZE + SM_OBJ_MEM_SIZE,
]                        			VM_STATE_MASK_CACHEABLE,
]                        			VM_STATE_CACHEABLE_NOT);
] 			#endif /* INCLUDE_MMU_FULL */
] 			}
] 
] 	sysLib.c 	In the function sysProcNumSet() inhibit the snooping
] 			by programming the snoop bits in the vmechip2 as
] 			shown below
] 			change the following Macros 
] 			from				to
] 			-----------------------------------------------
] 			(write sink data)		(snoop inhibit)
] 			VSAMSR2_SNP_WSD			VSAMSR2_SNP_INHIBIT
] 			VSAMSR1_SNP_WSD			VSAMSR1_SNP_INHIBIT
] 
] 		
] 


- --
Georg Feil
                                             | http://www.sgl.crestech.ca/
Space Geodynamics Laboratory                 | Email: georg@sgl.crestech.ca
CRESTech                                     | Phone: (416) 665-5458
4850 Keele St./North York/Ont/Canada/M3J 3K1 | Fax: (416) 665-1815

---------------------------

Newsgroups: comp.os.vxworks
Subject: [Help] VxWorks network !!
Date: Fri, 9 Jan 1998 14:00:39 -0500
From: "Huy M.T.T Nguyen" <nguyenh@swlpfg.ed.ray.com>
Organization: Raytheon Electronic Systems
Message-ID: <Pine.SUN.3.91.980109134431.2822B-100000@swlpfg.ed.ray.com>
References: <01bd194c$8cd57450$fa35afce@marcia>


Hi All !!

 I am just beginning to learn how to use Vxworks functions for my 
project. Therefore, I want to ask all of you to help or give me some 
directions of using VxWorks

Here is my task...

 There is a server machine that is running under VxWorks operation system.
And my job is write an interface GUI to get all the data from users, 
then send that data into the server by either TCP/IP or UDP. I know the 
IP address of the server. So I can make a connection from my workstation 
to that server and send all the data. BUT I have a problem that How can 
I know that the server get all the data correctly and How can I get that 
data from the server.. Thus, I can compare my input with the output of 
the server.

 What kind of functions of VxWorks should I use ? and How can I get the 
data from the server side ??

Thanks !!


     /-_-\     
    /  /  \     
   /  /    \    @}-,'-- Huy M.T.T Nguyen --,'-{@
   \  \    /   
    \__\__/     Raytheon Electronic System, Inc.  
       \\                  --Seasparrow Missile Team --
       -\\    ____
         \\  /   /  " Life is too short to waste, better have fun  
   ____   \\/___/                                     while you still can. " 
   \   \ -//
    \___\//-
       -//
        \\
 



---------------------------

End of New-News digest
**********************


From mam@pluto.dspt.com  Sat Jan 10 10:24:58 1998
From: "Mark Menge" <mam@pluto.dspt.com>
Date: Sat Jan 10 10:25:01 PST 1998
Subject: Searching for DOSFS workarounds, bandages, tourniquets

We have been seeing more flakiness with vxWorks' DOSFS.

Sometimes a disk will get into a reproduceable state where several k of  memory is 
lost after creating and closing a new file. Reformatting is the only 
cure.  I understand it normally loses about 20 bytes for each new file on the disk.
Since our system can write lots of data we have cases where our memory monitor shows the 
memory getting quickly sucked up 

1. Has anyone seen this?

2. Does anyone have source code to check if files are cross linked?
 I heard if the system is turned off with a open file, you could get  
 cross linked files.

3. Anyone else know of other nonboard specific gotchas and fixes?





From mabrouk@nortel.ca  Sun Jan 11 10:55:05 1998
From: "Mabrouk Aboughanaima" <mabrouk@nortel.ca>
Date: Sun Jan 11 10:55:08 PST 1998
Subject: MPC860 Interrupts

Hi All,

I'm developing a C++ application using vxWorks 5.3.1 for a PowerPC860
platform. I am trying to connect an ISR to handle an external interrupt which is
a level interrupt but I have no luck yet. When I invoke the function that connects
the ISR fron windSh or CrossWind, I neve get control back, it seems the system is too busy doing something
even though the exeternal device's interrupt is not enabled yet.

When I enable the exeternal device interrupt and then invoke the function that connect the ISR
I get the message lost connection to target from windSh.

Here is the code.

//function that clears/sets the external interrupt. 

void setInterrupt(int state)
{
	unsigned char data = 0;
	int ret = -1;
			 
	if ( state == 1)
	{
		if (( !read(0x59, data)))  //read control register
	    {
		 
			 data |= (1 << 1);

			 ret =  write(0x19, data);
	    }

	}	
	else
	{	
		 if (!read(0x59, data))  //read control register
		 {
		 
			 data &=  (~(1 << 1));

			ret =  write(0x19, data);
		 } 
	
	}
	logMsg("\nin setInterrupt(return) %d\n", ret, 0,0,0,0,0);
}

void isr(void)
{

     unsigned long pimmr = vxImmrGet();

	 setInterrupt(0);           //clear interrupt
				   
	 *SIPEND(pimmr) |= SIEL_ED4;  // reset the SIPEND bit corressponding to IRQ4
	   
	 
	logMsg("\nin isr\n", 0, 0,0,0,0,0);
     
}


int initISR()
{ 
    unsigned long pimmrbase = vxImmrGet();
	

    if ( intConnect(IV_IRQ4, (VOIDFUNCPTR) isr, 0) == OK )
    {
	 *SIEL(pimmrbase) &=  ~SIPEND_IRQ4;
  
	 *SIMASK(pimmrbase) |=  SIMASK_IRM4;   //This is where it seems to be stuck at
	 return 0; 
    }
    else
   {
	printf("\nintConnect failed\n");
	return -1;
   }	
	  	   		  
}




Any help will be greatly apprecaited. Please e_mail or call me.

Thanks a million.

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
+  Mabrouk Aboughanaima            + Tel: (613) 763-6000         +
+  CDMA Radio Software             +      ESN:  393-6000         +
+  Nortel Wireless Networks        + FAX: (613) 763-2686         +
+  P.O. Box 3511, Station 'C'      + Internet: mabrouk@nortel.ca +
+  Ottawa K1Y 4H7 Canada           +                             +
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++               
                                                           
                                            


From daemon@csg.lbl.gov  Tue Jan 13 04:00:51 1998
From: daemon@csg.lbl.gov
Date: Tue Jan 13 04:00:56 PST 1998
Subject: comp.os.vxworks newsdigest

Comp.Os.Vxworks Daily Digest    Tue Jan 13 04:00:49 PST 1998

        Subject: POSIX Threads
        Subject: RogueWave and VxWorks
        Subject: Re: RPC Between Windows NT 4.0 and VxWorks 5.3.1

-------------------------------------------------------

Newsgroups: comp.os.vxworks
Subject: POSIX Threads
Date: Mon, 12 Jan 1998 06:40:18 -0500
From: "John A. Koback" <jakoback@erols.com>
Organization: Erol's Internet Services
Message-ID: <69cvcb$6na$1@winter.news.erols.com>

Can anyone tell me if VxWorks supports a Posix Threads C++ implementation.
Are there any other news groups or sites to visit that will have this info.
Anything information that you could provide would be appreciated.
   Thanks
     John  (jakoback@erols.com)





---------------------------

Newsgroups: comp.os.vxworks
Subject: RogueWave and VxWorks
Date: 12 Jan 1998 07:25:40 -0500
From: waldbuss@tif252.ed.ray.com (Lorraine Waldbusser)
Organization: Raytheon Company.
Message-ID: <yswra6d98vv.fsf@tif252.ed.ray.com>
Reply-To: waldbuss@ed.ray.com
Sender: waldbuss@tif252.ed.ray.com


Hi,

I'm interested in finding out if anyone has ever tried to use
RogueWave on VxWorks. If so, what C++ compiler were you using and what
issues/problems you had with the attempt.

Thanks.

Lorraine Cash
- -- 
*************************************************************
*  Lorraine L. Cash             Raytheon Electronic Systems *
*                               Software Engineering Lab    *
*                               RAPID Laboratory            *
*  Tel:   (508)440-3236         528 Boston Post Road        *
*         (508)490-2574         Sudbury, MA 01776           *
*  Email: waldbuss@ed.ray.com                               *
*************************************************************

---------------------------

Newsgroups: comp.os.vxworks
Subject: Re: RPC Between Windows NT 4.0 and VxWorks 5.3.1
Date: Mon, 12 Jan 1998 15:50:28 -0800
From: "John Finley" <john@finley.com>
Organization: Netcom
Message-ID: <69eavu$st2@sjx-ixn8.ix.netcom.com>
References: <696dhm$7q3$1@ha2.rdc1.az.home.com>


Brian Tucker wrote in message <696dhm$7q3$1@ha2.rdc1.az.home.com>...
>I'm fairly new to VxWorks OS so I have no idea what RPC services it
>provides.  I have looked over the manuals a little, but I have to say they
>are lacking in information about RPC.  I have done several projects using
>RPC in the NT environment, but now I need a way to connect a NT box with
>several VxWorks boards.  I was hoping that someone out there has done the
>same and could provide a little sample code that I might be able to look
>over.

I think you need ONC RPC, not the Microsoft flavor.
There is a free ONC RPC for NT at
http://set.gmd.de/~mfg/oncrpc.htm
which also has some links to commercial products.

John

- --------------------------------------------------
John Finley                 Engineering Consultant
john@finley.com                  Real Time Systems
(619) 689-0032                Networking Protocols
- --------------------------------------------------



---------------------------

End of New-News digest
**********************


From bobperry@bellatlantic.net  Tue Jan 13 05:09:40 1998
From: "Robert L. Perry" <bobperry@bellatlantic.net>
Date: Tue Jan 13 05:09:51 PST 1998
Subject: 860 Interrupts

One possible problem could be that the cause of the interrupt is not being
reset -writing to the SIPEND register doesn't do anything (see p.12-5
section 12.2.1.3.1)
Perhaps your 860 is interrupt'n like crazy.

We had alot of trouble w/ CPM interrupt support on the 860, here was one
find: many bits in the 860 registers are reset when a '1' is written to the
bit position of interrest.  One example on how *not* to access the CISR
register can be found in ppc860CpmIntrDemux() in ppc860Intr.c

    /* clear the bit in the CISR */
#if 1
    * CISR(regBase) = (1 << intNum);      /* This is correct     */
#else
    * CISR(regBase) |= (1 << intNum);     /* This is not correct */
#endif

The OR operation above appears to be the straigth forward approach to
writing a '1' to the proper bit.  The problem is that the compiler will
read the CISR value, OR the proper bit, then perform a write.  If more than
one bit is set in the CISR, they will all be reset after the |= operation,
which in this case is very sad.

We visited ppc860Intr.c while getting all of the scc's operational and
there is a TSR open w/ WindRiver -to date, our changes have not been
blessed.  If anyone is interrested, please contact me directly as I don't
know what the rules are regarding code segments postings from copyright
material.

Bob Perry
bobperry@bellatlantic.net

At 10:55 AM 1/11/98 PST, you wrote:
>Submitted-by mabrouk@nortel.ca  Sun Jan 11 10:55:05 1998
>Submitted-by: "Mabrouk Aboughanaima" <mabrouk@nortel.ca>
>
>Hi All,
>
>I'm developing a C++ application using vxWorks 5.3.1 for a PowerPC860
>platform. I am trying to connect an ISR to handle an external interrupt
which is
>a level interrupt but I have no luck yet. When I invoke the function that
connects
>the ISR fron windSh or CrossWind, I neve get control back, it seems the
system is too busy doing something
>even though the exeternal device's interrupt is not enabled yet.
>
>When I enable the exeternal device interrupt and then invoke the function
that connect the ISR
>I get the message lost connection to target from windSh.
>
>Here is the code.
>
>//function that clears/sets the external interrupt. 
>
>void setInterrupt(int state)
>{
>	unsigned char data = 0;
>	int ret = -1;
>			 
>	if ( state == 1)
>	{
>		if (( !read(0x59, data)))  //read control register
>	    {
>		 
>			 data |= (1 << 1);
>
>			 ret =  write(0x19, data);
>	    }
>
>	}	
>	else
>	{	
>		 if (!read(0x59, data))  //read control register
>		 {
>		 
>			 data &=  (~(1 << 1));
>
>			ret =  write(0x19, data);
>		 } 
>	
>	}
>	logMsg("\nin setInterrupt(return) %d\n", ret, 0,0,0,0,0);
>}
>
>void isr(void)
>{
>
>     unsigned long pimmr = vxImmrGet();
>
>	 setInterrupt(0);           //clear interrupt
>				   
>	 *SIPEND(pimmr) |= SIEL_ED4;  // reset the SIPEND bit corressponding to IRQ4
>	   
>	 
>	logMsg("\nin isr\n", 0, 0,0,0,0,0);
>     
>}
>
>
>int initISR()
>{ 
>    unsigned long pimmrbase = vxImmrGet();
>	
>
>    if ( intConnect(IV_IRQ4, (VOIDFUNCPTR) isr, 0) == OK )
>    {
>	 *SIEL(pimmrbase) &=  ~SIPEND_IRQ4;
>  
>	 *SIMASK(pimmrbase) |=  SIMASK_IRM4;   //This is where it seems to be
stuck at
>	 return 0; 
>    }
>    else
>   {
>	printf("\nintConnect failed\n");
>	return -1;
>   }	
>	  	   		  
>}
>
>
>
>
>Any help will be greatly apprecaited. Please e_mail or call me.
>
>Thanks a million.
>
>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
>+  Mabrouk Aboughanaima            + Tel: (613) 763-6000         +
>+  CDMA Radio Software             +      ESN:  393-6000         +
>+  Nortel Wireless Networks        + FAX: (613) 763-2686         +
>+  P.O. Box 3511, Station 'C'      + Internet: mabrouk@nortel.ca +
>+  Ottawa K1Y 4H7 Canada           +                             +
>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
      
>                                                           
>         



From bf@kayser-threde.de  Tue Jan 13 06:01:50 1998
From: Florian Bittner <bf@kayser-threde.de>
Date: Tue Jan 13 06:01:58 PST 1998
Subject: Tornado PPC2604 and FDDI

Hello,

has anybody out there used any type of FDDI board together with the
Motorola MVME 2604 yet. Preferably I would like to hear about PCI boards
and the performance of tcp/ip transfers.

Thank you,

Florian Bittner		Software Engineer            __  __   
Kayser-Threde GmbH		Tel +49 341 9125230		|  |/  /  
Dessauerstr.9			Fax +49 341 9122160		| ====<   
04129 Leipzig			Germany			|__|\__\  


From ptp@mclean.sparta.com  Tue Jan 13 06:46:42 1998
From: "Patrick T. Pinkowski" <ptp@mclean.sparta.com>
Date: Tue Jan 13 06:46:45 PST 1998
Subject: Re: Tornado PPC2604 and FDDI

> has anybody out there used any type of FDDI board together with the
> Motorola MVME 2604 yet. Preferably I would like to hear about PCI
> boards
> and the performance of tcp/ip transfers.
>

Florian,

We (SPARTA, Inc.) have a VxWorks Device Driver for the MVME-2604 on the
Interphase 5211 VME Board.  We also have a driver working for the
Motorola MVME 2604 on the Interphase 4511 PMC/PCI Card, but it would
take some work to get that fully optimized.

The performance on the VME Board is 7 MBytes per Second using tcp/ip
transfers.

Regards Pat

--------------------------------------------------
      /\   Patrick T. Pinkowski, Senior Engineer
     /##\        ptp@mclean.sparta.com
    /####\         703.448.1683 x228
   /####/--
  /####/----    SPARTA, Inc.
 -\####\__---   7926 Jones Branch Drive, Suite 900
---\##\  /----  McLean, Virginia  22102
----\##\/\----  (703)448-0210 (Main)
 ----\####\--   (703)893-5494 (Facsimile)
  ----\####/    http://www.mclean.sparta.com
   ---/###/
    -/###/ SPARTA
     \##/  ~~~~~~
      \/   Pride In Performance



From mea@mclean.sparta.com  Tue Jan 13 07:44:53 1998
From: Mike Anderson <mea@mclean.sparta.com>
Date: Tue Jan 13 07:44:57 PST 1998
Subject: RE: Tornado PPC2604 and FDDI

On Tuesday, January 13, 1998 9:02 AM, Florian Bittner wrote:
> Submitted-by: Florian Bittner <bf@kayser-threde.de>
> 
> Hello,
> 
> has anybody out there used any type of FDDI board together with the
> Motorola MVME 2604 yet. Preferably I would like to hear about PCI boards
> and the performance of tcp/ip transfers.
> 

  Yes, we have a device driver for the Interphase 5211 FDDI card working with
the 2604.  Sustained data rates are in the 7+ MBytes/sec for TCP transfers.
We did have quite a few problems with the original port of the driver to the 
2604.  Most of these problems were related to bugs both on the board 
(hardware -- the Universe chip has some major flaws), in the BSP (the 
PCI Raven chip support) and in WRS's PPC port.  After a couple of months
of working with both Motorola and WRS, we were finally able to get
everything working.  But, the 2604 exhibits some really bizzare interrupt 
latency problems related to the PCI <-> VME interface.  Most notably
related to Ethernet activity (via the DEC Ethernet chip) causing VME
interrupts to be deferred for 50-70 us.  So, caveat emptor on the 2604.  

  BTW, our driver for the 5211 also supports SMT 7.3 and we provide you
the software to burn the flash on the 5211 so you can establish a baseline
firmware release for any systems you build :-).

  We also have a driver for the Interphase 4511 PMC FDDI card.  We have 
tested it on the 2604 with good success.  However, the firmware setup
for the 4511 is such that it works well for receiving packets but not
so well for sending packets.  This is supposed to be fixed with a
forthcoming firmware release, but we haven't seen it yet ;-).

HTH,

---------------------------------------------------------------------
|Michael E. Anderson        | Voice -> 703 448 1683 x235            |
|Chief Engineer             | FAX   -> 703 893 5494                 |
|mea@mclean.sparta.com      | http://www.mclean.sparta.com          |
|___________________________|_______________________________________|
|             SPARTA, Inc.              |                           |
|     /\\     C4I Operation             |"Software Development is   |
|    ///\\    7926 Jones Branch Drive   | like making a baby...     |
|   /////\\   Suite 900                 | You can't make a baby in  |
|  /////  \\  McLean, VA 22102          | one month by impregnating |
| / \\\\\  \\ 703-448-0210              | nine women.               |
| \  \\\\\ //                           |                           |
|  \  //////                            | Some things just take     |
|   \//////   SPARTA                    | time."                    |
|    \////    Pride In Performance      |                           |
|     \//     --------------------      |                           |
---------------------------------------------------------------------




From cruz_nojunk@xyplex.com  Tue Jan 13 09:10:59 1998
From: Roger Cruz <cruz_nojunk@xyplex.com>
Date: Tue Jan 13 09:11:03 PST 1998
Subject: Re:Searching for DOSFS workarounds, bandages, tourniquets

>

 I've had a lot of problems with the DOS FS.  The latest is the cross-linked files.   I've
just installed a new patch from WRS.  SPR #8632 which they claim fixes.  I can't say that
it does for sure because I haven't run it long enough to test it.

Please keep me posted on ANY news you find about the DOS FS lib.  Remove "_nojunk" from my
email address.


> >From mam@pluto.dspt.com  Sat Jan 10 10:24:58 1998
> From: "Mark Menge" <mam@pluto.dspt.com>
> Date: Sat Jan 10 10:25:01 PST 1998
> Subject: Searching for DOSFS workarounds, bandages, tourniquets
>
> We have been seeing more flakiness with vxWorks' DOSFS.
>
> Sometimes a disk will get into a reproduceable state where several k of  memory is
> lost after creating and closing a new file. Reformatting is the only
> cure.  I understand it normally loses about 20 bytes for each new file on the disk.
> Since our system can write lots of data we have cases where our memory monitor shows the
> memory getting quickly sucked up
>
> 1. Has anyone seen this?
>
> 2. Does anyone have source code to check if files are cross linked?
>  I heard if the system is turned off with a open file, you could get
>  cross linked files.
>
> 3. Anyone else know of other nonboard specific gotchas and fixes?
>



--
Roger Cruz                           cruz_nojunk@xyplex.com
Xyplex Networks                      w: 508-952-4783
295 Foster Street                    f: 508-952-4887
Littleton, MA 01460





From rtp.co.uk!jge@rtp.co.uk  Tue Jan 13 09:11:25 1998
From: John Efstathiades <jge@rtp.co.uk>
Date: Tue Jan 13 09:11:29 PST 1998
Subject: RE: Tornado PPC2604 and FDDI

>Submitted-by bf@kayser-threde.de  Tue Jan 13 06:01:50 1998
>Submitted-by: Florian Bittner <bf@kayser-threde.de>
>
>Hello,
>
>has anybody out there used any type of FDDI board together with the
>Motorola MVME 2604 yet. Preferably I would like to hear about PCI boards
>and the performance of tcp/ip transfers.

Florian,

Real Time Products has developed a VxWorks network interface driver for the 
Interphase 4511/5511 (PMC/PCI) FDDI cards. The driver integrates into 
VxWorks in the same way as an ethernet driver and allows socket 
applications to run over an FDDI ring. If you would like some more details 
please e-mail me at the address shown below.

Regards,
John Efstathiades

----------------------------------------------------------------
John Efstathiades
Real Time Products Ltd              e-mail:        jge@rtp.co.uk
Chancery House,                     tel:     +44 (0)121 234 6600
8 Edward Street,                    fax:     +44 (0)121 234 6611
Birmingham. B1 2RX. England.        web:    http://www.rtp.co.uk
----------------------------------------------------------------






From JOSIPDI@euromsx.gemse.fr  Tue Jan 13 09:19:00 1998
From: "Josipovici, Diane (MED)" <JOSIPDI@euromsx.gemse.fr>
Date: Tue Jan 13 09:19:04 PST 1998
Subject: EST Cpu32 backend for Tornado 1.0

Hi vxworkers !

I am trying to use an EST emulator to debug a custom board, MC68360
based.
I have the EST Cpu32 backend for Tornado 1.0, and installed it for HPUX
V9 host.
But now, Tornado doesn't communicate with the estcpu32 backend.

error message is :
	Attaching backend...       Error: Can't open
tornado/host/parisc-hpux9/lib/backend/estcpu32.sl file
	failed.
	Error: No backend initialization routine.

I verified that it was not a problem of acces to the file estcpu32.sl
(it is corectly installed).

And the answer of EST support is that they don't support any more
estcpu32 backend for Tornado 1.0, because windRiver itself consider it
as obsolete !!!  So I can't find this old release from EST to verify if
I have the correct file. 

Has anyone an idea to solve this problem ?
Thanks

Diane

> g	                       GE Medical Systems 
> _____________________________________________
> Diane JOSIPOVICI   -  mailto:Diane.Josipovici@med.ge.com
> Software Engineer - Global X-Ray Engineering 
> 283, rue de la Miniere, BP 34
> 78533 Buc Cedex, France
> Tel: 33 (0)1 30 70 98 29 
> Fax: 33 (0)1 30 70 46 70
> 
> 


From currie@ghg.net  Tue Jan 13 12:18:57 1998
From: currie@ghg.net (Alan Currie)
Date: Tue Jan 13 12:19:01 PST 1998
Subject: Vista FDDI device driver for vxWorks

Does anyone have or know of a vxWorks driver for the Vista VC-FDDI-INP2
board?  Thanks.



From kalalau!jmk@uu9.psi.com  Tue Jan 13 21:10:07 1998
From: jmk@acut.com (Joel Katz)
Date: Tue Jan 13 21:10:11 PST 1998
Subject: RPC is not RPC

>Brian Tucker wrote in message <696dhm$7q3$1@ha2.rdc1.az.home.com>...
>>I'm fairly new to VxWorks OS so I have no idea what RPC services it
>>provides.  I have looked over the manuals a little, but I have to say they
>>are lacking in information about RPC.  I have done several projects using
>>RPC in the NT environment, but now I need a way to connect a NT box with
>>several VxWorks boards.  I was hoping that someone out there has done the
>>same and could provide a little sample code that I might be able to look
>>over.
>
>I think you need ONC RPC, not the Microsoft flavor.
>There is a free ONC RPC for NT at
>http://set.gmd.de/~mfg/oncrpc.htm
>which also has some links to commercial products.
>
>John

Just to add to the Noise, there are at least two RPC standards in use today.=
 The first is ONC RPC which was developed by Sun Microsystems and sits under=
 NFS. This is the RPC that comes with vxWorks. The other OSF/DCE RPC, was=
 developed by Apollo Computers(I believe) adopted by OSF as a standard, in=
 the spirit of not cooperating with SUN(my own comments) and later by=
 Microsoft. OSF/DCE RPC is the RPC package available in Windows 95 and=
 Windows NT 4.0.  Of course Microsoft did change many of the API's from the=
 OSF standard ...

Anyway, the easiest way to do NFS between Windows NT and vxWorks is to use=
 ONC RPC. We've been working with the commercial product offering from=
 Noblenet and have been pleased with it. Check out www.Noblenet.com for more=
 information on their product.


Joel Katz, Principal Engineer  --- (603)-577-5895
Acuity Imaging, 9 Townsend West, Nashua, NH 03063 --- (603)-577-5965 (FAX)




From daemon@csg.lbl.gov  Wed Jan 14 04:00:37 1998
From: daemon@csg.lbl.gov
Date: Wed Jan 14 04:00:41 PST 1998
Subject: comp.os.vxworks newsdigest

Comp.Os.Vxworks Daily Digest    Wed Jan 14 04:00:35 PST 1998

        Subject: Re: Network problem

-------------------------------------------------------

Newsgroups: comp.os.vxworks
Subject: Re: Network problem
Date: Tue, 13 Jan 1998 08:19:44 -0500
From: Kevin Bradley <kb+@andrew.cmu.edu>
Organization: Doctoral student, Electrical and Computer Engineering, Carnegie Mellon, Pittsburgh, PA
Message-ID: <4oiqbkC00iWP01TOE0@andrew.cmu.edu>
References: <34BAACD7.EA64AE79@wacos.com>

Excerpts from netnews.comp.os.vxworks: 13-Jan-98 Network problem by
thomas Li@wacos.com 
> My pc486 target can be booted by using floppy disk, no any error if
> using floppy disk boot it.
> The config,h is set as follow:
> #define DEFAULT_BOOT_LINE \
>    fd=0,0(0,0)Wacosserver1:/fd0/vxWorks e=192.168.0.7 h=192.168.0.102
> u=Administrator pw=zhoudd tn=Thomas.Li s=/target/pc486/boot f=0x0"

You probably also need to set a gateway parameter (g=192.168.0.xxx),
which would be the same as your host's gateway, judging from your
network parameters as listed.

You also probably need to add a netmask so that packets are filtered
properly.  My PC-based system boots from the network with the 
following line (I have 3com 3c509 network cards, hence the ELT):

#define DEFAULT_BOOT_LINE \
"elt(0,0)kalamari:pc386/vxWorks_z h=128.2.102.215
e=128.2.102.70:ffffff00 g=128.2.102.254 tn=zaxxon u=vxworks
pw=vxworks o=elt"

The "ffffff00" after the e command is the netmask.  On my
system it's 255.255.255.0, which translates to the above.
If you're not sure of what the proper mask is, look it up on
the NT host; it's in the same tab as the IP address.

> And target server cant launch successful, the error occurs  as
> same as using floppy disk. I guess that is a network problem, how
> can I test the network in this condition?

I had similar problems when I was starting out.  

First, make sure the following things are enabled in your
config.h / configdb.h:

#define INCLUDE_PING
#define INCLUDE_SHOW_ROUTINES
#define INCLUDE_NET_SHOW
#define INCLUDE_SHELL

This will add a "ping" function to your target, so you can attempt
to ping other systems once it boots up.  It also adds the target-
based shell, which you can use with the PC keyboard (since you
say you're booting a 486 PC system, you can use this to your
advantage).  Finally, it adds NET_SHOW, which will display
network information.

Keep on booting from floppy (your first boot line) until the
system is working properly.

Once your system boots and you get a shell prompt, try the
following:

1) "ifShow":  see what network activity is occurring, and if
    your network card is configured properly.

2) "ping":  ping your host, and see if you get any responses.

3) Manual FTP:  try manually FTP'ing to the host, and see if
   you can communicate to the server.  The directions are in
   one of the manuals (I think the programmer's guide).

My problem was getting the netmask right.   After that, all
was copacetic.


Hope this helps...


                                                -- Kevin



---------------------------

End of New-News digest
**********************


From pat.shaw@canada.cdev.com  Wed Jan 14 05:59:18 1998
From: "Shaw, Pat" <pat.shaw@canada.cdev.com>
Date: Wed Jan 14 05:59:24 PST 1998
Subject: Macrolink

Hi:
	Has anyone had any experience with the Macrolink MPC VME  16
card and  Vxworks?. I was wondering if there are any hidden problems
with using it?

Cheers

Patrick Shaw
 COMPUTING DEVICES CANADA


                                     ?
                                    ,,,
                                   (o o)
-------------------------------oOO--(_)--OOo----------------------------

--------





From dlarson@etcconnect.com  Wed Jan 14 08:02:55 1998
From: David Larson <dlarson@etcconnect.com>
Date: Wed Jan 14 08:03:02 PST 1998
Subject: RE: network problem...



> Excerpts from netnews.comp.os.vxworks: 13-Jan-98 Network problem by
> thomas Li@wacos.com 
> > My pc486 target can be booted by using floppy disk, no any error if
> > using floppy disk boot it.
> > The config,h is set as follow:
> > #define DEFAULT_BOOT_LINE \
> >    fd=0,0(0,0)Wacosserver1:/fd0/vxWorks e=192.168.0.7
> h=192.168.0.102
> > u=Administrator pw=zhoudd tn=Thomas.Li s=/target/pc486/boot f=0x0"
> 
Make sure #INCLUDE_NETWORK_INIT is set.
And that usrNetInit() is being called from usrInit() is usrConfig.c
OR
that if #INCLUDE_NET_INIT is not defined, that you are
calling usrNetInit() explicitly after you have booted from floppy.
Make sure that the network device is included in the NETIF structure in 
/wrs/target/src/config/usrNetwork.c.
You will have to give usrNetInit () a pointer to a string with the
same format as your DEFAULT_BOOT_LINE that contains
the name of your network device in place of "fd".
If you use your current DEFAULT_BOOT_LINE, with usrNetInit,
nothing will happen, because there is no network device specified.
If you are using a network device that comes bundled with vxWorks,
things should start working in pretty short order. If you are writing 
your own driver, you need to make sure that there is an entry for
it in the NETIF structure, so that usrNetInit will call your attach() 
function to init the driver/hardware.


> Keep on booting from floppy (your first boot line) until the
> system is working properly.
> 
> Once your system boots and you get a shell prompt, try the
> following:
> 
verify that the ISR for the driver is installed properly, and
that the interrupt is not masked, and is getting enabled.
You need to make sure that the driver is pulling packets
off the wire. 

> 1) "ifShow":  see what network activity is occurring, and if
>     your network card is configured properly.
> 
> 2) "ping":  ping your host, and see if you get any responses.
I would suggest spawing ping as a task:
-> sp ping,  "192,168.0.102", 20,  0
This will keep ping () from hanging the shell if it dies.




From t_wmoles@qualcomm.com  Wed Jan 14 08:27:40 1998
From: Hugh Molesworth <t_wmoles@qualcomm.com>
Date: Wed Jan 14 08:27:43 PST 1998
Subject: Re: 860 Interrupts

Level vs. Edge

When a level-triggered interrupt is received on most machines the interrupt
service routine (ISR) must clear the source of the interrupt or disable
that interrupt until it is known that the source of the interrupt is clear.
By "source of the interrupt" I mean the hardware signal connected to the
processor interrupt line (internally or externally). Normally this signal
would be designed to go inactive when the ISR performs it's task otherwise
when the ISR completes the interrupt will be immediately activated again
and bingo the processor latches up in a ISR-ReturnFromInterrupt-ISR state
until the source goes inactive (if it ever does). Most of us have probably
done this at some time or other. (By the way, I'm not familiar with the 860).

For this reason interrupts are often specified as edge-triggered. Most
processors now correctly latch such events provided they meet minimum
pulse-width requirements. The danger is that such an interrupt is used as a
handshake and one gets missed, which of course can't happen :-), and this
causes some process or other to hang up awaiting the next signal (the one
we just missed). To avoid this most such systems would incorporate some
kind of timeout checking or method to instigate a check that an interrupt
had been issued but not processed, perhaps by the occasional read of a
status register. You can save a lot of grief by checking for that
(impossible) missed interrupt.

Finally level-triggered interrupts can be missed whereas edge-triggered
interrupts "can't" be missed. If a level-triggered interrupt signal goes
active whilst a higher priority interrupt ISR is in progress but goes
inactive before the higher-priority ISR completes then the interrupt will
be missed on lots of machines because it is not latched; in this case
(assuming you wanted to catch it) you should be using an edge-triggered
interrupt or make sure it doesn't go away until the ISR executes. Most
level-triggered interrupt systems are designed to stay active until the ISR
services the interrupt.

Power-fail or other fatal non-maskable interrupts are often level-triggered
simply because they often never go away (and you definitely don't want to
miss them ...).

Hugh
hugh@qualcomm.com

At 05:09 AM 1/13/98 PST, you wrote:
>Submitted-by bobperry@bellatlantic.net  Tue Jan 13 05:09:40 1998
>Submitted-by: "Robert L. Perry" <bobperry@bellatlantic.net>
>
>One possible problem could be that the cause of the interrupt is not being
>reset -writing to the SIPEND register doesn't do anything (see p.12-5
>section 12.2.1.3.1)
>Perhaps your 860 is interrupt'n like crazy.
>
>We had alot of trouble w/ CPM interrupt support on the 860, here was one
>find: many bits in the 860 registers are reset when a '1' is written to the
>bit position of interrest.  One example on how *not* to access the CISR
>register can be found in ppc860CpmIntrDemux() in ppc860Intr.c
>
>    /* clear the bit in the CISR */
>#if 1
>    * CISR(regBase) = (1 << intNum);      /* This is correct     */
>#else
>    * CISR(regBase) |= (1 << intNum);     /* This is not correct */
>#endif
>
>The OR operation above appears to be the straigth forward approach to
>writing a '1' to the proper bit.  The problem is that the compiler will
>read the CISR value, OR the proper bit, then perform a write.  If more than
>one bit is set in the CISR, they will all be reset after the |= operation,
>which in this case is very sad.
>
>We visited ppc860Intr.c while getting all of the scc's operational and
>there is a TSR open w/ WindRiver -to date, our changes have not been
>blessed.  If anyone is interrested, please contact me directly as I don't
>know what the rules are regarding code segments postings from copyright
>material.
>
>Bob Perry
>bobperry@bellatlantic.net
>
>At 10:55 AM 1/11/98 PST, you wrote:
>>Submitted-by mabrouk@nortel.ca  Sun Jan 11 10:55:05 1998
>>Submitted-by: "Mabrouk Aboughanaima" <mabrouk@nortel.ca>
>>
>>Hi All,
>>
>>I'm developing a C++ application using vxWorks 5.3.1 for a PowerPC860
>>platform. I am trying to connect an ISR to handle an external interrupt
>which is
>>a level interrupt but I have no luck yet. When I invoke the function that
>connects
>>the ISR fron windSh or CrossWind, I neve get control back, it seems the
>system is too busy doing something
>>even though the exeternal device's interrupt is not enabled yet.
>>
>>When I enable the exeternal device interrupt and then invoke the function
>that connect the ISR
>>I get the message lost connection to target from windSh.
>>
>>Here is the code.
>>
>>//function that clears/sets the external interrupt. 
>>
>>void setInterrupt(int state)
>>{
>>	unsigned char data = 0;
>>	int ret = -1;
>>			 
>>	if ( state == 1)
>>	{
>>		if (( !read(0x59, data)))  //read control register
>>	    {
>>		 
>>			 data |= (1 << 1);
>>
>>			 ret =  write(0x19, data);
>>	    }
>>
>>	}	
>>	else
>>	{	
>>		 if (!read(0x59, data))  //read control register
>>		 {
>>		 
>>			 data &=  (~(1 << 1));
>>
>>			ret =  write(0x19, data);
>>		 } 
>>	
>>	}
>>	logMsg("\nin setInterrupt(return) %d\n", ret, 0,0,0,0,0);
>>}
>>
>>void isr(void)
>>{
>>
>>     unsigned long pimmr = vxImmrGet();
>>
>>	 setInterrupt(0);           //clear interrupt
>>				   
>>	 *SIPEND(pimmr) |= SIEL_ED4;  // reset the SIPEND bit corressponding to
IRQ4
>>	   
>>	 
>>	logMsg("\nin isr\n", 0, 0,0,0,0,0);
>>     
>>}
>>
>>
>>int initISR()
>>{ 
>>    unsigned long pimmrbase = vxImmrGet();
>>	
>>
>>    if ( intConnect(IV_IRQ4, (VOIDFUNCPTR) isr, 0) == OK )
>>    {
>>	 *SIEL(pimmrbase) &=  ~SIPEND_IRQ4;
>>  
>>	 *SIMASK(pimmrbase) |=  SIMASK_IRM4;   //This is where it seems to be
>stuck at
>>	 return 0; 
>>    }
>>    else
>>   {
>>	printf("\nintConnect failed\n");
>>	return -1;
>>   }	
>>	  	   		  
>>}
>>
>>
>>
>>
>>Any help will be greatly apprecaited. Please e_mail or call me.
>>
>>Thanks a million.
>>
>>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
>>+  Mabrouk Aboughanaima            + Tel: (613) 763-6000         +
>>+  CDMA Radio Software             +      ESN:  393-6000         +
>>+  Nortel Wireless Networks        + FAX: (613) 763-2686         +
>>+  P.O. Box 3511, Station 'C'      + Internet: mabrouk@nortel.ca +
>>+  Ottawa K1Y 4H7 Canada           +                             +
>>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
>      
VxWorks Tornado



From daemon@csg.lbl.gov  Thu Jan 15 04:00:27 1998
From: daemon@csg.lbl.gov
Date: Thu Jan 15 04:00:31 PST 1998
Subject: comp.os.vxworks newsdigest

Comp.Os.Vxworks Daily Digest    Thu Jan 15 04:00:25 PST 1998

        Subject: PPP between VxWorks and Windows NT

-------------------------------------------------------

Newsgroups: comp.os.vxworks
Subject: PPP between VxWorks and Windows NT
Date: Tue, 13 Jan 1998 13:44:16 -0600
From: Wu Yapeng <wu@tdi.uregina.ca>
Organization: University of Regina
Message-ID: <Pine.SGI.3.91.980113134210.1364B-100000@tdi.uregina.ca>

I'm trying to set up a PPP connection across a serial line
with a null modem between my workstation running Windows
NT 4.0 and a 5.3.1 VxWorks MPC860 target.

Has anyone done this and can tell me what PPP parameters
were used on the VxWorks side and what was done on the
Windows side to establish the link?

Thanks for any help,


---------------------------

End of New-News digest
**********************


From moneil@ccmgate.eng.brooktrout.com  Thu Jan 15 04:30:53 1998
From: moneil@brooktrout.com
Date: Thu Jan 15 04:31:00 PST 1998
Subject: WindView questions with Tornado 1.0.1


     Hey
     
     I am using the Tornado 1.0.1 development software and a 401gf BSP. I 
     am attempting to get the WindView tool up and running. I do not have 
     an ethernet port on the target. 
     I understand that the default configuration is for ethernet, but does 
     it have to have one or can a seriel port be used and if so has anyone 
     accomplished this?
     Currently teh WindView does not work and I would like to get it 
     running. Any help would be a great help.
     
     
     Thanks
     O'Neill




From clare@bis.kodak.COM  Thu Jan 15 06:17:00 1998
From: clare@kodak.com (Bill Clare)
Date: Thu Jan 15 06:17:03 PST 1998
Subject: Re: WindView questions with Tornado 1.0.1

> 
>      Hey
>      
>      I am using the Tornado 1.0.1 development software and a 401gf BSP. I 
>      am attempting to get the WindView tool up and running. I do not have 
>      an ethernet port on the target. 
>      I understand that the default configuration is for ethernet, but does 
>      it have to have one or can a seriel port be used and if so has anyone 
>      accomplished this?
>      Currently teh WindView does not work and I would like to get it 
>      running. Any help would be a great help.

Unless I am mistaken you need the ethernet connection for WindView.  I was not
able to run until I got the network connection working. Unlike the other
Tornado Tools, WindView doesn't work over the serial back end.

On page 4 of the WindView 1.0.2 Release Notes, it mentions that "For continuous
monitoring of event data, your target must be equipped with an Ethernet
interface."  It then goes on to mention that it can be over VME through another
board (I was able to use WindView through a PC104-based network card attached
to my x86 based CPU board).  The rest of the paragraph seems to indicated that
if you are willing to use the post-mortem mode then you don't need an ethernet
interface.

billc

Bill Clare, Software Engineer, Eastman Kodak Company   
Email: clare@kodak.com  Mail code: 2/5/EP 35425    Phone: (726)726-9419 
US Mail: 901 Elmgrove Road Rochester NY 14653-5425 Fax: (716)726-0129
Any opinions expressed herein are mine and not those of Eastman Kodak Company.


From espin@idiom.com  Thu Jan 15 06:34:40 1998
From: Geoffrey Espin <espin@idiom.com>
Date: Thu Jan 15 06:34:43 PST 1998
Subject: Re: comp.os.vxworks newsdigest

Wu,

> Subject: PPP between VxWorks and Windows NT
> Date: Tue, 13 Jan 1998 13:44:16 -0600
> From: Wu Yapeng <wu@tdi.uregina.ca>
> I'm trying to set up a PPP connection across a serial line
> with a null modem between my workstation running Windows
> NT 4.0 and a 5.3.1 VxWorks MPC860 target.
> Has anyone done this and can tell me what PPP parameters
> were used on the VxWorks side and what was done on the
> Windows side to establish the link?

I could not get this to work, WRS Tech Support confirmed it doesn't.
Microsoft's PPP (server) is incompatible with standard PPP.

At best, you should be able to insert a "terminal" server,
like a PortMaster, and use it to do the negotiation/conversion.

Alternatively, you can use WDBSERIAL (what I'm currently using)
but then you have no network (!) and are very limited to
what windsh can do for you, e.g. copy a data file back and forth.

Geoff
-- 
Geoffrey Espin espin@idiom.com


From kb+@andrew.cmu.edu  Thu Jan 15 06:36:56 1998
From: Kevin Bradley <kb+@andrew.cmu.edu>
Date: Thu Jan 15 06:36:59 PST 1998
Subject: Re: WindView questions with Tornado 1.0.1

Excerpts from mail: 15-Jan-98 WindView questions with Tor.. by the U. G.
Exploder@lbl.g 
> I am using the Tornado 1.0.1 development software and a 401gf BSP. I 
> am attempting to get the WindView tool up and running. I do not have 
> an ethernet port on the target. 
> I understand that the default configuration is for ethernet, but does 
> it have to have one or can a seriel port be used and if so has anyone 
> accomplished this?

I would think that as long as you can open a socket using the
serial port you'd be ok.  WindView as far as I can tell uses
sockets for communication.

As the serial port has limited bandwidth compared to a network
card, I'd suggest running WindView in post-mortem mode, and
being patient uploading the buffer.  On my system, WindView
can saturate the host uploading events in continuous mode.
In post-mortem mode, I get a more accurate picture of system
activity as well, as the system isn't interrupted by network
activity every couple hundred milliseconds.

See if you can write a small program on the host to wait on a port
(e.g. 6164, which is WindView's default), and then open a socket
to it from the target using the serial port.  If that works, you
should be in business.

I don't know of a restriction in VxWorks that prevents the serial
port from being uses in socket communications, so it should be ok.


                                                        -- Kevin



From uchenick@tis4000.com  Thu Jan 15 07:37:03 1998
From: Gordon Uchenick <uchenick@tis4000.com>
Date: Thu Jan 15 07:37:06 PST 1998
Subject: RE: comp.os.vxworks newsdigest

There was a posting from someone who got this to work.
The posting was about 1-2 months ago. If I can find it at
home tonight I'll send it to you.

> Subject: PPP between VxWorks and Windows NT
> Date: Tue, 13 Jan 1998 13:44:16 -0600
> From: Wu Yapeng <wu@tdi.uregina.ca>
> I'm trying to set up a PPP connection across a serial line
> with a null modem between my workstation running Windows
> NT 4.0 and a 5.3.1 VxWorks MPC860 target.
> Has anyone done this and can tell me what PPP parameters
> were used on the VxWorks side and what was done on the
> Windows side to establish the link?



From chuckvb@ix.netcom.com  Thu Jan 15 10:06:38 1998
From: Chuck Van Blaricom <chuckvb@ix.netcom.com>
Date: Thu Jan 15 10:06:41 PST 1998
Subject: Re: comp.os.vxworks newsdigest



>         Subject: PPP between VxWorks and Windows NT

> Wu Yapeng Wrote:
>
> I'm trying to set up a PPP connection across a serial line
> with a null modem between my workstation running Windows
> NT 4.0 and a 5.3.1 VxWorks MPC860 target.
>
> Has anyone done this and can tell me what PPP parameters
> were used on the VxWorks side and what was done on the
> Windows side to establish the link?
>
> Thanks for any help,
>

Submitted-by espin@idiom.com  Wed Nov 26 10:31:00 1997
>Submitted-by: Geoffrey Espin <espin@idiom.com>

>I've been unsuccessful in using NT4.0 as a pppd/server for
>an i960 vxworks target.
>
>I installed DUN/RAS, setup up a modem (pc 2 pc cable and/or 9600 modem)
>on COM1 and/or COM2 ports, tested h/w connectivity (i.e. was able to see

>control chars come into NT4.0 hypertrm session from the vxworks target),

>so what gives!?
>

        Microsoft developed two new authentication protocols to use
with PPP. MSCHAP or CHAP80 is simillar, but incompatible to CHAP (as
far as I can remember, one of them uses DES and the other uses MD5).
Shiva PAP is the Microsoft equivalent of PAP. Shiva PAP uses encripted
passwords while PAP uses cleartext.

        In order to allow vxWorks to connect to NT, some registry
editing is necessary. Do a search through the registry for SPAP /
Shiva PAP and delete them. Then enable PAP at the vxWorks end and try
to connect.

        The reason that this works is that during the negotiation for
authentication method, an each implementation which knows of more than
one method will prioritise methods. Where a peer attempts to use a
method which is known, but not preferred, an implementation may reject
it in favour of a more secure authentication. By deleting the registry
settings which tell NT which DLL holds Shiva PAP, the negotiation is
reduced to two methods known by each peer. Once MSCHAP is rejected, NT
will now agree to use PAP.

        Further information can be found in Linux documentation on
connecting to an NT server using PPP.

Regards,
        Pete
--
Chuck Van Blaricom
Communication Network Systems, 2525 Walsh Ave, Santa Clara, CA 95051
(408) 235-7039  FAX: (408) 235-7085  EMail: chuckvb@ix.netcom.com




From davidg@telegate.co.il  Fri Jan 16 03:32:12 1998
From: "David Gasul" <davidg@telegate.co.il>
Date: Fri Jan 16 03:32:17 PST 1998
Subject: Any experience with TRI's TargetDB on VxWorks?

This is a multi-part message in MIME format.

------=_NextPart_000_0132_01BD2283.ADBC4960
Content-Type: text/plain;
	charset="iso-8859-8"
Content-Transfer-Encoding: quoted-printable

Hi,

Does anybody have any experience with Technology Rendezvous Inc.
(TRI) TargetDB database on VxWorks?

Sincerely,
Dave


------=_NextPart_000_0132_01BD2283.ADBC4960
Content-Type: text/html;
	charset="iso-8859-8"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD W3 HTML//EN">
<HTML>
<HEAD>

<META content=3Dtext/html;charset=3Diso-8859-8 =
http-equiv=3DContent-Type>
<META content=3D'"MSHTML 4.71.1712.3"' name=3DGENERATOR>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT color=3D#000000 size=3D2>Hi,</FONT></DIV>
<DIV><FONT color=3D#000000 size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT size=3D2>Does anybody have any experience with Technology =
Rendezvous=20
Inc.</FONT></DIV>
<DIV><FONT size=3D2>(TRI) TargetDB database on =
VxWorks?</FONT>&nbsp;</DIV>
<DIV><FONT size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT size=3D2>Sincerely,</FONT></DIV>
<DIV><FONT size=3D2>Dave</FONT>&nbsp;</DIV>
<DIV>&nbsp;</DIV></BODY></HTML>

------=_NextPart_000_0132_01BD2283.ADBC4960--



From daemon@csg.lbl.gov  Fri Jan 16 04:00:20 1998
From: daemon@csg.lbl.gov
Date: Fri Jan 16 04:00:30 PST 1998
Subject: comp.os.vxworks newsdigest

Comp.Os.Vxworks Daily Digest    Fri Jan 16 04:00:18 PST 1998

        Subject: Porting GNAT to vxWorks 5.3.1

-------------------------------------------------------

Newsgroups: comp.os.vxworks
Subject: Porting GNAT to vxWorks 5.3.1
Date: Thu, 15 Jan 1998 11:36:42 -0800
From: Javier Leon <jleon@elrond.sp.trw.com>
Organization: trw
Message-ID: <34BE654A.841D0250@elrond.sp.trw.com>

I am trying to run an Ada benchmark that will be given to us from a
potential customer on our Motorola PowerPC 603e board that is running
vxWorks.  I am also trying to do this on $0 budget on a very short time
frame. 

Has anybody ported GNAT to run on a PowerPC running GNAT ????
Can you help me ??

- -- 
- - Thank You -


>>>>>>>>>>>>>>>>>>>>>>>>><<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
Javier Leon                        TRW 
Software Staff Engineer            Avionics Systems Engineering 
                                   R4/2020
Phone: (310) 814-6826              One Space Park
fax  : (310) (310)814-4941]        Redondo Beach, CA 90728            
 
jleon@elrond.sp.trw.com          Sun   (preferred) 
Javier.Leon@trw.com              Quickmail 
                               
>>>>>>>>>>>>>>>>>>>>>>>>><<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

---------------------------

End of New-News digest
**********************


From BOOJ@kidd.Co.Za  Fri Jan 16 05:08:39 1998
From: Johan Boot <BOOJ@kidd.Co.Za>
Date: Fri Jan 16 05:08:45 PST 1998
Subject: Communication interface

Dear Reader

We are developing target hardware around a PowerPC
processor, using Tornado.  We have a serial line available for
the target connection to the host, but are also looking for
something with more bandwidth.  The harware design does
not provide for DMA transfer or PCI, which rules out (I think),
the use of ehternet. We have to use a device that can be
accessed using only the address and data busses, and the
read, write and interrupt control lines.

One such device that we found is a network controller from
Standard Microsystems Corporation (SMC), implementing an
ARCNET protocol engine.  (the COM20020-5 ULANC).
Do you know if there are drivers (for target server and debug
agent) available for this device (or similar devices).

Is there a different option for implementing the target
connection to the host, that we could use, given the
restrictions of using only the address, data and control bus?

Any help or comments are appreciated and can be sent to:
booj@kidd.co.za

Regards,
Johan



From Susan.J.Henry@lmco.com  Fri Jan 16 07:04:50 1998
From: Susan J Henry <Susan.J.Henry@lmco.com>
Date: Fri Jan 16 07:04:53 PST 1998
Subject: Diagnostics on a MVME1603 board running under VxWorks


Hi,

We're working on an embedded stand-alone system (no networking) that resides on 
a ship.  If a failure is reported or the system isn't functioning properly, the 
sailor will run diagnostics on the PPC MVME1603 board.

Since there is no built-in-test on this board, we need to develop diagnostic 
tests to check out the integrity of the board.  Motorola does deliver PPCBUG 
with the board, however we need to run diagnostics while our application is 
running under VxWorks.  In addition, the sailor is not allowed to remove and 
replace components on the board.

Has anyone developed a set a diagnostics for the 1603 that runs under VxWorks?

Has anyone successfully incorporated PPCBUGs source code into an application 
that runs under vxWorks?


TIA,
Sue Henry
Lockheed Martin Launching Systems
410.682.0776
susan.j.henry@lmco.com


From POST@IMS.fhg.de  Fri Jan 16 08:52:07 1998
From: Rainer Stelzer <POST@IMS.mailgw1.fhg.de>
Date: Fri Jan 16 08:52:11 PST 1998
Subject: Re: Communication interface

In <9801161308.AA24224@csg.lbl.gov>, the vxWorks Users Group Exploder wrote:
>Submitted-by BOOJ@kidd.Co.Za  Fri Jan 16 05:08:39 1998
>Submitted-by: Johan Boot <BOOJ@kidd.Co.Za>
>
>Dear Reader
>
>We are developing target hardware around a PowerPC
>processor, using Tornado.  We have a serial line available for
>the target connection to the host, but are also looking for
>something with more bandwidth.  The harware design does
>not provide for DMA transfer or PCI, which rules out (I think),
>the use of ehternet. We have to use a device that can be
>accessed using only the address and data busses, and the
>read, write and interrupt control lines.
>
>One such device that we found is a network controller from
>Standard Microsystems Corporation (SMC), implementing an
>ARCNET protocol engine.  (the COM20020-5 ULANC).
>Do you know if there are drivers (for target server and debug
>agent) available for this device (or similar devices).
>
>Is there a different option for implementing the target
>connection to the host, that we could use, given the
>restrictions of using only the address, data and control bus?
>
Hi Johan,
we had the same problem around a MC68332 and so I think I can
give you some helpfull hints:

I don't know if you are experienced in hardware design. 
If so excuse the following lesson:
First have to distinguish between passive and active DMA.
In the first case the CPU carries the DMA controller. If your
CPU does not provide a DMAC this is of course no solution for you.
In the second case the network controller has a DMAC. To use this 
option you have to meet the following two requirements.
1. The CPU on the desgin must provide a bus arbitration Interface. 
   I think most 32Bit CPU's fit this option, even controller cores.
2. The Network Controller's memory interface must be able to handle
   your system memory. (most of them use intel and/or motorola or a
   generic timing).
   Especially in controller applications you can't avoid the usage
   of glue logic to adapt the interfaces. This is because most of    
   them have a "programmable glue logic" on chip, and this logic isn't
   accessable by a external busmaster (DMAC)
We successfully used a veteran under the ethernet controllers in one
of our systems: the AMD 7990. But there are a lot of more modern ones.


However, you do not have to use DMA at all.
DMA is very popular because the nc's can use the system memory for
paket backup which makes the system cheap and fast (because less
CPU copy operations take place and no further memory is neccessary)   

There are nc's that manage the paket buffer on theire own. This kind
of nc's have the interface that you are looking for. In a second
system we fitted such kind of NC (NE2000 PCMCIA (ISA
Interface)) to a MC68332 system. 
look at: SMC, Fujitsu, Intel, AMD, National Semiconductor and Western
Digital.

Before you choose a nc, you should first contact your
vxworks-dealer. They have a list of supported ethernet controllers
on chip level. I think this is very important because the hardware 
design takes less time than the software design. 
Believe me ;-)
       
hope this will help.
    
regards,
rainer



--

**********************************************************************
fraunhofer institute of microelectronic circuits and systems
department sat
name       rainer stelzer 
address    finkenstrasse 61
           47057 duisburg
           germany
phone      +0049/203/3783-238 
fax        +0049/203/3783-266
email      rstelzer@ims.fhg.de
**********************************************************************


From mam@pluto.dspt.com  Fri Jan 16 12:34:59 1998
From: "Mark Menge" <mam@pluto.dspt.com>
Date: Fri Jan 16 12:35:04 PST 1998
Subject: Real Time NT

We are considering using NT with real-time extensions. Our system
contains serial, gpib, and ethernet real time interfaces to over 30 
different data acquisition devices.

Since our application requires an extensive GUI support and NT now 
can do Real Time, switching to a NT target and host will be 
drastically  reduce per unit shipment costs (not to mention 
development costs).

Wind River has no plans to support real time NT.  They do have some 
product that does windows, but that doesn't allow any Microsoft 
windows programs to run. I can't understand in the long run
how they can hope to compete with a real time NT O.S. when GUIs
are required. Is it just a matter of time before vxWorks will only be in
small embedded systems like printers?

Has anyone our there done an evaluation on Real Time NT O.S.s?


From AKBiocca@lbl.gov  Fri Jan 16 13:38:22 1998
From: Alan K Biocca <AKBiocca@lbl.gov>
Date: Fri Jan 16 13:38:26 PST 1998
Subject: recent list post rejections

Here are the posting rejections currently in the queue. It keeps them
around for five days or so.

Before each message is the error message indicating the reason for
rejection. Descriptions are below.

incoming trailer reject - indicates the exploder found the trailer on the
incoming message. This happens frequently when poor mailers bounce bad
delivery problems back to the list. The presence of the trailer causes the
message to reject. Please EDIT THE TRAILERS OFF WHEN REPLYING.

no vxworks reject - indicates no use of the word vxworks or tornado in the
posting. This indicates possible SPAM and gets rejected. ALWAYS INCLUDE
VXWORKS OR TORNADO IN POSTINGS. 

mailer daemon reject - There is one user (hao@ct) that mail coming from has
the header line "from mailer-daemon" rather than the actual user. The
mailer daemons of some systems send us lots of bounce junk and are filtered
out. They caused some serious runaway loops at times in the past, hence the
filter. I've been unsuccessful at getting email directly to hao@ct, so
perhaps this will help him diagnose the problem. 

The short summary is that the filter got one very large spam posting (I
left the header below but wiped out the hundreds of content lines), and
blocked perhaps 3-4 valid postings. In byte count this was a win, but it
does interfere with some good comments that were blocked. Two subscription
messages incorrectly sent to the list were also filtered.

Please edit off the trailers and include the word vxworks in your postings!

-- Alan K Biocca
akbiocca@lbl.gov

>::::::::::::::
>11748.incoming_trailer_reject
>::::::::::::::
>>From brett.smith@wg.com  Thu Jan 15 11:52:00 1998
>Received: from lbl.gov by csg.lbl.gov (4.1/0.0)
>	id AA11744; Thu, 15 Jan 98 11:52:00 PST
>Received: from chaos.wg.com by lbl.gov (SMI-8.6/SMI-SVR4)
>	id LAA01220; Thu, 15 Jan 1998 11:52:14 -0800
>Received: from smtp.wg.com ([198.85.45.14] (may be forged)) by
chaos.wg.com (8.8.6/8.7.3) with SMTP id OAA11220 for <vxwexplo@lbl.gov>;
Thu, 15 Jan 1998 14:51:55 -0500 (EST)
>Received: from ccMail by smtp.wg.com (ccMail Link to SMTP R6.01.01 BETA)
>    id AA884894040; Thu, 15 Jan 98 14:54:01 -0500
>Message-Id: <9801158848.AA884894040@smtp.wg.com>
>X-Mailer: ccMail Link to SMTP R6.01.01 BETA
>Date: Thu, 15 Jan 98 14:48:15 -0500
>From: "Brett Smith"<brett.smith@wg.com>
>To: <vxwexplo@lbl.gov>
>Subject: Re[2]: WindView questions with Tornado 1.0.1 
>Mime-Version: 1.0
>Content-Type: text/plain; charset=US-ASCII
>Content-Transfer-Encoding: 7bit
>
>
>     Ethernet is not required for WindView, at least not with an x86 
>     target.  I had WindView running over a serial target server for a 
>     p-133.
>     
>     The only thing I had to do was build with WDB configured for serial 
>     and included the INSTRUMENTATION directive:
>     
>     #define INCLUDE_INSTRUMENTATION 
>     
>     in config.h
>     
>        BWS     
>
>______________________________ Reply Separator
_________________________________
>Subject: Re: WindView questions with Tornado 1.0.1 
>Author:  <vxwexplo@lbl.gov (the vxWorks Users Group Exploder) > at
wg-ral-smtp
>Date:    1/15/98 6:17 AM
>
>
>Submitted-by clare@bis.kodak.COM  Thu Jan 15 06:17:00 1998 
>Submitted-by: clare@kodak.com (Bill Clare)
>     
>> 
>>      Hey
>>      
>>      I am using the Tornado 1.0.1 development software and a 401gf BSP. I 
>>      am attempting to get the WindView tool up and running. I do not have 
>>      an ethernet port on the target. 
>>      I understand that the default configuration is for ethernet, but does 
>>      it have to have one or can a seriel port be used and if so has anyone 
>>      accomplished this?
>>      Currently teh WindView does not work and I would like to get it 
>>      running. Any help would be a great help.
>     
>Unless I am mistaken you need the ethernet connection for WindView.  I was
not 
>able to run until I got the network connection working. Unlike the other 
>Tornado Tools, WindView doesn't work over the serial back end.
>     
>On page 4 of the WindView 1.0.2 Release Notes, it mentions that "For
continuous 
>monitoring of event data, your target must be equipped with an Ethernet 
>interface."  It then goes on to mention that it can be over VME through
another 
>board (I was able to use WindView through a PC104-based network card
attached 
>to my x86 based CPU board).  The rest of the paragraph seems to indicated
that 
>if you are willing to use the post-mortem mode then you don't need an
ethernet 
>interface.
>     
>billc
>     
>Bill Clare, Software Engineer, Eastman Kodak Company   
>Email: clare@kodak.com  Mail code: 2/5/EP 35425    Phone: (726)726-9419 
>US Mail: 901 Elmgrove Road Rochester NY 14653-5425 Fax: (716)726-0129
>Any opinions expressed herein are mine and not those of Eastman Kodak
Company.
>     
>**********
>     
>    This is a ... 
>    Mail articles ...
>      Include the ... 
>      edit off the ...
>    Send subscription ...
>     
>
>
>::::::::::::::
>12517.no_vxworks_reject
>::::::::::::::
>>From billy@bingo.com  Thu Jan 15 12:40:31 1998
>Received: from lbl.gov by csg.lbl.gov (4.1/0.0)
>	id AA12510; Thu, 15 Jan 98 12:40:31 PST
>Received: from mail.mymail.net by lbl.gov (SMI-8.6/SMI-SVR4)
>	id MAA03630; Thu, 15 Jan 1998 12:40:45 -0800
>Received: from netrepreneur.mymail.net (1Cust216.tnt13.lax3.da.uu.net
[153.37.88.216]) by mail.mymail.net (8.8.5/8.7.3) with SMTP id PAA29946;
Thu, 15 Jan 1998 15:05:22 -0600 (CST)
>Date: Thu, 15 Jan 1998 15:05:22 -0600 (CST)
>To: billy@bingo.com
>From: billy@bingo.com (Me)
>Comments: Authenticated sender is <billy@bingo.com>
>Reply-To: cyberink@spectra.net
>Subject: I never thought I'd be the one telling you this
>Message-Id: <199801151326XAA4365@post.mymail.net>
>
... A REAL LONG SPAM POSTING WAS DELETED HERE ...
>::::::::::::::
>12922.no_vxworks_reject
>::::::::::::::
>>From cjgarcia@unex.es  Mon Jan 12 09:28:05 1998
>Received: from lbl.gov by csg.lbl.gov (4.1/0.0)
>	id AA12918; Mon, 12 Jan 98 09:28:05 PST
>Received: from guadiana.unex.es by lbl.gov (SMI-8.6/SMI-SVR4)
>	id JAA08697; Mon, 12 Jan 1998 09:28:08 -0800
>Received: from seminario1.unex.es ([158.49.24.130])
>	by guadiana.unex.es (8.8.5/8.8.5) with SMTP id SAA14091
>	for <vxwexplo@lbl.gov>; Mon, 12 Jan 1998 18:27:41 +0100
>Received: by seminario1.unex.es with Microsoft Mail
>	id <01BD1F87.DAB6C8E0@seminario1.unex.es>; Mon, 12 Jan 1998 18:28:18 +0100
>Message-Id: <01BD1F87.DAB6C8E0@seminario1.unex.es>
>From: Carlos Javier Garcia Orellana <cjgarcia@unex.es>
>To: "'Lista vxworks'" <vxwexplo@lbl.gov>
>Subject: About 3Com net cards drivers
>Date: Mon, 12 Jan 1998 18:23:16 +0100
>Mime-Version: 1.0
>Content-Type: text/plain; charset="iso-8859-1"
>Content-Transfer-Encoding: quoted-printable
>
>Hello,
>
>Has anybody a driver for de Fast Ethernet 3Com network cards?
>
>Thanks in advance.
>
>Carlos Javier Garc=EDa Orellana
>Dpto. de Electronica
>Universidad de Extremadura
>SPAIN
>
>e-mail: carlos@nernet.unex.es
>::::::::::::::
>18614.mailer-daemon_reject
>::::::::::::::
>>From Mailer-Daemon@lbl.gov  Wed Jan 14 09:14:03 1998
>Received: from lbl.gov by csg.lbl.gov (4.1/0.0)
>	id AA18610; Wed, 14 Jan 98 09:14:03 PST
>Received: from gemsgw.med.ge.com by lbl.gov (SMI-8.6/SMI-SVR4)
>	id JAA07964; Wed, 14 Jan 1998 09:14:18 -0800
>Received: from gemed.med.ge.com (gemed.med.ge.com [3.7.12.4]) by
gemsgw.med.ge.com (8.6.12/8.6.12) with ESMTP id LAA12206 for
<vxwexplo@lbl.gov>; Wed, 14 Jan 1998 11:10:49 -0600
>Received: from ct.med.ge.com (ct [3.70.56.18]) by gemed.med.ge.com
(8.6.12/8.6.12) with SMTP id LAA04502; Wed, 14 Jan 1998 11:13:38 -0600
>Received: from egret by ct.med.ge.com (4.1/SMI-4.0)
>	id AA24853; Wed, 14 Jan 98 11:13:33 CST
>Received: from egret by egret (950413.SGI.8.6.12) id LAA05116; Wed, 14 Jan
1998 11:15:23 -0600
>Sender: hao@ct
>Message-Id: <34BCF2AA.167E@ct.med.ge.com>
>Date: Wed, 14 Jan 1998 11:15:23 -0600
>From: "L. Hao" <haol@ct>
>Organization: General Electric Company
>X-Mailer: Mozilla 3.01Gold (X11; I; IRIX 6.2 IP22)
>Mime-Version: 1.0
>To: vxwexplo@lbl.gov
>Subject: fcntl questions
>Content-Type: text/plain; charset=us-ascii
>Content-Transfer-Encoding: 7bit
>
>Hi, all VxWorks users,
>     Does anyone know how to get around VxWorks's missing fcntl() to
>successfully setup non-blocking I/O. ioctl(sFd, FIONBIO, 1) only works
>on sockets. I have fds for pipes and am trying to find out how to make
>it nonblocking. 
>     Any help is greatly appreciated. Thanks
>
>
>-- 
>Li Hao
>G.E. Medical Systems
>email:Li.Hao@ct.med.ge.com
>Phone:5-4267
>::::::::::::::
>19103.no_vxworks_reject
>::::::::::::::
>>From awai@info.kobelco.co.jp  Mon Jan 12 18:27:31 1998
>Received: from lbl.gov by csg.lbl.gov (4.1/0.0)
>	id AA19099; Mon, 12 Jan 98 18:27:31 PST
>Received: from aquarius.kobelco.co.jp by lbl.gov (SMI-8.6/SMI-SVR4)
>	id SAA07842; Mon, 12 Jan 1998 18:27:43 -0800
>Received: by aquarius.kobelco.co.jp; id LAA17970; Tue, 13 Jan 1998
11:29:15 +0900 (JST)
>Received: from cancer.kobelco.co.jp(133.109.30.2) by
aquarius.kobelco.co.jp via smap (3.2)
>	id xma017963; Tue, 13 Jan 98 11:29:10 +0900
>Received: from info0.snmy.info.kobelco.co.jp ([10.16.99.1]) by
cancer.kobelco.co.jp (8.8.5+2.7Wbeta5/3.4W-98010613) with SMTP id LAA02318
for <vxwexplo@lbl.gov>; Tue, 13 Jan 1998 11:26:24 +0900 (JST)
>Received: from [10.18.96.40] by info0.snmy.info.kobelco.co.jp
(8.6.12+2.4W/6.4J.1-Ver3.0)
>	id LAA01133; Tue, 13 Jan 1998 11:24:10 +0900
>Message-Id: <199801130224.LAA01133@info0.snmy.info.kobelco.co.jp>
>X-Sender: awai@info0
>X-Mailer: Macintosh Eudora Pro Version 3.1.1-J
>Mime-Version: 1.0
>Content-Type: text/plain; charset="us-ascii"
>Date: Tue, 13 Jan 1998 11:28:51 +0900
>To: vxwexplo@lbl.gov
>From: Syoichi Awai <awai@info.kobelco.co.jp>
>Subject: help
>
>help
>
>
>::::::::::::::
>20303.no_vxworks_reject
>::::::::::::::
>>From tkb@mclean.sparta.com  Wed Jan 14 11:09:21 1998
>Received: from lbl.gov by csg.lbl.gov (4.1/0.0)
>	id AA20299; Wed, 14 Jan 98 11:09:21 PST
>Received: from Sparta.Com by lbl.gov (SMI-8.6/SMI-SVR4)
>	id LAA14789; Wed, 14 Jan 1998 11:09:36 -0800
>Received: from Mclean.Sparta.Com (heisenberg.mclean.sparta.com
[157.185.42.1])
>	by Sparta.Com (8.8.5/8.8.5) with ESMTP id OAA09210
>	for <vxwexplo@lbl.gov>; Wed, 14 Jan 1998 14:09:17 -0500 (EST)
>Received: from hometkb ([157.185.44.51])
>	by Mclean.Sparta.Com (8.8.5/8.8.5) with SMTP id OAA03358
>	for <vxwexplo@lbl.gov>; Wed, 14 Jan 1998 14:08:56 -0500 (EST)
>Message-Id: <3.0.32.19980114141011.006aeb28@mailhost.mclean.sparta.com>
>X-Sender: tkb@mailhost.mclean.sparta.com
>X-Mailer: Windows Eudora Pro Version 3.0 (32)
>Date: Wed, 14 Jan 1998 14:10:14 -0500
>To: vxwexplo@lbl.gov (the vxWorks Users Group Exploder)
>From: "Thomas K. Buchanan" <tkb@mclean.sparta.com>
>Subject: Re: 860 Interrupts
>Mime-Version: 1.0
>Content-Type: text/plain; charset="us-ascii"
>
>>When a level-triggered interrupt is received on most machines the interrupt
>>service routine (ISR) must clear the source of the interrupt or disable
>>that interrupt until it is known that the source of the interrupt is clear.
>>By "source of the interrupt" I mean the hardware signal connected to the
>>processor interrupt line (internally or externally). Normally this signal
>>would be designed to go inactive when the ISR performs it's task otherwise
>>when the ISR completes the interrupt will be immediately activated again
>>and bingo the processor latches up in a ISR-ReturnFromInterrupt-ISR state
>>until the source goes inactive (if it ever does). Most of us have probably
>>done this at some time or other. (By the way, I'm not familiar with the
860).
>>
>>For this reason interrupts are often specified as edge-triggered. Most
>
>Wrong! Edge triggered interrupts exist becauses it makes handling the 
>interrupt signals easier for the hardware on the CPU.  It is a tradeoff that
>Intel decided to make and Motorola did not.
>
>>Finally level-triggered interrupts can be missed whereas edge-triggered
>>interrupts "can't" be missed. If a level-triggered interrupt signal goes
>
>In my experience, this is the opposite of the truth.  Level edge
>interruptors never deassert the signal unless they get serviced.  In
>addition, edge triggered interrupts are subject to noise and other spurious
>problems.  
>I understand the hardware decisions behind using edge triggered interrupts
>though I don't agree with them.  I don't understand why should it ever be OK 
>to miss the source of an interrupt.  What possible advantage does that give
>us?
>
>adios
>::::::::::::::
>20781.no_vxworks_reject
>::::::::::::::
>>From thomas.arand@oen.siemens.de  Fri Jan 16 01:30:54 1998
>Received: from lbl.gov by csg.lbl.gov (4.1/0.0)
>	id AA20777; Fri, 16 Jan 98 01:30:54 PST
>Received: from gorilla.mchh.siemens.de by lbl.gov (SMI-8.6/SMI-SVR4)
>	id BAA03418; Fri, 16 Jan 1998 01:31:09 -0800
>Received: from moody.mchh.siemens.de (moody-i.mchh.siemens.de
[194.138.158.26])
>	by gorilla.mchh.siemens.de (8.8.7/8.8.7) with ESMTP id KAA06300
>	for <vxwexplo@lbl.gov>; Fri, 16 Jan 1998 10:30:49 +0100 (MET)
>Received: from descn121.oen.siemens.de (descn121 [132.88.71.55])
>	by moody.mchh.siemens.de (8.8.7/8.8.7) with SMTP id KAA27861
>	for <vxwexplo@lbl.gov>; Fri, 16 Jan 1998 10:32:03 +0100 (MET)
>Received: from Microsoft Mail (PU Serial #1895)
>  by descn121.oen.siemens.de (PostalUnion/SMTP(tm) v2.1.9h for Windows
NT(tm))
>  id AA-1998Jan16.101430.1895.210274; Fri, 16 Jan 1998 10:30:15 +0100
>From: thomas.arand@oen.siemens.de (Arand, Thomas)
>Return-Receipt-To: thomas.arand@oen.siemens.de (Arand, Thomas)
>To: vxwexplo@lbl.gov ('vxwexplo@lbl.gov')
>Message-Id: <1998Jan16.101430.1895.210274@descn121.oen.siemens.de>
>X-Mailer: Microsoft Mail via PostalUnion/SMTP for Windows NT
>Mime-Version: 1.0
>Content-Type: text/plain; charset="ISO-8859-1"
>Content-Transfer-Encoding: quoted-printable
>Organization: Siemens AG
>Date: Fri, 16 Jan 1998 10:30:15 +0100
>Subject: Symbol s_userGet in VxSim target
>
>
>Hi VxSim world,
>
>does anyone know about the symbol s_userGet in the VxSim target? I   =
>sometimes get the error message =22s_userGet: getenv failed=22 when VxSim   =
>=
>starts up.  Can anyone explain this?
>
>Thanks in advance,
>
>Thomas Arand
> ----------------------------------------------------------------------
>Thomas Arand                              Siemens AG
>Tel.  +49 - 89 - 722 42296
>Fax. +49 - 89 - 722 26572
>thomas.arand=40oen.siemens.de
>
>
>::::::::::::::
>29316.incoming_trailer_reject
>::::::::::::::
>>From t_wmoles@qualcomm.com  Tue Jan 13 09:15:18 1998
>Received: from lbl.gov by csg.lbl.gov (4.1/0.0)
>	id AA29312; Tue, 13 Jan 98 09:15:18 PST
>Received: from adept.qualcomm.com by lbl.gov (SMI-8.6/SMI-SVR4)
>	id JAA24254; Tue, 13 Jan 1998 09:15:33 -0800
>Received: from t_wmoles (t-wmoles.qualcomm.com [129.46.159.54]) by
adept.qualcomm.com (8.8.5/1.4/8.7.2/1.14) with SMTP id JAA23446 for
<vxwexplo@lbl.gov>; Tue, 13 Jan 1998 09:15:12 -0800 (PST)
>Message-Id: <3.0.1.32.19980113091513.009dc310@emrys.qualcomm.com>
>X-Sender: t_wmoles@emrys.qualcomm.com
>X-Mailer: Windows Eudora Pro Version 3.0.1 (32)
>Date: Tue, 13 Jan 1998 09:15:13 -0800
>To: vxwexplo@lbl.gov (the vxWorks Users Group Exploder)
>From: Hugh Molesworth <t_wmoles@qualcomm.com>
>Subject: Re: 860 Interrupts
>In-Reply-To: <9801131309.AA25524@csg.lbl.gov>
>Mime-Version: 1.0
>Content-Type: text/plain; charset="us-ascii"
>
>Level vs. Edge
>
>When a level-triggered interrupt is received on most machines the interrupt
>service routine (ISR) must clear the source of the interrupt or disable
>that interrupt until it is known that the source of the interrupt is clear.
>By "source of the interrupt" I mean the hardware signal connected to the
>processor interrupt line (internally or externally). Normally this signal
>would be designed to go inactive when the ISR performs it's task otherwise
>when the ISR completes the interrupt will be immediately activated again
>and bingo the processor latches up in a ISR-ReturnFromInterrupt-ISR state
>until the source goes inactive (if it ever does). Most of us have probably
>done this at some time or other. (By the way, I'm not familiar with the 860).
>
>For this reason interrupts are often specified as edge-triggered. Most
>processors now correctly latch such events provided they meet minimum
>pulse-width requirements. The danger is that such an interrupt is used as a
>handshake and one gets missed, which of course can't happen :-), and this
>causes some process or other to hang up awaiting the next signal (the one
>we just missed). To avoid this most such systems would incorporate some
>kind of timeout checking or method to instigate a check that an interrupt
>had been issued but not processed, perhaps by the occasional read of a
>status register. You can save a lot of grief by checking for that
>(impossible) missed interrupt.
>
>Finally level-triggered interrupts can be missed whereas edge-triggered
>interrupts "can't" be missed. If a level-triggered interrupt signal goes
>active whilst a higher priority interrupt ISR is in progress but goes
>inactive before the higher-priority ISR completes then the interrupt will
>be missed on lots of machines because it is not latched; in this case
>(assuming you wanted to catch it) you should be using an edge-triggered
>interrupt or make sure it doesn't go away until the ISR executes. Most
>level-triggered interrupt systems are designed to stay active until the ISR
>services the interrupt.
>
>Power-fail or other fatal non-maskable interrupts are often level-triggered
>simply because they often never go away (and you definitely don't want to
>miss them ...).
>
>Hugh
>hugh@qualcomm.com
>
>At 05:09 AM 1/13/98 PST, you wrote:
>>Submitted-by bobperry@bellatlantic.net  Tue Jan 13 05:09:40 1998
>>Submitted-by: "Robert L. Perry" <bobperry@bellatlantic.net>
>>
>>One possible problem could be that the cause of the interrupt is not being
>>reset -writing to the SIPEND register doesn't do anything (see p.12-5
>>section 12.2.1.3.1)
>>Perhaps your 860 is interrupt'n like crazy.
>>
>>We had alot of trouble w/ CPM interrupt support on the 860, here was one
>>find: many bits in the 860 registers are reset when a '1' is written to the
>>bit position of interrest.  One example on how *not* to access the CISR
>>register can be found in ppc860CpmIntrDemux() in ppc860Intr.c
>>
>>    /* clear the bit in the CISR */
>>#if 1
>>    * CISR(regBase) = (1 << intNum);      /* This is correct     */
>>#else
>>    * CISR(regBase) |= (1 << intNum);     /* This is not correct */
>>#endif
>>
>>The OR operation above appears to be the straigth forward approach to
>>writing a '1' to the proper bit.  The problem is that the compiler will
>>read the CISR value, OR the proper bit, then perform a write.  If more than
>>one bit is set in the CISR, they will all be reset after the |= operation,
>>which in this case is very sad.
>>
>>We visited ppc860Intr.c while getting all of the scc's operational and
>>there is a TSR open w/ WindRiver -to date, our changes have not been
>>blessed.  If anyone is interrested, please contact me directly as I don't
>>know what the rules are regarding code segments postings from copyright
>>material.
>>
>>Bob Perry
>>bobperry@bellatlantic.net
>>
>>At 10:55 AM 1/11/98 PST, you wrote:
>>>Submitted-by mabrouk@nortel.ca  Sun Jan 11 10:55:05 1998
>>>Submitted-by: "Mabrouk Aboughanaima" <mabrouk@nortel.ca>
>>>
>>>Hi All,
>>>
>>>I'm developing a C++ application using vxWorks 5.3.1 for a PowerPC860
>>>platform. I am trying to connect an ISR to handle an external interrupt
>>which is
>>>a level interrupt but I have no luck yet. When I invoke the function that
>>connects
>>>the ISR fron windSh or CrossWind, I neve get control back, it seems the
>>system is too busy doing something
>>>even though the exeternal device's interrupt is not enabled yet.
>>>
>>>When I enable the exeternal device interrupt and then invoke the function
>>that connect the ISR
>>>I get the message lost connection to target from windSh.
>>>
>>>Here is the code.
>>>
>>>//function that clears/sets the external interrupt. 
>>>
>>>void setInterrupt(int state)
>>>{
>>>	unsigned char data = 0;
>>>	int ret = -1;
>>>			 
>>>	if ( state == 1)
>>>	{
>>>		if (( !read(0x59, data)))  //read control register
>>>	    {
>>>		 
>>>			 data |= (1 << 1);
>>>
>>>			 ret =  write(0x19, data);
>>>	    }
>>>
>>>	}	
>>>	else
>>>	{	
>>>		 if (!read(0x59, data))  //read control register
>>>		 {
>>>		 
>>>			 data &=  (~(1 << 1));
>>>
>>>			ret =  write(0x19, data);
>>>		 } 
>>>	
>>>	}
>>>	logMsg("\nin setInterrupt(return) %d\n", ret, 0,0,0,0,0);
>>>}
>>>
>>>void isr(void)
>>>{
>>>
>>>     unsigned long pimmr = vxImmrGet();
>>>
>>>	 setInterrupt(0);           //clear interrupt
>>>				   
>>>	 *SIPEND(pimmr) |= SIEL_ED4;  // reset the SIPEND bit corressponding to
>IRQ4
>>>	   
>>>	 
>>>	logMsg("\nin isr\n", 0, 0,0,0,0,0);
>>>     
>>>}
>>>
>>>
>>>int initISR()
>>>{ 
>>>    unsigned long pimmrbase = vxImmrGet();
>>>	
>>>
>>>    if ( intConnect(IV_IRQ4, (VOIDFUNCPTR) isr, 0) == OK )
>>>    {
>>>	 *SIEL(pimmrbase) &=  ~SIPEND_IRQ4;
>>>  
>>>	 *SIMASK(pimmrbase) |=  SIMASK_IRM4;   //This is where it seems to be
>>stuck at
>>>	 return 0; 
>>>    }
>>>    else
>>>   {
>>>	printf("\nintConnect failed\n");
>>>	return -1;
>>>   }	
>>>	  	   		  
>>>}
>>>
>>>
>>>
>>>
>>>Any help will be greatly apprecaited. Please e_mail or call me.
>>>
>>>Thanks a million.
>>>
>>>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
>>>+  Mabrouk Aboughanaima            + Tel: (613) 763-6000         +
>>>+  CDMA Radio Software             +      ESN:  393-6000         +
>>>+  Nortel Wireless Networks        + FAX: (613) 763-2686         +
>>>+  P.O. Box 3511, Station 'C'      + Internet: mabrouk@nortel.ca +
>>>+  Ottawa K1Y 4H7 Canada           +                             +
>>>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
>>      
>>>                                                           
>>>         
>>
>>
>>**********
>>
>>    This is a ...trailer removed...
>>
>>
>::::::::::::::
>7013.no_vxworks_reject
>::::::::::::::
>>From gprimiano@hayes.com  Thu Jan 15 07:40:38 1998
>Received: from lbl.gov by csg.lbl.gov (4.1/0.0)
>	id AA07006; Thu, 15 Jan 98 07:40:38 PST
>Received: from atl_xch_srvr1.hayes.com by lbl.gov (SMI-8.6/SMI-SVR4)
>	id HAA17886; Thu, 15 Jan 1998 07:40:51 -0800
>Received: by atl_xch_srvr1.hayes.com with Internet Mail Service (5.0.1457.3)
>	id <C4Z0TN04>; Thu, 15 Jan 1998 10:40:08 -0500
>Message-Id:
<6F8A1DCCA47ED011ADB600609733E58D010A20C1@atl_xch_srvr1.hayes.com>
>From: "Primiano, Guy" <gprimiano@hayes.com>
>To: "'VX'" <vxwexplo@lbl.gov>
>Subject: subscribe
>Date: Thu, 15 Jan 1998 10:40:07 -0500
>X-Priority: 3
>X-Ms-Tnef-Correlator:
<6F8A1DCCA47ED011ADB600609733E58D010A20C1@atl_xch_srvr1.hayes.com>
>Mime-Version: 1.0
>X-Mailer: Internet Mail Service (5.0.1457.3)
>Content-Type: multipart/mixed;
>	boundary="---- =_NextPart_000_01BD21A1.F30D5370"
>
>This message is in MIME format. Since your mail reader does not understand
>this format, some or all of this message may not be legible.
>
>------ =_NextPart_000_01BD21A1.F30D5370
>Content-Type: text/plain
>
>I would like to subscribe.
>
>------ =_NextPart_000_01BD21A1.F30D5370
>Content-Type: application/ms-tnef
>Content-Transfer-Encoding: base64
>
>eJ8+IgkPAQaQCAAEAAAAAAABAAEAAQeQBgAIAAAA5AQAAAAAAADoAAEIgAcAGAAAAElQTS5NaWNy
>b3NvZnQgTWFpb
... base64 erased
>------ =_NextPart_000_01BD21A1.F30D5370--
>
>


From tkb@mclean.sparta.com  Fri Jan 16 14:44:04 1998
From: "Thomas K. Buchanan" <tkb@mclean.sparta.com>
Date: Fri Jan 16 14:44:07 PST 1998
Subject: Re: Real Time NT

>Wind River has no plans to support real time NT.  They do have some 
>product that does windows, but that doesn't allow any Microsoft 
>windows programs to run. I can't understand in the long run
>how they can hope to compete with a real time NT O.S. when GUIs
>are required. Is it just a matter of time before vxWorks will only be in
>small embedded systems like printers?

They don't have a product that "does" windows.  They have a Windows-based
development environment.  The cost of development is mostly labor, not the
tools.  Choosing Win32 for real-time applications to save development
dollars is a questionable decision.  It's a great platform for GUIs and
client/server apps.  I usually use it for the GUI and another target
running VxWorks for hard
real-time duties.

I have heard several horror stories about the various "real-time" extensions
to NT, especially since Microsoft moved all the graphics code into the kernel
in version 4.0 and above.  The hardware requirements for NT are huge
compared to VxWorks.  You can enable every option in VxWorks and still
embed it in 2MB
of flash.  On some x86 platforms, the real competition might be with WinCE.

Why would Wind River want to compete with "real-time" NT?  I think
printers, scanners, engines, telecommunications, consumer applicances,
military gear etc. are a big enough market.  The ratio of desktop/VME
platforms to smaller embedded targets is very small and shrinking every
day.  I have 4 Win32 boxes between work and home, there are 12-15 embedded
computers in my cars alone and dozens more around the house.

adios
--------------------------------------------  
       /\       Thomas Keith Buchanan 
      /##\      Principal Engineer
     /####\     
    /####/--    
   /####/----   SPARTA, Inc.                 
  -\####\__---  Computer Products Division 
 ---\##\  /---- 7926 Jones Branch Drive      
 ----\##\/\---- Suite 900                    
  ----\####\--  McLean, VA 22102             
   ----\####/                                
    ---/###/    Voice: 703 448 0210          
     -/###/     FAX:   703 893 5494          
      \##/      WWW:   www.mclean.sparta.com
       \/       


From mmcquade@pop.aa.net  Fri Jan 16 15:08:17 1998
From: Mike McQuade <mmcquade@pop.aa.net>
Date: Fri Jan 16 15:08:20 PST 1998
Subject: Re: Real Time NT


vxworks

At 12:35 PM 1/16/98 PST, you wrote:
>Submitted-by mam@pluto.dspt.com  Fri Jan 16 12:34:59 1998
>Submitted-by: "Mark Menge" <mam@pluto.dspt.com>



>Wind River has no plans to support real time NT.  They do have some 
>product that does windows, but that doesn't allow any Microsoft 
>windows programs to run. I can't understand in the long run
>how they can hope to compete with a real time NT O.S. when GUIs
>are required. Is it just a matter of time before vxWorks will only be in
>small embedded systems like printers?
>



Mark,


We have a GUI on our VxWorks system, its not a windows system, but
it works very well, and our customers like it :)

We use the graphics package from:

http://www.rastergr.com

see our instrument screen at:

http://www.aa.net/~mmcquade/graphic.htm


I have a couple friends that are device driver support techs
at Microsoft, they consider the real-time extensions to NT
a plague. I wouldn't go there unless the customer demanded
a Windows interface.



Maybe a better option would be the real-time Linux extensions,
you can read more at:


http://luz.cs.nmt.edu/~rtlinux/


I would think the transition from VxWorks to Linux would be less
painful than jumping into Win32.



Mike.












From daemon@csg.lbl.gov  Sat Jan 17 04:03:14 1998
From: daemon@csg.lbl.gov
Date: Sat Jan 17 04:03:18 PST 1998
Subject: comp.os.vxworks newsdigest

Comp.Os.Vxworks Daily Digest    Sat Jan 17 04:03:13 PST 1998

        Subject: Driver for 3Com Fast Ethernet cards
        Subject: Re: unbuffered ANSI streams
        Subject: VxSim-to-UNIX Interface
        Subject: Re: Bootroms for the MVME167?

-------------------------------------------------------

Newsgroups: comp.os.vxworks
Subject: Driver for 3Com Fast Ethernet cards
Date: Fri, 16 Jan 1998 09:41:03 +0100
From: "Carlos J. Garcia Orellana" <carlos@nernet.unex.es>
Organization: Universidad de Extremadura
Message-ID: <34BF1D1F.3055@nernet.unex.es>

Hello,

Anybody knowns if there are a driver for 3Com Fast Ethernet cards?.

Thanks.

Carlos.
Universidad de Extremadura (SPAIN)

carlos@nernet.unex.es

---------------------------

Newsgroups: comp.os.vxworks
Subject: Re: unbuffered ANSI streams
Date: 16 Jan 1998 12:00:14 GMT
From: gj@mail.ast.cam.ac.uk (Gareth Jones)
Organization: Royal Greenwich Observatory, Cambridge (UK)
Message-ID: <69ni4e$igr$1@lyra.csx.cam.ac.uk>
References: <Pine.SUN.3.91.980116030855.23295A-100000@crl.crl.com>

FISH wote:

> I have NFS mounted a unix disk. I opened a file
> on this using fopen() and set no-buffering option using 
> setvbuf(). I cannot get the system to write the data
> to the file unless I fclose() it !! fflush() does not
> help either.

I have encountered this too, but in the system I worked on it
was not an issue. However, I remember reading/being-told
some time ago that the reason for this is that the directory
entry on the host system (presumably SUN?) is not updated until
the file is closed? Is this actually the case? could someone
shed a little light on this one?

Thanks,


Gareth Jones
RGO Technology Division

... all my own, etc ...

---------------------------

Newsgroups: comp.os.vxworks
Subject: VxSim-to-UNIX Interface
Date: 16 Jan 1998 21:15:37 GMT
From: "Brenda Spaur" <brenda@spaur.com>
Organization: BrenCorp
Message-ID: <01bd22c4$bb616aa0$224fa8ce@aries3.spaur.com.206.168.79.31>

I am running VxSim (Tornado) on a Sparc 20/Solaris workstation.  I
need to be able to create and manipulate UNIX semaphores from
within VxSim but have not found a way to do so (long story which I
won't go into).  The simulated VxWorks semLib routines in this environment 
do not create UNIX semaphores and UNIX system calls such as 
semget, semctl, semop, etc. show up as undefined symbols.
It also looks like the UNIX "system" call is not implemented.  Seems
like there should be but ... is there a way to call standard UNIX system
calls from applications running under VxSim?  I think I will need access
to other UNIX system calls that don't appear to be implemented in
VxSim so a generic solution would be good.

Thanks in advance,
Brenda Spaur
The Johns Hopkins University
Applied Physics Laboratory
bms@aplexus.jhuapl.edu

---------------------------

Newsgroups: comp.os.vxworks
Subject: Re: Bootroms for the MVME167?
Date: Fri, 16 Jan 1998 13:05:44 +0100
From: Markus Muehlbauer <muehlbauer@ubaclu.unibas.ch>
Message-ID: <34BF4D17.A7E7918D@ubaclu.unibas.ch>
References: <34bd618d.0@news.randori.com>

micron wrote:
> 
> I'm using vxWorks 5.0.2 on a SPARC 10 to create new bootroms to include
> loading vxWorks from a local scsi drive, and was wondering if there are any
> special procedures for getting proms to boot the Motorola MVME167-34B (33 Mhz
> w/32MB ram) board properly? I have edited the bootConfig.c file and used the
> 'make bootrom.hex' (this is a compressed hex file, I have also used the
> uncompressed version) command successfully. (I'm presently using previously
> created bootroms in the xu1 and xu2 PLCC sockets and they work fine, the
> proms are M5M27C202 128K x 16 bits). I then take the Motorola S record
> bootrom.hex file and mcopy the file to a DOS formatted disk. Using an Allpro 88
> prom programmer I read in the bootrom.hex file from the DOS floppy using the
> Motorola S format. It should also be noted that the bootrom.hex file is in a
> combination of Motorola S1 and S2 format. After reading in the file I write it
> back to the hard drive converted in the Motorola S3 format, this is done to
> facilitate a 32 bit word format. The S3 format bootrom.hex file is broken down
> to two different files by the Allpro 88, one for even addresses and one for odd
> addresses. The two proms are programmed and their checksums are verified.
> Unfortunately when the proms are put into MVME167 sockets and the board is
> powered up the SYSFAIL and STAT leds remain on and I see no indication of life
> on the terminal screen. So my question is, is there some sort of checksum that
> needs to be calculated and put in a proper address location to give control
> over to the proms like in the 167bug proms? If not are there any other
> suggestions.
> 
>                                                 -Frustrated Craig

Hi Craig -
recently I made rootroms for my VCC2118 - also a MC68xxx guy using a  
27C1024 (16Bit) rom. I've made 'bootrom.hex' on my DEC Unix system, 
put it on a DOS disk, loaded it into our DOS based EPROM burner
in Motorola format and burned an EPROM.

And with the new one our CPU doesn't boot. I took the old (working) 
EPROM put it into the Burner and looked at its contents - and i found
the byteorder of the new one was different from the old one! Therfore 
I changed the byteorder and reburned the new one and boot!

So put your old ones into the burner and compare them with the new 
ones (in the first bytes you will find the entry point and within 
the first few hundred bytes the copyright message - both helpfull 
in finding the byte order!) and swap the bytes accordingly.

Hope this will help
Markus

byte   
took this file on a 
- --------------------------------------------------------------------
Markus Muehlbauer                        Tel.: xx41/(0)61-267 3746
Institut fuer Physik                     Fax.: xx41/(0)61-267 3784
Universitaet Basel
Kingelbergstr. 82                        EMail: 
CH-4056 Basel                            muehlbauer@ubaclu.unibas.ch
- --------------------------------------------------------------------

---------------------------

End of New-News digest
**********************


From bberry@nortel.ca  Sat Jan 17 09:13:21 1998
From: "Bo Berry" <bberry@nortel.ca>
Date: Sat Jan 17 09:13:24 PST 1998
Subject: dosFS workarounds, bandages, tourniquets


Mark:

We've experienced a similar list of problems with dosFs.  Here's what 
we found so far:

o Recieved a patch from Wind River to correct a problem with the
  rename  function of the DOS filesystem.  This problem was 
  corrupting our file structure, a real bleeder....

o check your scsi bus termination.  We had a problem on some drives
  where the scsi bus was not properly terminated, causing I/O errors.

o verify that the remap option for the scsi drive is enabled.  This
  is the option that allows the drive to automatically remap bad
  blocks.  
  Note: drives have a finite number of blocks available for
        automatic remapping.  

o we also found a few instances of 'improper' coding when code
  was compiled for the unix file system, tornado sim, and VxWorks
  run time.   May wish to scrub through code validating parmeters
  and usage if it is cross compiled on several targets.

o if the system is powered down or a crashes during disk I/O, then
  most likely file structure problems will occur.  We also experience
  this.  A chkdisk like utility does the trick - recovering lost chains
  and the like.  Caution though, a critical file may not exist when 
  the system reboots and losts chain is freed.

o SCSI specs can be found at:
      ftp://ftp.std.com/obi/Standards/ANSI/SCSI-2/

Hope this helps,

----------------------------------------------------------------
Bo Berry           Manager, Board Level Systems
Nortel - Signaling Solutions Group  voice: 919-905-3461 ESN: 263
507 Airport Blvd, Suite 115           fax: 919-905-3918
Morrisville, NC 27560               email: bberry@nortel.com
Mailstop: 08Z001     
----------------------------------------------------------------

In message "Vx Exploder Digest", you write:

> Subject: Searching for DOSFS workarounds, bandages, tourniquets
> 
> **********
> 
> From mam@pluto.dspt.com  Sat Jan 10 10:24:58 1998
> From: "Mark Menge" <mam@pluto.dspt.com>
> Date: Sat Jan 10 10:25:01 PST 1998
> Subject: Searching for DOSFS workarounds, bandages, tourniquets
> 
> We have been seeing more flakiness with vxWorks' DOSFS.
> 
> Sometimes a disk will get into a reproduceable state where several k of  memory is 
> lost after creating and closing a new file. Reformatting is the only 
> cure.  I understand it normally loses about 20 bytes for each new file on the disk.
> Since our system can write lots of data we have cases where our memory monitor shows the 
> memory getting quickly sucked up 
> 
> 1. Has anyone seen this?
>
> 2. Does anyone have source code to check if files are cross linked?
>  I heard if the system is turned off with a open file, you could get  
>  cross linked files.
> 
> 3. Anyone else know of other nonboard specific gotchas and fixes?
    


From espin@idiom.com  Sat Jan 17 13:42:09 1998
From: Geoffrey Espin <espin@idiom.com>
Date: Sat Jan 17 13:42:12 PST 1998
Subject: Re: unbuffered ANSI streams

> Subject: Re: unbuffered ANSI streams
> Date: 16 Jan 1998 12:00:14 GMT
> From: gj@mail.ast.cam.ac.uk (Gareth Jones)
> Organization: Royal Greenwich Observatory, Cambridge (UK)
> FISH wote:
> > I have NFS mounted a unix disk. I opened a file
> > on this using fopen() and set no-buffering option using 
> > setvbuf(). I cannot get the system to write the data
> > to the file unless I fclose() it !! fflush() does not
> > help either.
> 
> I have encountered this too, but in the system I worked on it
> was not an issue. However, I remember reading/being-told
> some time ago that the reason for this is that the directory
> entry on the host system (presumably SUN?) is not updated until
> the file is closed? Is this actually the case? could someone
> shed a little light on this one?
> 
> Thanks,
> Gareth Jones
> RGO Technology Division

The VxWorks NFS "driver" has an internal 8K cache.
Try this, usrConfig.c:usrRoot(),

    extern int nfsMaxMsgLen;
    nfsMaxMsgLen = 0;	/* default is 8K */
I don't recall if I've ever tried a zero size cache.
Or one can (from the shell set "nfsCachSize = <small value>"
as long as a file is already open.


Geoff
---
Geoffrey Espin espin@idiom.com



From espin@idiom.com  Sat Jan 17 13:49:26 1998
From: Geoffrey Espin <espin@idiom.com>
Date: Sat Jan 17 13:49:30 PST 1998
Subject: Symbol s_userGet in VxSim target

Thomas,

(from the vxWorks newsgroup reject pile)

> >From: thomas.arand@oen.siemens.de (Arand, Thomas)
> >To: vxwexplo@lbl.gov ('vxwexplo@lbl.gov')
> >Content-Type: text/plain; charset="ISO-8859-1"
> >Content-Transfer-Encoding: quoted-printable
> >Organization: Siemens AG
> >Date: Fri, 16 Jan 1998 10:30:15 +0100
> >Subject: Symbol s_userGet in VxSim target
> >Hi VxSim world,
> >
> >does anyone know about the symbol s_userGet in the VxSim target? I   =
> >sometimes get the error message =22s_userGet: getenv failed=22 when VxSim   =
> >=
> >starts up.  Can anyone explain this?
> >
> >Thanks in advance,

I think this is an age-old bug, I can't recall if I ever knew what
triggered it.

s_userGet() is an internal "glue" routine, which calls u_getenv(),
u_gethostname(), u_xxx, to get from your UNIX enviroment info useful
to VxSim (like calculating your bootline automagically).
Anyways, getenv("USER") can sometimes return null/error.
You can probably continue to ignore it.

Geoff
--
Geoffrey Espin espin@idiom.com


From froeber@BBN.COM  Sun Jan 18 19:05:47 1998
From: Fred Roeber <froeber@bbn.com>
Date: Sun Jan 18 19:05:58 PST 1998
Subject: Re: NFS data not showing up on remote disk

FISH wrote about vxworks:
> 
> I have NFS mounted a unix disk. I opened a file
> on this using fopen() and set no-buffering option using 
> setvbuf(). I cannot get the system to write the data
> to the file unless I fclose() it !! fflush() does not
> help either.

Gareth Jones responded:

> I have encountered this too, but in the system I worked on it
> was not an issue. However, I remember reading/being-told
> some time ago that the reason for this is that the directory
> entry on the host system (presumably SUN?) is not updated until
> the file is closed? Is this actually the case? could someone
> shed a little light on this one?

First off, you have to make sure that you are actually opening the
file you want on the NFS mounted disk; not the default netDrv mounted
disk. If you don't specify the correct path name on your open, you
can end up with the file actually being opened on the wrong device.
Use the iosFdShow command to indicate what drive the file is being
opened with. The iosDrvShow command shows entry points for each of
the drives. Using lkAddr on the driver entry points can tell you
which drive is which.

Second, there is the issue of buffering. By default, NFS buffers up
data in 8K chunks and doesn't write it out to disk until that much
data has accumulated.  Probably one of these reasons is why the
data doesn't seem to be getting written out. If you write more than
8KB to a file that is actually being handled by NFS, it has always
showed up on the other system in my experience (even if you don't
flush the data).   Fred

   |     Fred J Roeber,  BBN Systems & Technologies     |
   |   4 John Clarke Road   Middletown, RI  02842-5202  |
   |         froeber@bbn.com     401-848-3548           |


From tony.mayes@[194.184.137.2]  Mon Jan 19 00:12:39 1998
From: tony.mayes@[194.184.137.2]
Date: Mon Jan 19 00:12:43 PST 1998
Subject: Profibus and VxWorks

Can anyone help me with a source of, or supplier of a Profibus driver 
for Vxworks?

We want one for a system running on a PC/104 bus with Intel 486 / 
Pentium CPU's. We would prefer a supplier of both hardware and 
software.

I am interested in both slave and master drivers.

Thanks in advance.

Tony Mayes





Tony Mayes

Email address          tony.mayes@epid.eurotherm.co.uk

Phone 031 975243
Fax   031 977512

Eurotherm SpA, 
Via XXIV Maggio, 22070 Guanzate (CO), Italy

(NOTE: The opinions expressed within are my 
       own and are not necessarily  those 
       of my employer)



From brett.smith@wg.com  Mon Jan 19 05:09:47 1998
From: "Brett Smith"<brett.smith@wg.com>
Date: Mon Jan 19 05:09:50 PST 1998
Subject: Re[2]: WindView questions with Tornado 1.0.1 


     Ethernet is not required for WindView, at least not with an x86 
     target.  I had WindView running over a serial target server for a 
     p-133.
     
     The only thing I had to do was build with WDB configured for serial 
     and included the INSTRUMENTATION directive:
     
     #define INCLUDE_INSTRUMENTATION 
     
     in config.h
     
        BWS     
     
______________________________ Reply Separator _________________________________
Subject: Re: WindView questions with Tornado 1.0.1 
Author:  <vxwexplo@lbl.gov (the vxWorks Users Group Exploder) > at wg-ral-smtp 
Date:    1/15/98 6:17 AM
     
     
Submitted-by clare@bis.kodak.COM  Thu Jan 15 06:17:00 1998 
Submitted-by: clare@kodak.com (Bill Clare)
     
> 
>      Hey
>      
>      I am using the Tornado 1.0.1 development software and a 401gf BSP. I 
>      am attempting to get the WindView tool up and running. I do not have 
>      an ethernet port on the target. 
>      I understand that the default configuration is for ethernet, but does 
>      it have to have one or can a seriel port be used and if so has anyone 
>      accomplished this?
>      Currently teh WindView does not work and I would like to get it 
>      running. Any help would be a great help.
     
Unless I am mistaken you need the ethernet connection for WindView.  I was not 
able to run until I got the network connection working. Unlike the other 
Tornado Tools, WindView doesn't work over the serial back end.
     
On page 4 of the WindView 1.0.2 Release Notes, it mentions that "For continuous 
monitoring of event data, your target must be equipped with an Ethernet 
interface."  It then goes on to mention that it can be over VME through another 
board (I was able to use WindView through a PC104-based network card attached 
to my x86 based CPU board).  The rest of the paragraph seems to indicated that 
if you are willing to use the post-mortem mode then you don't need an ethernet 
interface.
     
billc
     
Bill Clare, Software Engineer, Eastman Kodak Company   
Email: clare@kodak.com  Mail code: 2/5/EP 35425    Phone: (726)726-9419 
US Mail: 901 Elmgrove Road Rochester NY 14653-5425 Fax: (716)726-0129
Any opinions expressed herein are mine and not those of Eastman Kodak Company.




From wae@interspeed.com  Mon Jan 19 07:18:47 1998
From: William Edmondson <wae@interspeed.com>
Date: Mon Jan 19 07:18:50 PST 1998
Subject: RE: WindView questions with Tornado 1.0.1


[wae]  this is probably correct. i was thinking of crosswind.

bill
interSPEED

> 
>      Hey
>      
>      I am using the Tornado 1.0.1 development software and a 401gf BSP. I 
>      am attempting to get the WindView tool up and running. I do not have 
>      an ethernet port on the target. 
>      I understand that the default configuration is for ethernet, but does 
>      it have to have one or can a seriel port be used and if so has anyone 
>      accomplished this?
>      Currently teh WindView does not work and I would like to get it 
>      running. Any help would be a great help.

Unless I am mistaken you need the ethernet connection for WindView.  I was not
able to run until I got the network connection working. Unlike the other
Tornado Tools, WindView doesn't work over the serial back end.

On page 4 of the WindView 1.0.2 Release Notes, it mentions that "For continuous
monitoring of event data, your target must be equipped with an Ethernet
interface."  It then goes on to mention that it can be over VME through another
board (I was able to use WindView through a PC104-based network card attached
to my x86 based CPU board).  The rest of the paragraph seems to indicated that
if you are willing to use the post-mortem mode then you don't need an ethernet
interface.



From Huang.Wu@nrc.ca  Mon Jan 19 08:27:07 1998
From: "Wu, Huang" <Huang.Wu@nrc.ca>
Date: Mon Jan 19 08:27:10 PST 1998
Subject: SCSI devices

Hello Everyone,

Just very recently I upgrade vxworks from 5.3 to 5.3.1 in order to get
tape drive support. All my scsi drives (hard disk and floppy disk) work
well before upgrading. For version 5.3, I can detect tape drive when
scsi_auto_config is defined. But after upgrading,   none of  these
devices can be detected using scsi_auto_config.I also tried to configure
them manualy but I got nothing: scsiShow does not display any scsi
devices detected. The basic error message is Thread execution failed,
ScsiCommand Error and Request sense failed. I am wondering whether I
forgot to do something with this new version.
In version 5.3.1, include_scsi2 is defined by default:

	 In ../mv167/config.h, I include 

	#if     TRUE                    /* change FALSE to TRUE for SCSI
interface */
	#define INCLUDE_SCSI_DMA        /* Enable DMA for SCSI */
	#define INCLUDE_SCSI            /* include ncr710 driver */
	#define INCLUDE_SCSI_BOOT       /* include ability to boot from
SCSI */
	#define INCLUDE_DOSFS           /* file system to be used */
	#define INCLUDE_TAPEFS          /* undef tape file system if
necessary */
	/*#define SYS_SCSI_CONFIG*/     /* BSP provides sysScsiConfig,
in sysScsi.c */
	#define SCSI_AUTO_CONFIG
	#endif  /* FALSE/TRUE */

	Can anyone show me some light?
	Many thanks

	Huang
	Flight Research Lab
	huang.wu@nrc.ca



From kalalau!jmk@uu9.psi.com  Mon Jan 19 09:14:05 1998
From: jmk@acut.com (Joel Katz)
Date: Mon Jan 19 09:14:09 PST 1998
Subject: Re: NFS data not showing up on remote disk

>Submitted-by froeber@BBN.COM  Sun Jan 18 19:05:47 1998
>Submitted-by: Fred Roeber <froeber@bbn.com>
>
>FISH wrote about vxworks:
>> 
>> I have NFS mounted a unix disk. I opened a file
>> on this using fopen() and set no-buffering option using 
>> setvbuf(). I cannot get the system to write the data
>> to the file unless I fclose() it !! fflush() does not
>> help either.
>
>Gareth Jones responded:
>
>> I have encountered this too, but in the system I worked on it
>> was not an issue. However, I remember reading/being-told
>> some time ago that the reason for this is that the directory
>> entry on the host system (presumably SUN?) is not updated until
>> the file is closed? Is this actually the case? could someone
>> shed a little light on this one?
>
>First off, you have to make sure that you are actually opening the
>file you want on the NFS mounted disk; not the default netDrv mounted
>disk. If you don't specify the correct path name on your open, you
>can end up with the file actually being opened on the wrong device.
>Use the iosFdShow command to indicate what drive the file is being
>opened with. The iosDrvShow command shows entry points for each of
>the drives. Using lkAddr on the driver entry points can tell you
>which drive is which.
>
>Second, there is the issue of buffering. By default, NFS buffers up
>data in 8K chunks and doesn't write it out to disk until that much
>data has accumulated.  Probably one of these reasons is why the
>data doesn't seem to be getting written out. If you write more than
>8KB to a file that is actually being handled by NFS, it has always
>showed up on the other system in my experience (even if you don't
>flush the data).   Fred
>
>   |     Fred J Roeber,  BBN Systems & Technologies     |
>   |   4 John Clarke Road   Middletown, RI  02842-5202  |
>   |         froeber@bbn.com     401-848-3548           |
>
>**********


I've experienced the same phenomenon with disk logging. If you want to flush the output to the NFS server without closing the file, you can either use

fsync(open file descriptor)

or 

ioctl (open file descriptor, FIOSYNC, 0)

I've used this for logging status information on my target to a Unix host, so I really didn't want to keep opening and closing the file, but I also wasn't transmitting enough information to automagically flush the cache.



Joel Katz, Principal Engineer  --- (603)-577-5895
Acuity Imaging, 9 Townsend West, Nashua, NH 03063 --- (603)-577-5965 (FAX)




From frederick.g.linnemann@lmco.com  Tue Jan 20 07:03:39 1998
From: frederick.g.linnemann@lmco.com
Date: Tue Jan 20 07:03:43 PST 1998
Subject: Re: vxworks-users Diagnostics on a MVME1603 board running un

          You might try Algorithmics -  a British company that has 
          BSPs for Wind River Systems.   They have several low cost 
          $1K -$5K packages including debug sw routines ... we have 
          used their MIPS ISA package with success.  They may have one 
          for PPC ... their on the WWW - suggest you do a find as I 
          don't recall their Website address.
          
          Fred Linnemann
          Sanders
          603-885-4139


______________________________ Reply Separator _________________________________
Subject: vxworks-users Diagnostics on a MVME1603 board running under 
Author:  Susan J Henry <Susan.J.Henry@lmco.com> at INTERNET
Date:    1/16/98 8:04 AM


          
Hi,
          
We're working on an embedded stand-alone system (no networking) that resides on 
a ship.  If a failure is reported or the system isn't functioning properly, the 
sailor will run diagnostics on the PPC MVME1603 board.
          
Since there is no built-in-test on this board, we need to develop diagnostic 
tests to check out the integrity of the board.  Motorola does deliver PPCBUG 
with the board, however we need to run diagnostics while our application is 
running under VxWorks.  In addition, the sailor is not allowed to remove and 
replace components on the board.
          
Has anyone developed a set a diagnostics for the 1603 that runs under VxWorks?
          
Has anyone successfully incorporated PPCBUGs source code into an application 
that runs under vxWorks?
          
          
TIA,
Sue Henry
Lockheed Martin Launching Systems
410.682.0776
susan.j.henry@lmco.com
======================================================================== 
Help regarding Majordomo:
http://www.epic.lmco.com/Majordomo/Docs/majordomo.basic.html 
Archives for this list:
http://www.epic.lmco.com/Majordomo/Archives/vxworks-users 
Reply to the whole list: mailto:vxworks-users@epic.lmco.com
========================================================================


From cgrames@mdc.com  Tue Jan 20 14:26:38 1998
From: Charlie Grames <cgrames@mdc.com>
Date: Tue Jan 20 14:26:42 PST 1998
Subject: Bad VME Interrupt 0

VxWorks 5.3.1
MVME2604 1.1/3

All,

I am getting a sporadic system hang on one of my systems which contains an MVME2604 running
AIX and another running VxWorks.  It also contains a VMIC interrupter module which interrupts on
VME level 5.  The hang is preceded with the following messages at the console:

interrupt: received unknown interrupt 0
interrupt: bad vme interrupt 0

Has anyone seen this before, and do you know the cause and/or solution?  Any help would be
much appreciated.

Charlie Grames
The Boeing Company
(314) 233-1956
Charles.R.Grames@boeing.com


From bm417929@muenchen.org  Tue Jan 20 15:37:33 1998
From: bm417929@muenchen.org (Max Seeger)
Date: Tue Jan 20 15:37:37 PST 1998
Subject: Support for PPC750 and Pentium??

Hi,

does anybody know, when WRS plans to release the
VxWorks for a PowerPC 750 and the Pentium?

Thanks for help,
Max



From enrico.ferro@elsag.it  Wed Jan 21 02:44:22 1998
From: Enrico Ferro <enrico.ferro@elsag.it>
Date: Wed Jan 21 02:44:27 PST 1998
Subject: BSP from 1.0 to 1.0.1

Hi,
we have developed a simple BSP for a board having a Motorola 68360 CPU under
Tornado 1.0 / VxWorks 5.3.

Last week I received the upgrade package Tornado 1.0.1 and VXWorks 5.3.1. I
installed it and immediately tried to rebuild my BSP. The problem is, I got
plenty of compilation errors and I could not rebuild my BSP. 

I did not expect to encounter any problems just because I upgraded. Is there
someone out there who has experienced similar problems?

Thanks in advance to anyone who may reply
Enrico Ferro
Elsag Bailey Hartmann & Braun S.p.A.
Via Hermada 6, 16154 Genova - Italy
Tel. 0039-10-6586222 --- Fax. 0039-10-6586210
Home 0039-10-6517797
Work E-mail Enrico.Ferro@elsag.it
Backup work e-mail address Enrico.Ferro@usa.net
Home e-mail cluinfo@clu.assicomitalia.it




From daemon@csg.lbl.gov  Wed Jan 21 04:00:26 1998
From: daemon@csg.lbl.gov
Date: Wed Jan 21 04:00:30 PST 1998
Subject: comp.os.vxworks newsdigest

Comp.Os.Vxworks Daily Digest    Wed Jan 21 04:00:24 PST 1998

        Subject: Re: Real Time NT

-------------------------------------------------------

Newsgroups: comp.os.vxworks
Subject: Re: Real Time NT
Date: Tue, 20 Jan 1998 10:51:50 GMT
From: "Marc de Bruin" <mdb@oce.nl>
Organization: Oce-Technologies B.V. - Research & Development
Message-ID: <En2wyy.xL@oce.nl>
References: <199801162035.MAA26420@lbl.gov>
Sender: news@oce.nl (The Daily News @ nntp01.oce.nl)

>Wind River has no plans to support real time NT.  They do have some
>product that does windows, but that doesn't allow any Microsoft
>windows programs to run. I can't understand in the long run
>how they can hope to compete with a real time NT O.S. when GUIs
>are required. Is it just a matter of time before vxWorks will only be in
>small embedded systems like printers?
>
>Has anyone our there done an evaluation on Real Time NT O.S.s?

Take a look at http://www.lp-elektronik.com/

They provide vxWorks and WinNT, running together on one processor. I am
using it, and I like it a lot!

Marc.




---------------------------

End of New-News digest
**********************


From Richard.W.Mattox@lmco.com  Wed Jan 21 05:07:43 1998
From: Richard W Mattox <Richard.W.Mattox@lmco.com>
Date: Wed Jan 21 05:07:47 PST 1998
Subject: Ada vs C/C++


Hello Fellow VxWorks Users,

I requested input about which language or languages developers were using and 
got several responses.  First of all, thanks to all of those who did respond.  
Secondly, a few people requested that I post any statistics that I collected.  
Well, here are the results:  

     43%  C++
     43%  C
     14%  Ada83
     *0%  Ada95 

     14 Total Responses received.

*Note : one person did say they were looking at moving from Ada83 to Ada95

I printed out all of the responses I received and saved them.  If anyone would 
like a copy of the responses faxed to them I would be glad to do so.  Just drop 
me an e-mail message with your fax number.

Again, thanks to all that participated.


Rick Mattox
410.682.2315
richard.w.mattox@lmco.com


From cgrames@mdc.com  Wed Jan 21 06:19:03 1998
From: Charlie Grames <cgrames@mdc.com>
Date: Wed Jan 21 06:19:06 PST 1998
Subject: Support for PPC750 and Pentium?? -Reply

Wind River has BSPs for x86 processors, but I don't know any details.  As far as the PPC750 is
concerned, what platform are you considering?  Motorola's MVME2700, which incorporates the
750, is in production now.  Motorola currently supports the BSP, which is a derivative of the
MVME2604 BSP, and hopefully Wind River will pick up support for it in the not-too-distant future.

HTH

Charlie Grames
The Boeing Company
(314) 233-1956
Charles.R.Grames@boeing.com

>>> the vxWorks Users Group Exploder <vxwexplo@lbl.gov> 01/20/98 05:37pm >>>
Submitted-by bm417929@muenchen.org  Tue Jan 20 15:37:33 1998
Submitted-by: bm417929@muenchen.org (Max Seeger)

Hi,

does anybody know, when WRS plans to release the
VxWorks for a PowerPC 750 and the Pentium?

Thanks for help,
Max



From Richard.W.Mattox@lmco.com  Wed Jan 21 06:29:04 1998
From: Richard W Mattox <Richard.W.Mattox@lmco.com>
Date: Wed Jan 21 06:29:07 PST 1998
Subject: Results of the language poll


Hello Fellow VxWorks Users,

I will merge the results of the poll into a text file so that I can send 
electronic copies instead of faxes.  So if anyone is interested (2 people so 
far) I will send you the results electronically if you send me e-mail message 
directly to the address below.  I again reiterate that this is not an exhaustive
poll and it does not state that no one is using Ada95.  It states only that from
my limited sample there was no one using Ada95 and that one person was planning 
on moving to Ada95 from Ada83.

Rick Mattox
410.682.2315
richard.w.mattox@lmco.com


From hao@ct.med.ge.com  Wed Jan 21 08:18:47 1998
From: "L. Hao 5-4267 (Pager)558-6419" <hao@ct.med.ge.com>
Date: Wed Jan 21 08:18:52 PST 1998
Subject: fcntl questions

Hi, all VxWorks users,
     Does anyone know how to get around VxWorks's missing fcntl() to
successfully setup non-blocking I/O. ioctl(sFd, FIONBIO, 1) only works
for sockets. I have fds for pipes and am trying to find out how to make
it nonblocking.
     Any help is greatly appreciated. Thanks

-- 
Li Hao 
G.E. Medical Systems
email:Li.Hao@med.ge.com
Phone:785-4267 Pager:558-6419


From alai@squid.jpl.nasa.gov  Wed Jan 21 09:57:06 1998
From: Anthony Lai <alai@squid.jpl.nasa.gov>
Date: Wed Jan 21 09:57:10 PST 1998
Subject: Poll for ControlShell experience ...

Hi,

I have seen some very nice demo of a state-machine type CASE tool called
ControlShell made by RTI (http://www.rti.com/products/cs.html).  I have a
thought to use this CASE tool to control my VxWorks application and perform
repeatable testing.  I want to know if anyone can send me a few comments
about their experience with this tool.  Thanks a lot.

Anthony


********************************************************************
- Anthony S. Lai ---------------------------------------------------
- Jet Propulsion Laboratory              ---------------------------
= 4800 Oak Grove Drive, Mail Stop: 79-24     *  =======  **  =======
= Pasadena, CA 91109                         ** ==   = = **   ======
= Voice: (818) 354-0473                      ** =======  **    =====
= Fax:   (818) 393-4878                  ****** ==       ******  ===
***************************************   ***** ==       *******  **
********************************************************************



From cgrames@mdc.com  Wed Jan 21 12:00:24 1998
From: Charlie Grames <cgrames@mdc.com>
Date: Wed Jan 21 12:00:28 PST 1998
Subject: Bad VME Interrupt 0

VxWorks 5.3.1
MVME2604 1.1/3

Thanks to all who responded to my posting about "bad VME interrupt 0."  I located the errata
regarding VME interrupts on the Universe chip and have duly noted the information.  It turns out, in
our case, that the VMIC interrupter module we were using went bad.  We moved it to another
system, and the problem moved with it.  We have another module that seems to be working OK.

Charlie Grames
The Boeing Company
(314) 233-1956
Charles.R.Grames@boeing.com


From Stephen.Carruthers.scarruth@nt.com  Wed Jan 21 22:35:24 1998
From: "Stephen Carruthers" <Stephen.Carruthers.scarruth@nt.com>
Date: Wed Jan 21 22:35:27 PST 1998
Subject: FW: Queued signal problem in Tornado

>Calling all VxWorks hackers,
>
>We are having a problem queuing signals in Tornado, as follows. Does anyone
>else know about this?
>
>Thanks muchly,
>	- Steve
>
>Stephen Carruthers
>Nortel/Northern Telecom
>Wireless Networks Product Development
>Calgary, Alberta, Canada
>
>------------------------
>The code below can be compiled to one task. When it is running, it blocks the
>signal MY_SIG until it calls sigwaitinfo(). According to POSIX, if this task
>receives MY_SIG before calling sigwaitinfo(), the signal should be queued and
>will be handled after sigwaitinfo().
>However, in VxWorks Tornado 1.0.1, such signal is not queued. It is lost if
>it is sent before sigwaitinfo().
>
>/*==================================================
>sig_rcvr.cxx
>==================================================*/
>#include <stdlib.h>
>#include <errno.h>
>#include <unistd.h>
>#include <signal.h>
>#include <iostream.h>
>
>#define MY_SIG SIGRTMIN + 1
>
>void sig_handler(char *info)
>{
>  cout << "Signal received!" << endl;
>}
>
>void sig_receiver()
>{
>  // Setup signal mask
>  sigset_t mysigset;
>
>  sigemptyset(&mysigset);
>  sigaddset(&mysigset, MY_SIG);
>  sigprocmask(SIG_BLOCK, &mysigset, NULL);
>
>  // Do something
>  for (int counter = 0; counter < 30; counter++) {
>    for (long j = 0; j < 2000000; j++);
>    cout << counter << '\r' << flush;
>  }
>
>  // Handle signal
>  siginfo_t mysiginfo;
>
>  if (sigwaitinfo(&mysigset, &mysiginfo) < 0) {
>    perror("sigwaitinfo");
>    exit(1);
>  }
>
>  void *mystr = mysiginfo.si_value.sival_ptr;
>  sig_handler((char *) mystr);
>}
>
>
>


From sergi@bpo.hp.com  Thu Jan 22 01:21:03 1998
From: Sergi Casas <sergi@bpo.hp.com>
Date: Thu Jan 22 01:21:07 PST 1998
Subject: Re: FW: Queued signal problem in Tornado

This is a multi-part message in MIME format.
--------------2CE515E83765A78C89C84315
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

the vxWorks Users Group Exploder wrote:

> Submitted-by Stephen.Carruthers.scarruth@nt.com  Wed Jan 21 22:35:24 1998
> Submitted-by: "Stephen Carruthers" <Stephen.Carruthers.scarruth@nt.com>
>
> >Calling all VxWorks hackers,
> >
> >We are having a problem queuing signals in Tornado, as follows. Does anyone
> >else know about this?
> >
> ...
> >/*==================================================
> >sig_rcvr.cxx
> >==================================================*/
> >#include <stdlib.h>
> >#include <errno.h>
> >#include <unistd.h>
> >#include <signal.h>
> >#include <iostream.h>
> >
> >#define MY_SIG SIGRTMIN + 1

 I have also experienced that many vxWorks signals do not block correctly using
sigsetmask() or similars. If not properly blocked the symptom would be what you
are seeing, so I'd try with some different signal number (signals below 20 seem
to work better; I use SIGTERM and it blocks well).

Hope it helps.

--
Sergi Casas

Software Engineer (R&D)

Hewlett-Packard Co.

Barcelona Division - Spain



--------------2CE515E83765A78C89C84315
Content-Type: text/x-vcard; charset=us-ascii; name="vcard.vcf"
Content-Transfer-Encoding: 7bit
Content-Description: Card for Sergi Casas
Content-Disposition: attachment; filename="vcard.vcf"

begin:          vcard
fn:             Sergi Casas
n:              Casas;Sergi
org:            Hewlett Packard - Barcelona Division
email;internet: sergi@bpo.hp.com
title:          Software Engineer (R&D)
x-mozilla-cpt:  ;0
x-mozilla-html: TRUE
version:        2.1
end:            vcard


--------------2CE515E83765A78C89C84315--



From jshaw_shade@compuserve.com  Thu Jan 22 02:13:37 1998
From: John Shaw <jshaw_shade@compuserve.com>
Date: Thu Jan 22 02:13:41 PST 1998
Subject: SLIP between VxWorks and PC DOS

Greetings,

Has anyone succeeded in establishing a SLIP-based connection
between VxWorks (5.2) and a PC running MS-DOS 5 or above?

I have had a hunt around for public domain software to provide
a TCP/IP stack and SLIP support without much success.

I want the connection between a processor running VxWorks and
the PC to be direct, port to port, without modems. I also want
to avoid any Windows packages... the application I want to run
on the PC must be entirely DOS-based.

I would like to use SLIP to establish TCP connections across a
serial line between user applications written for either end.

Thanks.

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D
John Shaw,
Shade (Computer Services) Limited
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D
Email: jshaw_shade@compuserve.com=


From tei@adv.sbc.sony.co.jp  Thu Jan 22 02:46:20 1998
From: Tom Isaacson <tei@adv.sbc.sony.co.jp>
Date: Thu Jan 22 02:46:25 PST 1998
Subject: Re: BSP from 1.0 to 1.0.1

At 02:44 21/01/98 PST, you wrote:
>Hi,
>we have developed a simple BSP for a board having a Motorola 68360 CPU under
>Tornado 1.0 / VxWorks 5.3.
>
>Last week I received the upgrade package Tornado 1.0.1 and VXWorks 5.3.1. I
>installed it and immediately tried to rebuild my BSP. The problem is, I got
>plenty of compilation errors and I could not rebuild my BSP. 
>
>I did not expect to encounter any problems just because I upgraded. Is there
>someone out there who has experienced similar problems?
>
>Thanks in advance to anyone who may reply
>Enrico Ferro
>Elsag Bailey Hartmann & Braun S.p.A.
>Via Hermada 6, 16154 Genova - Italy
>Tel. 0039-10-6586222 --- Fax. 0039-10-6586210
>Home 0039-10-6517797
>Work E-mail Enrico.Ferro@elsag.it
>Backup work e-mail address Enrico.Ferro@usa.net
>Home e-mail cluinfo@clu.assicomitalia.it

I am also having problems getting Tornado 1.0.1 working (on a Motorola
63840), but I didn't have any problems compiling the BSP. Have you made the
necessary changes to your setup that are specified in the installation
manual? What is your host platform? I am using Unix (sun4-solaris2).

I have managed to compile my BSP succeessfully, but I can't get my code to
download to the board when I am running the BSP. It rejects some of the
object files. Has anyone else experienced this problem?

____________________________________________________________________

Tom Isaacson                                           . o o O O O
Systems Product Development (SPD),                     . o o O O
Sony Broadcast & Professional Europe,                  . o o O O
Jays Close, Viables,                                   . o o O O O
Basingstoke.               Tel: +44 (0) 1256 355011    . o o O O O O
RG22 4SB                   DDI: +44 (0) 1256 483460    . o o O O O O
United Kingdom             Fax: +44 (0) 1256 483591    . o o O O O
mailto:tei@adv.sbc.sony.co.jp
____________________________________________________________________


From daemon@csg.lbl.gov  Thu Jan 22 04:01:59 1998
From: daemon@csg.lbl.gov
Date: Thu Jan 22 04:02:03 PST 1998
Subject: comp.os.vxworks newsdigest

Comp.Os.Vxworks Daily Digest    Thu Jan 22 04:01:57 PST 1998

        Subject: Re: Soundblaster in VxWorks?
        Subject: Re: NFS for Windows NT 4.0 ???
        Subject: VME, Motorola and VxWorks

-------------------------------------------------------

Newsgroups: comp.os.vxworks
Subject: Re: Soundblaster in VxWorks?
Date: Wed, 21 Jan 1998 08:10:57 -0500
From: Kevin Bradley <kb+@andrew.cmu.edu>
Organization: Doctoral student, Electrical and Computer Engineering, Carnegie Mellon, Pittsburgh, PA
Message-ID: <0olTDVG00iWP01NLs0@andrew.cmu.edu>
References: <34C5AAC5.79DF8D0F@cts.com>

Excerpts from netnews.comp.os.vxworks: 20-Jan-98 Soundblaster in
VxWorks? by Ingo Pakleppa@cts.com 
> I just got the task to throw together some software for using a
> SoundBlaster under VxWorks (486 hardware). I don't know much about
> VxWorks yet and was wondering whether somebody already wrote a driver
> and has that for sale, or alternately has some partially working (or
> even non-working) code that would give me a head start. Any help at all
> would be appreciated!

I've ported something called SMIX from Ethan Brodsky for VxWorks
for the SoundBlaster 16 only; it could probably be migrated to
other SoundBlaster platforms.

SMIX comes from:
http://www.xraylith.wisc.edu/~ebrodsky/


There's also a commercial driver from 4Front Technologies:
http://www.4front-tech.com/vxworks.html

I've not tried their driver, but I know they support Linux and
other Unixes quite well, and provide full-featured drivers.

My driver only does output and MIDI read, 'cause that's what I needed
for my project; I tried simultaneous input / output, but got hung up
and just skipped it.  I'd already gotten it working when I heard
about 4Front's, but there 

Driver features:

    1)  up to 20 simultaneous output channels at different sampling
        rates supported.  All outputs are mixed together at 44.1 kHz
        stereo.
    2)  Blocking write.
    3)  Driver does sampling rate and multi-channel conversions.


Unfortunately, performance is rather spotty -- zero-order hold
sampling rate conversion runs at about 20% CPU on a Pentium / 75
(11.25 kHz to 44.1), polyphase at about 80%.  I also have code
for a bandlimited interpolator, but it's got some problems still.

Anyway, the driver is usable in a variety of applications.  I've
used it in MPEG audio players and video games on VxWorks, and in
a short-lived software MIDI synthesizer (read MIDI event, spawn
note).

If you're interested, drop me a line, and I'll tar up what I have.



                                                    -- Kevin


---------------------------

Newsgroups: comp.os.vxworks,comp.realtime
Subject: Re: NFS for Windows NT 4.0 ???
Date: Wed, 14 Jan 1998 21:25:38 +0000
From: Philippe Le Foll <phillf@fridu.com>
Organization: Wanadoo - (Client of French Internet Provider)
Message-ID: <34BD2D51.46AA913A@fridu.com>
References: <34B37225.1E656C2D@wawel.cyfronet.krakow.pl> <698p71$3dg$1@winter.news.erols.com> <34BA1CF6.2F6754F0@ornl.gov>

Dennis Depp wrote:

> Dave,
>
> While Samba works very well to map Unix drives on an NT server, I don't think
> it will work in the other direction, ie.  you can't map a disk on an NT server
> to a Unix workstation.
>
> Dennis Depp, d5p@ornl.gov
>

This mainly depend on your UNIX, Linux can have some routines of samba include
directely in 2.0.x kernel, this allows you to mount a NT or WIN95 disk from your
Unix box whit almost no configuration (and no security ...).

If you want to access a disk from VxWorks, you could also port some routine
of samba on VxWorks, it should not be a huge job.

I personnally ported SUN ONC/RPC on NT, and SUN C code almost compile
with no modification under NT, some distributions are freely avaliable, and
one include a small and pretty huggly NFS server that could be enough
for VxWorks to write some data on your PC disk.

The best alternative to me is surely to port Samba on VxWorks
I even don't understand why Wind River don't make it.

Philippe


---------------------------

Newsgroups: comp.os.vxworks,comp.dsp,comp.realtime,sci.engr.control,comp.arch.embedded,comp.arch.bus.vmebus
Subject: VME, Motorola and VxWorks
Date: Thu, 15 Jan 1998 19:36:43 +0100
From: Friedrich Scheurer / ZFS <zfssrr@zfssun6.tz.rus.uni-stuttgart.de>
Organization: Zentrum Fertigungstechnik Stuttgart
Message-ID: <34BE573B.A3@zfssun6.tz.rus.uni-stuttgart.de>

Hi,

searching for a Control-Prototyping-Hardware that runs under VxWorks
several questions occured. Since i am not so familiar with electronics,
bus systems and computer-hardware i am posting my questions:

What throughput time can i get on the VME-Bus using single read actions?
Does it mostly depend on the used master-CPU? 
What improvement can be expected transfering connected datablocks of
10-15 words?

What throughput time has the TUNDRA-Universe PCI-to-VME-Bridge, recently
used on single board computers, for those above described accesses?

I heard about some problems of the MVME 26XX PowerPC-Boards in accessing
VME-Bus through the TUNDRA-Bridge? 
- - interrupt latency of some 10 microseconds 
- - considerable context switching time under VxWorks

F. Scheurer


+-------------------------------------------------+
|                                                 |
| Dipl.-Ing. F. Scheurer                          |
|                                                 |
| c/o Zentrum Fertigungstechnik Stuttgart         |
|     Center for Production Technology Stuttgart  |
| Nobelstrasse 15                                 |
| D-70569 Stuttgart                               |
|                                                 |
| Telefon +49 711 13162-41(-0)                    |
| Fax     +49 711 13162-11                        |
| E-Mail  scheurer@zfs.rus.uni-stuttgart.de       |
|         zfssrr@zfssun6.tz.rus.uni-stuttgart.de  |
|                                                 |
+-------------------------------------------------+
|                                                 |
| privat:                                         |
| Telefon +49 7161 686362                         |
| Fax     +49 7161 686301                         |
| E-Mail  Friedrich.Scheurer@t-online.de          |
|                                                 |
+-------------------------------------------------+

---------------------------

End of New-News digest
**********************


From msaunders@taz.dra.hmg.gb  Thu Jan 22 04:37:24 1998
From: "Land Systems 4" <msaunders@taz.dra.hmg.gb>
Date: Thu Jan 22 04:37:28 PST 1998
Subject: (Fwd) DCRsi interface to VME-VxWorks

We need to interface a high speed digitiser with a DCRsi output into 
a PowerPC based VME system running VxWorks, has anybody got any 
ideas? 
ls4@taz.dra.hmg.gb


From cjgarcia@unex.es  Thu Jan 22 06:29:06 1998
From: "Carlos J. Garcia Orellana" <cjgarcia@unex.es>
Date: Thu Jan 22 06:29:18 PST 1998
Subject:  About 3Com net cards drivers for VxWorks


Hello,

Has anybody a driver for de Fast Ethernet 3Com network cards for =
VxWorks?

Thanks in advance.

Carlos Javier Garc=EDa Orellana
Dpto. de Electronica
Universidad de Extremadura
SPAIN

e-mail: carlos@nernet.unex.es


From prager@tcville.es.hac.com  Thu Jan 22 07:48:58 1998
From: Kenneth Prager <prager@tcville.es.hac.com>
Date: Thu Jan 22 07:49:02 PST 1998
Subject: Re: (Fwd) DCRsi interface to VME-VxWorks

>Submitted-by msaunders@taz.dra.hmg.gb  Thu Jan 22 04:37:24 1998
>Submitted-by: "Land Systems 4" <msaunders@taz.dra.hmg.gb>
>
>We need to interface a high speed digitiser with a DCRsi output into
>a PowerPC based VME system running VxWorks, has anybody got any
>ideas?
>ls4@taz.dra.hmg.gb


There is a company named Tri-Plex Systems which makes a VME-based DCRSi
interface.  Their telephone number was 301-290-7711 the last time I had
contact with them (3 or 4 years ago).

Ken Prager




From cjgarcia@unex.es  Thu Jan 22 08:00:28 1998
From: "Carlos J. Garcia Orellana" <cjgarcia@unex.es>
Date: Thu Jan 22 08:00:32 PST 1998
Subject: Bootting VxWorks from PCI net card ROMs

Hello,

I works with VxWorks for Intel x86, and I=B4m interested in bootting =
VxWorks with a EPROM, so, I have thought it could be using the PCI net =
card boot ROM.=20
But, how can I do it?

Thanks.

Carlos Javier Garcia Orellana
Universidad de Extremadura
SPAIN

e-mail: carlos@nernet.unex.es


From eugenel@flash.condorsys.com  Thu Jan 22 10:01:58 1998
From: eugenel@flash.condorsys.com (Eugene Leung x714)
Date: Thu Jan 22 10:02:02 PST 1998
Subject: compress and decompress application

Hi all,

The application that we are working with got too large for the available flash.
We are using tornado 1.0.1 with the MVME2603.  We want to compress the 
application to flash and during boot, uncompress and load the application.  
My questions are:

What are the procedures to compress (using deflate or compress?)?
Do I simply run one of these routines?

how to get the size be determined by the bootcode?

When calling inflate to decompress, should I malloc the required space
to inflate the application to prior to doing a ld?

Any gotcha I should be aware of?

Please reply directly to eugenel@condorsys.com.  TIA.

Eugene Leung


From frank@info-age.net  Fri Jan 23 01:08:32 1998
From: Frank Fischer <frank@info-age.net>
Date: Fri Jan 23 01:08:38 PST 1998
Subject: Problem with USER_RESERVED_MEM

This is a multi-part message in MIME format.
--------------23EFC651F6BC84696AC7619F
Content-Type: text/plain; charset=us-ascii
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit

Hi...
I am using Tornado 1.0.1 on a PowerPC ( 860/821 ).

We have to split the memory in two parts: one with cache enabled and
another without cache. All the memory is on the same module and is
handeled by the same memory controller. The memory is then used by
external devices.

To keep the memory located at the very end of the memory map clear of
vxWorks I set the define USER_RESERVED_MEM on a valid value.

The effects are quite curious. Everything seems to run normal. All
functions sys* are running as expected. But functions like printf return
the first argument and nothing happens at all. As soon as I set
USER_RESERVED_MEM to zero everything is allright.

If anyone could explain this effect and fix my world...!!

Thanx...

CU

0xff
Frank Fischer
Embedded Systems Design
DHF - Gesellschaft fuer Datenverarbeitung



--------------23EFC651F6BC84696AC7619F
Content-Type: text/x-vcard; charset=us-ascii; name="vcard.vcf"
Content-Transfer-Encoding: 7bit
Content-Description: Card for Frank Fischer
Content-Disposition: attachment; filename="vcard.vcf"

begin:          vcard
fn:             Frank Fischer
n:              Fischer;Frank
org:            DHF - Gesellschaft fr Datenverarbeitung
email;internet: frank@info-age.net
x-mozilla-cpt:  ;0
x-mozilla-html: FALSE
end:            vcard


--------------23EFC651F6BC84696AC7619F--



From info@triada.si  Fri Jan 23 01:50:35 1998
From: Jure Ferbezar <info@triada.si>
Date: Fri Jan 23 01:50:39 PST 1998
Subject: Re: SLIP between VxWorks and PC DOS

>Has anyone succeeded in establishing a SLIP-based connection between
>VxWorks (5.2) and a PC running MS-DOS 5 or above?

yes we were using telnet client on the PC conected over slip to Vxworks
5.3 The following drivers and SW worked:

slip driver by Peter Tattam
trumpet TCP packet driver by Peter Tattam
telnet client MUDCALLER by Peter Haight
NCSA telnet client

Try with this.

-----------------------------------------------------------
Jure Ferbezar <info@triada.si>

Triada d.o.o.
Rozna dolina 9/3
1000 Ljubljana
Slovenia
Europe

fax: +386-61-1234-166
tel: +386-61-1234-891
-----------------------------------------------------------



From daemon@csg.lbl.gov  Fri Jan 23 04:01:22 1998
From: daemon@csg.lbl.gov
Date: Fri Jan 23 04:01:25 PST 1998
Subject: comp.os.vxworks newsdigest

Comp.Os.Vxworks Daily Digest    Fri Jan 23 04:01:20 PST 1998

        Subject: Re: ppp implementation for vxworks

-------------------------------------------------------

Newsgroups: comp.os.vxworks
Subject: Re: ppp implementation for vxworks
Date: Sat, 17 Jan 1998 05:35:34 GMT
From: jdeffner@west.net (john deffner)
Organization: West.Net Communications
Message-ID: <69pfjm$7kj@daffy.sb.west.net>
References: <68vamr$f46$1@news00.btx.dtag.de> <34BDADC6.B48DF1E8@xmission.com>

On Wed, 14 Jan 1998 23:33:43 -0700, Wes Peters <softweyr@xmission.com>
wrote:

>Martin Sauter wrote:
>> does anyone know of companies that offer ppp solutions for VxWorks?

On a reasonably related subject, does the slip implementation in
tornado 1.0 have any known problems? 

I've been trying to use one of the serial ports on my x86 target as a
slip port with little luck. I'm including the proper libraries and
defines I think, but when I call slipInit from the shell it just comes
back with -1. Not very informative. There's a slip client on the other
end of the wire, and the hardware is known good. 

I'd hate to spend much more time on it and then find out that everyone
but me knows it's always been broken.

Any thoughts?


---------------------------

End of New-News digest
**********************


From bernard@iotek.ns.ca  Fri Jan 23 06:54:53 1998
From: Bernard Whalen <bernard@iotek.ns.ca>
Date: Fri Jan 23 06:57:57 PST 1998
Subject: Booting from flash on MVME2604


Hi all,

Hi have been attempting to boot an vxworks application from flash on a
MVME2604 rather than from the network. I have been successful in putting
this application in flash but I am having a problem with the network
when this application runs. The application opens a tcp socket with a
workstation. This works correctly when booting from the network but not
when booting from flash. This board has the Open Firmware which trashes
the boot line so I run bootParamsPrompt and sysNvRamSet to setup the
network interface. After doing this the I see the familiar
network initialization ("Attaching network interface dc0 ... done", etc).
If I run tcpstatShow I see that the MVME2604 is receiving packets as
the workstation attempts to connect but the MVME2604 is not sending any
packets.

I've gotten no response from WRS support on this one and I've run out of
ideas to try. Has anyone successfully booted an application from flash on
the MVME2604 that uses the network after booting? 

I am using Tornado 1.0.1 with all the lastest PPC patches.

Thanks for any help.

Bernie
--
Bernie Whalen  | MDA, 1000 Windmill Rd, Suite 60   | Ph: (902)481-3528
bernard@mda.ca | Dartmouth, N.S., Canada, B3B 1L7  | Fax:(902)468-2278




From mmcquade@aa.net  Fri Jan 23 10:30:59 1998
From: Mike McQuade <mmcquade@aa.net>
Date: Fri Jan 23 10:31:02 PST 1998
Subject: Re: Booting from flash on MVME2604


vxworks

At 06:58 AM 1/23/98 PST, you wrote:
>Submitted-by bernard@iotek.ns.ca  Fri Jan 23 06:54:53 1998
>Submitted-by: Bernard Whalen <bernard@iotek.ns.ca>
>
>
>I've gotten no response from WRS support on this one and I've run out of
>ideas to try. Has anyone successfully booted an application from flash on
>the MVME2604 that uses the network after booting? 
>
>I am using Tornado 1.0.1 with all the lastest PPC patches.
>



Bernie,

Our instrument runs out of flash, and uses the network (FTP, NFS, HTTP), 
we have a problem with the LATEST version of the BSP (rev /4), with rev /4,
we our application wont even startup.


My point is that rev /4 of the BSP changed something, whatever it was,
it hosed our application. We had to drop back to rev /3 of the BSP
with ALL patches.


You might want to update to PPC BUG, this will keep your NVRAM from
getting trashed. The update is painless, and available on Motorola's
FTP site.


Mike.







From espin@idiom.com  Fri Jan 23 16:46:09 1998
From: Geoffrey Espin <espin@idiom.com>
Date: Fri Jan 23 16:46:13 PST 1998
Subject: i960RPLV vxWorks 5.3.1 problems

Folks, 

Problems with (Cyclone) i960RP BSP on VxWorks 5.3.1.
Version # (from sysLib.c):
    "01d,19mar97,myz  changed sysPhysMemTop for i960RD support."

I've been trying to figure out bus errors for this board and have
found and enabled BMER/MEAR registers, but it just a one-shot and
I guess an NMI int-handler needs to reset this.  Has anyone done this?
Ultimately, we want to catch signals (SIGBUS/SEGV).

However, I then wrote some test code to make sure signal handling
in general was working... it doesn't look like it!??  E.g. I trap
all signals 1-31 and then generate a divide-by-zero... only the
built-in "arithmetic exception" is displayed.  If I use
"kill(tid, <signum>)" that works fine.
Yep, INCLUDE_SIGNALS is defined, also INCLUDE_EXC_TASK/HANDLING.

It appears that sysIntConnect(RP_VIRT_CORE_NMI, rtn, arg)
probably needs to be hooked up... but how does "excExcHandle"
and/or the underlying _func_sigExcKill, etc. get run?
The supplied sysIntDefaultHandler() seems quite inadequate. 

Other problems:
We have a 4M board, it appears the romInit.s calculation
always comes up with 8M... anyone seen this?

I've searched the Windsurf Reports to no avail.

TIA,
Geoff
-- 
Geoffrey Espin espin@idiom.com


From daemon@csg.lbl.gov  Sat Jan 24 04:00:34 1998
From: daemon@csg.lbl.gov
Date: Sat Jan 24 04:00:37 PST 1998
Subject: comp.os.vxworks newsdigest

Comp.Os.Vxworks Daily Digest    Sat Jan 24 04:00:31 PST 1998

        Subject: Initialising Video Mode 640x400/800x600 on PC

-------------------------------------------------------

Newsgroups: comp.os.vxworks
Subject: Initialising Video Mode 640x400/800x600 on PC
Date: Sat, 17 Jan 1998 20:28:59 +0100
From: Torsten Rupp <rupp@fzi.de>
Organization: University of Karlsruhe, Germany
Message-ID: <34C1067A.794BDF32@fzi.de>

Hello,

I'm looking for a source code fragment to initialise the video mode
640x400 or 800x600 (256 colors) on a standard PC without using
a BIOS function (because the PC is running with vxWorks :-)). All
examples I can find use PC BIOS interrupt 10h to enable the graphics
mode. 

Thanx.

Bye,

 Torsten

- -- 
Computer Science Research Center (FZI)   phone : +49-721-9654-302
Mobility Management and Robotics         fax   : +49-721-9654-309
Haid-und-Neu-Str. 10-14                  e-mail: rupp@fzi.de
D-76131 Karlsruhe (Germany)              www   : www.fzi.de/robot

---------------------------

End of New-News digest
**********************


From yzur@qualcomm.com  Sun Jan 25 03:24:47 1998
From: Joseph  Zur <yzur@qualcomm.com>
Date: Sun Jan 25 03:24:50 PST 1998
Subject: VxWorks on a PC card

Hi,

I am going to run VxWorks on a standard off the shelf PC card (386 or 486).
I need some information on how the VxWorks runs on the CPU, does it come up
after the BIOS or does it replaces the BIOS , how to eliminate the DOS, has
anyone good pointers or references that apply ?

Thanks in advance

--- '0|'


From daemon@csg.lbl.gov  Sun Jan 25 04:01:24 1998
From: daemon@csg.lbl.gov
Date: Sun Jan 25 04:01:28 PST 1998
Subject: comp.os.vxworks newsdigest

Comp.Os.Vxworks Daily Digest    Sun Jan 25 04:01:22 PST 1998

        Subject: VxWorks drivers
        Subject: Re: Real Time NT
        Subject: Fibre Channel + vxworks
        Subject: CAN bus drivers?

-------------------------------------------------------

Newsgroups: comp.os.vxworks
Subject: VxWorks drivers
Date: Fri, 16 Jan 1998 15:23:00 -0600
From: jeff.ogden@das.honeywell.com
Organization: Deja News Posting Service
Message-ID: <884985560.1173553161@dejanews.com>
Reply-To: jeff.ogden@das.honeywell.com

Is there a current FAQ for this group? The only FAQ I've been able to
find was dated 1994. The main reason I ask is that I sure would like to
know of lists or sites that might contain various VxWorks device drivers.
Specifically, I'm looking for a driver for the AMD87C970 ethernet chip
and a driver for the MPC106 chip (this is similair to the Raven chip on
Motorola MVME2603 boards).  Thanks!

Jeff Ogden
Honeywell
jeff.ogden@das.honeywell.com

- -------------------==== Posted via Deja News ====-----------------------
      http://www.dejanews.com/     Search, Read, Post to Usenet

---------------------------

Newsgroups: comp.os.vxworks
Subject: Re: Real Time NT
Date: Fri, 16 Jan 1998 16:45:11 -0500
From: Kevin Bradley <kb+@andrew.cmu.edu>
Organization: Doctoral student, Electrical and Computer Engineering, Carnegie Mellon, Pittsburgh, PA
Message-ID: <gojxHbK00iWP01lwE0@andrew.cmu.edu>
References: <199801162035.MAA26420@lbl.gov>

Excerpts from netnews.comp.os.vxworks: 16-Jan-98 Real Time NT by "Mark
Menge"@pluto.dspt. 
> Wind River has no plans to support real time NT.  They do have some 
> product that does windows, but that doesn't allow any Microsoft 
> windows programs to run. I can't understand in the long run
> how they can hope to compete with a real time NT O.S. when GUIs
> are required. Is it just a matter of time before vxWorks will only be in
> small embedded systems like printers?

Just as an aside, I think that targets requiring Microsoft products
and hard real-time are an extreme subset.  Unless, of course,
the Martians want to run Word.

Also, the real-time NT OS's are _still_ resource hungry.  Having
a 32 MB + 1 GB hard drive requirement on all target-platforms may be
a bit expensive compared to a card with 8 MB + 1MB boot ROM.
I'm pulling requirements for NT out of thin air; I think if you
really work at it, you can run NT in 8 MB of RAM + 10 MB hard
drive, but then you probably won't be able to run Word or PowerPoint,
which is not what you're talking about.

There's also an issue of "WindRiver supporing real-time NT". What
does that mean, in general?  Should VxWorks run Word, or support
Win32, or what?  There's a product that supports Win32 called
RT-Win, which allows concurrent VxWorks and Win95.  There's also
a variety of user interfaces for VxWorks platforms.


> Has anyone our there done an evaluation on Real Time NT O.S.s?

There was a flurry of activity about this on comp.realtime
a few months ago, so you'd probably be able to find posts
there.

No-one has really done a hard look at the real-time extensions
yet.  The consensus seems to be that they help out, but are
still not perfect.

We were contemplating doing an analysis, but the extensions
we got from VenturCom were not instrumented at all, so we're
punting to a later date (if at all).  When I say instrumented,
I mean something akin to WindView that would really easily
allow their behavior to be observed and analyzed.  Having to
instrument the OS without source-code is a pain.

There was one interesting evaluation made by some guys at GM,
but it didn't seem to draw any conclusions.
http://www.arcweb.com/omac/Documents/doc_list.htm

Also, the real-time encyclopedia has some information.
http://www.Realtime-info.Be/encyc/market/rtos/ntspecial.Htm



                                                        -- Kevin


---------------------------

Newsgroups: comp.os.vxworks
Subject: Fibre Channel + vxworks
Date: Sat, 24 Jan 1998 18:55:17 +0000
From: Michael Morrison <mike@ringo.reno.nv.us>
Organization: My House
Message-ID: <34CA3915.C68598CC@ringo.reno.nv.us>

Hi there,

Does anyone know of a manufactorer of PCI Fibre Channel cards 
with VxWorks drivers?

Thanks

mike@ringo.reno.nv.us
mikem@sdlabs.com

---------------------------

Newsgroups: comp.os.vxworks
Subject: CAN bus drivers?
Date: Mon, 19 Jan 1998 15:09:58 -0800
From: Mike Horan <mike@dynatem.com>
Message-ID: <34C3DD46.101F@dynatem.com>

Does anyone know if VxWorks drivers for the CAN bus
are available?

- -- 

Mike Horan			PH:	714-855-3235
Dynatem Inc.			FAX:	714-770-3481
23263 Madero, Suite C		Email:	steve@dynatem.com
Mission Viejo, CA 92691		Web:	http://www.dynatem.com


---------------------------

End of New-News digest
**********************


From jj_boom@signaal.nl  Mon Jan 26 00:35:33 1998
From: jj_boom@signaal.nl (Boom J.J.)
Date: Mon Jan 26 00:35:38 PST 1998
Subject: VME-DCRsi interface

msaunders@taz.dra.hmg.gb wrote

>We need to interface a high speed digitiser with a DCRsi output into
>a PowerPC based VME system running VxWorks, has anybody got any
>ideas?

There is a company named MYRIAD Logic which makes a VME-based DCRsi interface.
The address is:

MYRIAD Logic
1109 Spring Street
Silver Spring, MD20910
FAX (301) 588-0605 (301) 588-1900
Email: roc@myriadlogic.com

Jan Boom

---------------[This message contains Unclassified information]----------------
|                                                                             |
|  Jan Boom (db646)                                                           |
|  System Integration & Testing Department                                    |
|  Hollandse Signaalapparaten B.V.,                                           |
|  P.O. Box 42                           ____    ____         ____  ____      |
|  7550 GD  Hengelo, The Netherlands    /   / / /   / /|   / /   / /   / /    |
|  Phone  : +31-(0)74-2483118          /___  / /___  / |  / /___/ /___/ /     |
|  Fax    : +31-(0)74-2484042             / / /   / /  | / /   / /   / /      |
|  E-Mail : jj_boom@signaal.nl       /___/ / /___/ /   |/ /   / /   / /___    |
|                                                                             |
-------------------------------------------------------------------------------




From thomas.arand@oen.siemens.de  Mon Jan 26 00:42:05 1998
From: thomas.arand@oen.siemens.de (Arand, Thomas)
Date: Mon Jan 26 00:42:08 PST 1998
Subject: IDTS 465 evaluation board


Hi VxWorks World,

does anyone in the world use the IDTS 465 evaluation board with the MIPS   =
=
4700 processor on it?

When trying to download modules to the target I often get a   =
LOADER_RELOCATION_ERROR. Did anyone encounter this also?

Thanks for answers,

Thomas
 ----------------------------------------------------------------------
Thomas Arand                              Siemens AG
Tel.  +49 - 89 - 722 42296
Fax. +49 - 89 - 722 26572
thomas.arand=40oen.siemens.de




From igal@tadirantele.com  Mon Jan 26 07:53:16 1998
From: Igal Chernobelsky <igal@tadirantele.com>
Date: Mon Jan 26 07:53:21 PST 1998
Subject: Remove from immediate VxWorks mail list

This is remove from immediate VxWorks mail list request
Thanks

-- 
 Igal Chernobelsky
 Wireless Systems
 Tadiran Telecommunications, Israel
 Tel: 972-3-9263600  Fax: 972-3-9263678


From bpringle@teklogix.com  Mon Jan 26 16:00:51 1998
From: Bill Pringlemeir <bpringle@teklogix.com>
Date: Mon Jan 26 16:00:55 PST 1998
Subject: VxWorks, PPC 860/821 Data Cache and Decrementer.

Hello,

Has anyone investigated an alternative to using the PPC 
decrementer for the VxWorks timer?  Would it be possible
to use the CPM's PIT instead.  According to the Errata
for the data cache, the decrementer seems to be the only
SPR that would be used during regular operation.  We have
A3 silicon (or better?).

The idea is to use the PIT as a supplement to ppcDecTimer.c
with a cpmPIT.c or something, then setup the MMU and 
data cache.

Thanks,
Bill Pringlemeir
Software Engineer
Teklogix Inc. Toronto, On.




From daemon@csg.lbl.gov  Tue Jan 27 04:01:58 1998
From: daemon@csg.lbl.gov
Date: Tue Jan 27 04:02:01 PST 1998
Subject: comp.os.vxworks newsdigest

Comp.Os.Vxworks Daily Digest    Tue Jan 27 04:01:56 PST 1998

        Subject: Re: What do you think of WxWorks?

-------------------------------------------------------

Newsgroups: comp.os.vxworks
Subject: Re: What do you think of WxWorks?
Date: 26 Jan 1998 13:23:49 -0800
From: bny@crl9.crl.com (Bradley Yearwood)
Organization: CRL Dialup Internet Access	(415) 705-6060  [Login: guest]
Message-ID: <6aiut5$cog@crl9.crl.com>
References: <34C8C29A.F629296D@post4.tele.dk> <34CB4551.6E9CBD1A@ecitele.com> <34CC4D98.448B8F60@post4.tele.dk>

In article <34CC4D98.448B8F60@post4.tele.dk>,
Peter Holm  <p_holm@post4.tele.dk> wrote:
>
>
>Chanoch Gotlieb wrote:
>
>>
>>
>> What exactly did you hear? What are the problems related to? It's fair
>
>I have a friend who just started working with VxWorks. She's experiencedin
>Unix device drivers.
>
>The purpose of my posting was to get a more balanced impression.
>
>Based on the responses I conclude that:
>
>1) If you expect a Unix environment, where you can easily port public domain
>
>software, your out of luck. VxWorks is not Unix.

No, but it offers more Unix-like services than one typically sees from
a realtime operating system.  This can substantially reduce developers'
learning time, and makes the embedded target readily accessible to, for
example, hardware engineers who want to write various sorts of casual test
code.

>2) Other than that (based on my limited research :-)) people seems more or
>less
>satisfied with the product.
>
>On the plus side :
>- availability of ported 3rd party software
>- support for lots of different CPUs
>- documentation is OK

The documentation is actually remarkably good.  (I have found that it's even
better on the rare occasions that I bother to read it.)

>On the other side :
>-disappointing technical support
>-not robust and versatile

All technical support for all software products is disappointing, unless you
do the right thing and insist upon source code.  Same applies to versatility.
You, the customer, are in complete control of the demand side of the market.
If you keep buying the wrong product, the market is encouraged to keep selling
the wrong product.

VxWorks seems robust (with the exception of what seem to be some annoying
problems in management of FTP socket close in the boot loader, which is not
relevant once you quit network booting, and load or run the OS from ROM), and
is more versatile than any other realtime OS product that I have had
experience with.

This comes at a price, both in memory space (but VxWorks is quite modular,
so this can be tailored to fit actual needs), and in cash.  The payback in
time-to-results can be very good, but one needs to judge this according to
one's own situation.

[I don't own any Wind River stock, unless it's buried deep in a mutual fund
somewhere.  Until and unless something gnice happens to the realtime world,
I think VxWorks is well worth considering.]

Brad Yearwood
Cotati, California

---------------------------

End of New-News digest
**********************


From Justin.Beaver-1@kmail.ksc.nasa.gov  Tue Jan 27 10:19:33 1998
From: "Beaver-1, Justin" <Justin.Beaver-1@kmail.ksc.nasa.gov>
Date: Tue Jan 27 10:19:44 PST 1998
Subject: VxWorks FTP Daemon does not support all FTP Commands

VxWorks Community,

Wind River's VxWorks FTP Daemon currently does not support the full
complement of FTP commands (e.g. mkdir).  
Does anyone know of an alternate VxWorks FTP Daemon available that
supports all of the FTP commands? 

Thanks,
Justin Beaver

__________________________________________________________________

Justin Beaver

Mail Code: DP-3
Kennedy Space Center, FL 32899
(407) 861-7683
Justin.Beaver-1@ksc.nasa.gov


From zhengyu.guo@kla-tencor.com  Tue Jan 27 11:03:56 1998
From: Zhengyu Guo <zhengyu.guo@kla-tencor.com>
Date: Tue Jan 27 11:04:04 PST 1998
Subject: Re: comp.os.vxworks newsdigest

Hi VxWorks Gurus,

I have an application that we need to send live video over ethernet
(10 BaseT or 100BaseT). Fortunately the images that need to be
transmitted are semi-static. We are thinking of using MPEG. Given 
that I don't have much knowledge on MPEG, I have the following 
questions:

1). Which way to go is better: a). using hardware MPEG encoder board
    to send the compressed image, and then using software decoder 
    on the receiving side. b). Completely use software solution    
    (software encoder and decoder). Or are there any other
    alternatives? We'd like to get at least 20 frames/sec.
2). If a) is prefered, what board do you recommand for PCI or VME 
    bus? We will have a SBC running VxWorks to control this board.
    Is it very difficult to write interface code/driver for this board?
3). The image transmitted is for review (either by human inspection 
    or go through image processing algorithm), we'd like to control 
    the loss during compression and de-compression. If the image
    difference is very small, we may decide not to compress it at 
    all. Ideally we'd like to have a lossless transmission. Which 
    method above can give us more control on loss?
4). If b) is preferred, are there any encoder or decoder source
    code to share/buy?

I'd really appreciate your input. Forgive me, some of the questions 
may sound stupid.

Thanks in advance!

-Guo

-- 
-----------------------------------------
Zhengyu Guo
KLA-Tencor Corporation
(408) 875-4643
Zhengyu.Guo@kla-tencor.com


From mrana@ebmail.gdeb.com  Tue Jan 27 11:17:38 1998
From: mrana@ebmail.gdeb.com
Date: Tue Jan 27 11:17:46 PST 1998
Subject: Bad VME Interrupt


I am getting a sporadic system hang on my systems which contain
a MVME2604 running VxWorks 5.3.1.  I am using this configuration in an ATM
network.  When the system hangs I get
the following message on my screen:
interrupt: received unknown interrupt 0
interrupt: bad vme interrupt 0
If anyone has seen this situation before, and knows the cause and/or
solution please let me know?
Mehul Rana
General Dynamics
mrana@ebmail.gdeb.com
(860)433-4999




From mea@mclean.sparta.com  Tue Jan 27 11:46:58 1998
From: Mike Anderson <mea@mclean.sparta.com>
Date: Tue Jan 27 11:47:03 PST 1998


Greetings!

  Anyone out there in netland have a pointer or source for a 
VxWorks driver for the Greensprings dual PI/T IP module (Motorola 
8230)?  PD is preferred, but commercial is acceptable if it's in 
source.  

TIA,


---------------------------------------------------------------------
|Michael E. Anderson        | Voice -> 703 448 1683 x235            |
|Chief Engineer             | FAX   -> 703 893 5494                 |
|mea@mclean.sparta.com      | http://www.mclean.sparta.com          |
|___________________________|_______________________________________|
|             SPARTA, Inc.              |                           |
|     /\\     C4I Operation             |"Software Development is   |
|    ///\\    7926 Jones Branch Drive   | like making a baby...     |
|   /////\\   Suite 900                 | You can't make a baby in  |
|  /////  \\  McLean, VA 22102          | one month by impregnating |
| / \\\\\  \\ 703-448-0210              | nine women.               |
| \  \\\\\ //                           |                           |
|  \  //////                            | Some things just take     |
|   \//////   SPARTA                    | time."                    |
|    \////    Pride In Performance      |                           |
|     \//     --------------------      |                           |
---------------------------------------------------------------------




From tkb@mclean.sparta.com  Tue Jan 27 13:01:59 1998
From: Keith Buchanan <tkb@mclean.sparta.com>
Date: Tue Jan 27 13:02:06 PST 1998
Subject: Re: 

At 11:47 AM 1/27/98 PST, you wrote:
>Submitted-by mea@mclean.sparta.com  Tue Jan 27 11:46:58 1998
>Submitted-by: Mike Anderson <mea@mclean.sparta.com>
>
>
>Greetings!
>
>  Anyone out there in netland have a pointer or source for a 
>VxWorks driver for the Greensprings dual PI/T IP module (Motorola 
>8230)?  PD is preferred, but commercial is acceptable if it's in 
>source.  

Todd had one at one point.

adios


From mfischer@shearwater.qualcomm.com  Tue Jan 27 20:48:02 1998
From: Mark Fischer <mfischer@shearwater.qualcomm.com>
Date: Tue Jan 27 20:48:13 PST 1998
Subject: VxWorks- RAM disks?

All,

Does anyone know if VxWorks supports RAM disks? If so, how?

Mark Fischer
Qualcomm, Inc.



From bob_anderson@void.mclean.mcd.mot.com  Tue Jan 27 22:24:39 1998
From: Bob Anderson <bob_anderson@void.mclean.mcd.mot.com>
Date: Tue Jan 27 22:24:51 PST 1998
Subject: Serial Port 3 and 4 on 2600

Does anyone know where or have driver source code, that could be 
shared, for serial ports 3 and 4 on Motorola's MVME2600 running 
VxWorks?  It is desired that it support the synchronous operation if 
possible.

Thanks,
Bob



From jshaw_shade@compuserve.com  Wed Jan 28 02:36:38 1998
From: John Shaw <jshaw_shade@compuserve.com>
Date: Wed Jan 28 02:36:56 PST 1998
Subject: Re: VxWorks- RAM disks?

Regarding the following:-

>All,

>Does anyone know if VxWorks supports RAM disks? If so, how?

>Mark Fischer
>Qualcomm, Inc.

Yes is the answer. VxWorks 5.2 does and I would be surprised if
Tornado did not. The steps I will outline below are for VxWorks
5.2....

1) Add INCLUDE_RAMDRV to config.h in the directory containing
   the VxWorks image you wish to load. Remake the image.

2) After the remade VxWorks has loaded, run the following from
   the VxWorks shell:-

	descriptor=3DramDevCreate(0,512,400,400,0)
	dosFsMkfs("/ram0", descriptor)

   this assumes that support for DOS filesystems has been added
   to the VxWorks image. Now a ram disk, called /ram0, can be
   used and has been allocated from VxWorks memory. A DOS file-
   system has been placed on the disk. The disk occupies 200Kb.

   Local SRAM could be used as a ram disk by replacing the first
   ramDevCreate argument with the address of SRAM. If this is
   battery backed, the disk could become permanent. In this case
   use dosFsMkfs when creating the disk for the first time and
   use dosFsDevInit("/ram0", descriptor, 0) to re-establish any
   existing RAM disk contents after a reboot of the target. But
   local SRAM might not occupy 200Kb! Reduce the 400,400 args.

I have successfully used RAM disks myself on many occasions.

John Shaw
Shade (Computer Services) Limited,
Calne, England, UK.
Email: jshaw_shade@compuserve.com=


From nrd1jrb@nrd.ups.com  Wed Jan 28 05:08:40 1998
From: Jim Bucciferro <nrd1jrb@nrd.ups.com>
Date: Wed Jan 28 05:08:55 PST 1998
Subject: Re: VxWorks- RAM disks?

the vxWorks Users Group Exploder wrote:

> Submitted-by mfischer@shearwater.qualcomm.com  Tue Jan 27 20:48:02 1998
> Submitted-by: Mark Fischer <mfischer@shearwater.qualcomm.com>
>
> All,
>
> Does anyone know if VxWorks supports RAM disks? If so, how?
>
> Mark Fischer
> Qualcomm, Inc.

Mark,
Yes, VxWorks supports RAM disks.  To use do the following:
1.  Add INCLUDE_RAMDISK in the bsp configuration.
2.  To create the RAM disk:
      a.  #include "ramdrv.h"
           #define RAMDISK_ID "E:"
      b.  This is a function I use to create the RAM disk.

STATUS setramdrive(
     int bytesblk,   /* bytes per block  */
     int blksTrack,  /* blocks per track */
        int nBlocks,    /* number of blocks */
     char* devname /* name of device   */
)
{
 BLK_DEV   *pBlkDev;
 DOS_VOL_DESC *pVolDesc;

 if( bytesblk == 0 ) bytesblk = 512;
 if( blksTrack == 0 ) blksTrack = 400;
 if( nBlocks == 0 ) nBlocks = 400;

 pBlkDev = ramDevCreate(0,bytesblk,blksTrack,nBlocks,0);

 if( pBlkDev == NULL )
 {
  printf("Creation of RAM Drive failed\n");
  return(ERROR);
 }

 pVolDesc = dosFsMkfs( devname, pBlkDev );
 if( pVolDesc == NULL )
 {
  printf("Creation of RAM Drive File System failed\n");
  return(ERROR);
 }

 printf("Creation of RAM disk complete!\n");
 return (OK);
}

This is how I call it:
setramdrive( 2048, 512, 2048, RAMDISK_ID );

It uses defaults if the values are 0.
Let me know if you need any help
JB




From agiovino@stisierra.com  Wed Jan 28 08:01:48 1998
From: "Anthony M. Giovino" <agiovino@stisierra.com>
Date: Wed Jan 28 08:02:09 PST 1998
Subject: Sparta MS-CPU36E VxWorks BSP references

I am looking for contacts who have used the Sparta MS-CPU36E BSP.

Here's a little background information on our situation.  We have a
working application that runs using pSOS+ (pRISM IDE under Solaris) and
we're looking to port it to VxWorks.  We have concerns with using third
party BSP vendors and would like to ask a few questions to current
users.

Thanks in advance,

Tony G.

-- 
Anthony M. Giovino		Sierra Research Division of STI
Software Engineer		485 Cayuga Rd	MS345
Tel: (716) 631-7389		Buffalo, N.Y. 14225
Fax: (716) 631-7849		email: agiovino@stisierra.com


From art@iotek.ns.ca  Wed Jan 28 11:23:15 1998
From: Art Cole <art@iotek.ns.ca>
Date: Wed Jan 28 11:26:19 PST 1998
Subject: FibreXpress Network cards


Hi all:

Does anyone out there have any experience in using a Systran
FibreXpress PMC with a 2604 board running VxWorks 3.1?? We're
not interested in specifics, but we would like to know things 
such as how long it took to get the thing working properly 
and/or if it ever worked properly (or at least as advertised).

Thanks

Art Cole

******************************************************************
* Art Cole			MacDonald Dettwiler & Associates *
* Systems Engineer		1000 Windmill Road, Suite 60	 *
* phone: (902)-481-3523		Dartmouth, Nova Scotia		 *
* fax:   (902)-468-2278		Canada				 *
* email: art@iotek.ns.ca	B3B 1L7				 *
******************************************************************




From bdf@amherst.com  Wed Jan 28 12:28:43 1998
From: Bruce Friedman <bdf@amherst.com>
Date: Wed Jan 28 12:28:48 PST 1998
Subject: VxWorks And The Socket Receive Function

VxWorks Gurus -

      I hope someone can help as this problem has been driving me crazy for
almost a week now -> 

PROBLEM:
I am trying to create a function that will continually examine and read
data from a non-blocking UDP Socket (the non-blocking part is important
here). I can create the socket okay, but I cannot get it to read in a
non-blocking mode.  If I use the ioctl() function to set FIONBIO to be non
blocking - it seems to never read anything; just passing over the recvfrom
function like it wasn't there. However - if I put a statement (printf();)
just before or just after the recvfrom statement, it works fine.  I have
also been able to successfully get it to block read - waiting until
something is there - but this is no good for me.  If I leave out the
ioctl() call, it defaults to blocking.  I have also put in an external
delay timer as well as making all variables global.  Why oh why does
inserting a printf() work????  Since I can not have a printf() in the final
version of my code, unfortunately this is not an option.  I have placed the
code that I am using at the end of this E-Mail in hopes that someone can
find something wrong with it

SYSTEM:
VxWorks version V5.2C
KERNEL: WIND version 2.4
Copyright Wind River Systems, Inc., 1984-1997
CPU: Digital Alpha VME 4/288.  Processor #0
Memory Size: 0xd18400.  
BSP version V5.2C
DEC Tulip Ethernet Drivers

SAMPLE CODE:
typedef unsigned int in_addr_t;
#include "errno.h"
#include "sys/types.h"
#include "time.h"
#include "vxWorks.h"
#include "fioLib.h"       /* printf */
#include "ioLib.h"
#include "stdioLib.h"
#include "taskLib.h"
#include "memLib.h"     /* free malloc */
/* #include "varargs.h" */

#include "sys/socket.h" /* bind recvfrom sendto setsockopt shutdown socket */
#include "sys/ioctl.h"  /* bind recvfrom sendto setsockopt shutdown socket */
#include "netinet/in.h" /* inet_addr inet_ntoa_b */
#include "socketvar.h"  /* bind recvfrom sendto setsockopt shutdown socket */
#include "arpa/inet.h"

#include "inetLib.h"     /* inet_addr inet_ntoa_b                       */
#include "hostLib.h"     /* gethostname                                 */
#include "etherLib.h"
#include "ifLib.h"
#include "if_tu.h"
#include "netdb.h"

typedef UINT_32 SOCKET;
#define INVALID_SOCKET  (SOCKET)(~0)
#define SOCKET_ERROR            (-1)
    

void main(void)
{
   char                Recv_Data[4096];
   SOCKET              The_Socket;
   UINT_16             The_Port           = 5001;
   UINT_16             The_Type           = SOCK_DGRAM;
   UINT_16             The_Peers_IP       = INADDR_ANY;
   int                 Sockaddr_Size      = sizeof(struct sockaddr_in);
   int                 Bytes_Rxed         = 0;
   unsigned long       Sock_Opt_ul        = 0;
   struct sockaddr_in  P2P_Rx_Sockaddr_Info;
   struct sockaddr_in  Rx_Sockaddr_Info;
   double               Run_Duration_Sec  = 100.0;
   int                  Done              = 0;
   int                  fionbio           = FIONBIO;
   int                  Counter           = 0;


   /*------------------------------------*/
   /* Create the peer to peer Rx socket. */
   bzero((char *)&P2P_Rx_Sockaddr_Info, Sockaddr_Size);
   P2P_Rx_Sockaddr_Info.sin_family      = AF_INET;
   P2P_Rx_Sockaddr_Info.sin_addr.s_addr = htonl(The_Peers_IP);
   P2P_Rx_Sockaddr_Info.sin_port        = htons(The_Port);


   The_Socket = socket(AF_INET, SOCK_DGRAM, 0);
   ioctl(The_Socket, fionbio, &Sock_Opt_ul);
   bind(The_Socket, (struct sockaddr *) &P2P_Rx_Sockaddr_Info, Sockaddr_Size);

   printf("\nI'm looking for friends on port %u.\n", The_Port);

   /* Messaging loop. */
   while (!Done)
   {
      /* Receive data on this port (non-blocking) and process it. */
      Bytes_Rxed = recvfrom(The_Socket, Recv_Data, 4096, 0,
                (struct sockaddr *) &Rx_Sockaddr_Info, &Sockaddr_Size);

      if (Bytes_Rxed > 0)
            printf("I received %d Bytes of Data \n", Bytes_Rxed);

      Counter++;
      Done = (Counter == 1000);

   }

   /* Goodbye. */
   shutdown(The_Socket, 2);
   close   (The_Socket);
}
    
-------------------------------------------------------------------------- 

        _/
_/_/_/_/_/_/   Bruce Friedman          | Amherst Systems, Inc
FROM  _/_/_/_/ bdf@amherst.com         | 30 Wilson Rd.
_/_/_/_/_/_/   Voice 716-631-0610 x213 | Buffalo, NY  14221
        _/     Fax   716-631-0629      |



From uchenick@tis4000.com  Wed Jan 28 13:49:08 1998
From: Gordon Uchenick <uchenick@tis4000.com>
Date: Wed Jan 28 13:49:12 PST 1998
Subject: RE: VxWorks And The Socket Receive Function

Here's what's wrong with your sample code. I have no idea why the =
additional printf would make things work or not work. It seems to me =
that the select() function is much more straightforward. Why don't you =
consider using that?

PROBLEM:
I am trying to create a function that will continually examine and read
data from a non-blocking UDP Socket (the non-blocking part is important
here). I can create the socket okay, but I cannot get it to read in a
non-blocking mode.=20
<SNIP>
void main(void)
{
   char                Recv_Data[4096];
   SOCKET              The_Socket;
   UINT_16             The_Port           =3D 5001;
   UINT_16             The_Type           =3D SOCK_DGRAM;
   UINT_16             The_Peers_IP       =3D INADDR_ANY;
   int                 Sockaddr_Size      =3D sizeof(struct =
sockaddr_in);
   int                 Bytes_Rxed         =3D 0;

HERE'S THE PROBLEM! Sock_Opt_ul should be 1. You are turning OFF =
non-blocking I/O.

   unsigned long       Sock_Opt_ul        =3D 0;
   struct sockaddr_in  P2P_Rx_Sockaddr_Info;
   struct sockaddr_in  Rx_Sockaddr_Info;
   double               Run_Duration_Sec  =3D 100.0;
   int                  Done              =3D 0;
   int                  fionbio           =3D FIONBIO;
   int                  Counter           =3D 0;


   /*------------------------------------*/
   /* Create the peer to peer Rx socket. */
   bzero((char *)&P2P_Rx_Sockaddr_Info, Sockaddr_Size);
   P2P_Rx_Sockaddr_Info.sin_family      =3D AF_INET;
   P2P_Rx_Sockaddr_Info.sin_addr.s_addr =3D htonl(The_Peers_IP);
   P2P_Rx_Sockaddr_Info.sin_port        =3D htons(The_Port);


   The_Socket =3D socket(AF_INET, SOCK_DGRAM, 0);
   ioctl(The_Socket, fionbio, &Sock_Opt_ul);
   bind(The_Socket, (struct sockaddr *) &P2P_Rx_Sockaddr_Info, =
Sockaddr_Size);

   printf("\nI'm looking for friends on port %u.\n", The_Port);

   /* Messaging loop. */
   while (!Done)
   {
      /* Receive data on this port (non-blocking) and process it. */

YOU SHOULD PUT THIS INTO EACH LOOP ITERATION:

SockAddr_Size =3D sizeof(Rx_Sockaddr_Info);

      Bytes_Rxed =3D recvfrom(The_Socket, Recv_Data, 4096, 0,
                (struct sockaddr *) &Rx_Sockaddr_Info, &Sockaddr_Size);

      if (Bytes_Rxed > 0)
            printf("I received %d Bytes of Data \n", Bytes_Rxed);

      Counter++;
      Done =3D (Counter =3D=3D 1000);

   }

<SNIP>


From msa@redifon.com  Thu Jan 29 07:22:44 1998
From: Mark Armstrong <msa@redifon.com>
Date: Thu Jan 29 07:22:47 PST 1998
Subject: Re: Driving a Z16C30 serial chip in SDLC mode.. 

Hello VxWorks type people.

I have a problem that one of you out there may be able to help with.

Our system is running several tens of RS422 serial receivers on Green
Spring 
MP-Serial IP modules in SDLC mode on Motorola MVME162s.
Because of the high data rates the serial controller chips are polled 
sequentially.  Several of these channels have appalling reception rates 
with almost 100% rejection of received data while others are perfect.

The manual for the Zilog Z16C30 chip in question is quite sketchy as to
why it sets certain exception bits that are the root of the problem.
The data on the bad channels is lost because of "first byte exceptions".
If you remove the first byte exception code the data received is full of
erroneous information.  A summarised description of First Byte Error is
"This bit is set when oldest byte in RxFIFO had RxBound, Parity Error,
Over Run set when Receiver Data Register was last read."

RxBound is the most likely candidate as this is set at the end of an 
SDLC frame.  It indicates when the controller should hunt for a new SDLC 
sync word.  But I know the external hardware I'm syncing with resyncs
the SDLC 
every 4 bytes, this leads me to think I should start hunting every 4
bytes.
Does this sound feasible?

The following code segment runs for each poll, the FIFO is 
emptied every time it gets half full (16 bytes).  If anyone can see a
problem, 
or tell me how to drive the chip with more finesse I'll be very
greatful.

Hope someone can help,

Mark Armstrong
Redifon MEL


CODE SEGMENT:
------------

BOOL pollChannel(POLL_OBJECT  *this, int channel)
        {
	TY_CO_DEV *	pTyCoDv		= &(this->ipmpsTyCoDv[channel]);
        RX_OBJECT *	rx		= &(this->receiver[channel]);
	uint16_t	fifoLevel;
	volatile short	rcsr;
        uint32_t	byte_count=0;
        char *		rx_msg_ptr	= rx->currentPos;

	rcsr = *Z1630_REG (pTyCoDv->chanBase, IPMPS_REG_OFFSET, Z1630_RCSR);

	/*
	 * if receiver has overrun reset the chip
	 */
	if (rcsr & Z1630_RCSR_OVERRUN)
            {
            *Z1630_REG (pTyCoDv->chanBase, IPMPS_REG_OFFSET, Z1630_CCAR)
= 0xc800;
            rx->overRunCount++;
            return (FALSE);
            }
	else if (rcsr & (Z1630_RCSR_IDLE | Z1630_RCSR_BREAK_ABORT))
            {
            *Z1630_REG (pTyCoDv->chanBase, IPMPS_REG_OFFSET, Z1630_RCSR)
= rcsr;
            *Z1630_REG (pTyCoDv->chanBase, IPMPS_REG_OFFSET, Z1630_CCAR)
= 0xc800;
            rx->idleErrorCount++;
            return (FALSE);
            }

	/*
	 * Monitor FIFO level, wait until 16 bytes in fifo
	 */
	fifoLevel = *pTyCoDv->ricReg;
	fifoLevel = (fifoLevel & Z1630_RICR_FIFO_CTRL_STATUS_MASK) >>
					Z1630_RICR_FIFO_CTRL_STATUS_SHIFT;

	if (fifoLevel >= REACT_FIFO_DEPTH)
            {
            for(byte_count=0; byte_count<REACT_FIFO_DEPTH; byte_count++)
                {
                /*
                 * read  data bytes
                 */
                rx_msg_ptr[byte_count] = *pTyCoDv->rxChar;	

                /*
                 * read rcsr to flush register on last byte of message 
                 */ 
                rcsr = *Z1630_REG (pTyCoDv->chanBase, IPMPS_REG_OFFSET,
Z1630_RCSR);
		if ( !(rcsr & Z1630_RCSR_FIRST_BYTE_ERROR))
		   {
		   /* The problems here somewhere.*/
                   rx->firstByteExCount++;
		   /* Reset the serial channel forcing SDLC resync. */
		   *Z1630_REG (pTyCoDv->chanBase, IPMPS_REG_OFFSET, Z1630_CCAR) =
0xc800;
		   return (FALSE);
		   }
                }
            

            /*
	     * swing to the next buffer
	     */
            rx->whichBuffer = (rx->whichBuffer++) % INT_SWING_BUFFERS;
            rx->currentPos = rx->swingBuffer[rx->whichBuffer];

            return (TRUE);
            }
	else
            return (FALSE);
    }


From bdf@amherst.com  Thu Jan 29 07:51:41 1998
From: Bruce Friedman <bdf@amherst.com>
Date: Thu Jan 29 07:51:45 PST 1998
Subject: Can't Load vxWorks Bootfile Problem

Okay, Here is another one for you -

   
     I have a very large program that I am trying to run under vxWorks.  At
its minimal configuration it loaded and ran fine.  However, I have since
added a number of "features" (yes features!) that have caused the code to
significantly increase in size since the last time that I tried to run it.
I have seen this situation described in the manuals, but I am not sure how
to correct it (the manuals are either very vague on the matter or I am just
not getting it - probably the latter if I know me).

     When I try to load the vxWorks.st file the following lines of text are
displayed: (note that I am fairly sure that I have to modify an address (or
multiple addresses) in one (or more) of the makefiles, but I am not sure
which ones or what to modify them to.)

----------------
Load file text/data/bss addresses will collide with ours.
Rebuild load file so its .bss ends below our start (0xfffffc000057dc00)

Error loading file: errno = 0x0
Can't load boot file!!

  
My vxWorks.st compile line looks like this:
------------------------------------------
cc -migrate -o sysLib_st.o -c -O3 -I/h -I. 
-I/home6/bdf/vxworks_52c/config/all
-I/home6/bdf/vxworks_52c/h -I/home6/bdf/vxworks_52c/h/ 
-I/home6/bdf/vxworks_52c/src/config  -I/home6/bdf/vxworks_52c/src/config/
- I/home6/bdf/vxworks_52c/src/drv/ 
-DCPU=21064 -DRAM_LOW_ADRS=0xfffffc0000200000 -std1 -Wf,-no_ansi_args 
-D_ANSI_C_SOURCE -DSTANDALONE sysLib.c 

My vxWorks.st link line looks like this
---------------------------------------
ld -N -EL -e sysInit -Ttext 0xfffffc0000200000 -o vxWorks.st tmp.2 symTbl.o
true vxWorks.st  

My bootrom_alpha link line looks like this
---------------------------------------
ld -N -EL -e sysInit -Ttext fffffc0000580000 -o tmp sysALib2.o sysLib.o
tyCo Drv.o sysAdpLib.o nvram.o   version.o bootConfig.o
/home6/bdf/vxworks_52c/lib/lib21064osfdrv.a
/home6/bdf/vxworks_52c/lib/lib21064osfvx.a
/home6/bdf/vxworks_52c/lib/lib21064osfmath.a
/home6/bdf/vxworks_52c/lib/lib21064osfots.a  
/home6/bdf/vxworks_52c/lib/lib21064osfvx.a

The end of compilation looks like this
--------------------------------------
(reading 22 KB from /home6/bdf/vxworks_52c/bin/osf/secload)
examine coff
secondary loader will occupy 20000000 to 20007eb0
(reading 773 KB from tmp)
vx system (text, data, bss) fffffc0000580000 to fffffc0000651950
compressing...
... 773 KB compressed to 448 KB (42 % reduction)
comparing sizes
Flash rom size                              = 3584 KB
Code size of (secondary loader + vx system) = 481 KB  (Must be < ROM size)
Flash rom unused                            = 3102 KB
(flash checksum = 0x11606ba9)
(writing 512 KB to bootrom_alpha)                  


TIA
Bruce

P.S.  Thanks to those who responded to my previous post re-non-blocking
sockets.  I have not implemented the select() function yet, but I now
understand why the problem was occuring.                             
-------------------------------------------------------------------------- 

        _/
_/_/_/_/_/_/   Bruce Friedman          | Amherst Systems, Inc
FROM  _/_/_/_/ bdf@amherst.com         | 30 Wilson Rd.
_/_/_/_/_/_/   Voice 716-631-0610 x213 | Buffalo, NY  14221
        _/     Fax   716-631-0629      |



From johnny@as.wm.edu  Fri Jan 30 05:57:51 1998
From: Johnny Tang <johnny@as.wm.edu>
Date: Fri Jan 30 05:57:55 PST 1998
Subject: vxworks

subscrib VxWorks Tornado


From atkin.robert@orbital.com  Fri Jan 30 08:00:24 1998
From: "Atkin.Robert"<atkin.robert@Orbital.COM>
Date: Fri Jan 30 08:00:27 PST 1998
Subject: Re[2]: Driving a Z16C30 serial chip in SDLC mode.. 



Mark-

I don't know if this has anything to do with the general problem you described, 
but I think it is a problem non-the-less (and perhaps related as a bonus!).

In the test where you check to see that the fifo level is greater than or equal 
to REACT_FIFO_DEPTH, you then only read REACT_FIFO_DEPTH characters, possibly 
leaving some characters in the fifo ... this could potentially result in an 
overrun condition, which i think might cause your error.

I would either use a while loop and re-check the fifo level each time, or simply
read fifoLevel characters instead of REACT_FIFO_DEPTH characters (change the for
loop termination to " < fifoLevel" )

I hope this helps.

-Rob Atkin
Tiger Innovations
Real-Time Software Engineering Consultants
ratkin@ix.netcom.com

vxworks

Submitted-by msa@redifon.com  Thu Jan 29 07:22:44 1998 
Submitted-by: Mark Armstrong <msa@redifon.com>
     
     [ snip ]
     
CODE SEGMENT:
------------
     
BOOL pollChannel(POLL_OBJECT  *this, int channel)
        {
     
     [snip]
     
     >>>
     >>> The fifo level can be > REACT_FIFO_DEPTH but only REACT... chars
     >>> are removed from the fifo
     >>>
        /*
         * Monitor FIFO level, wait until 16 bytes in fifo 
         */
        fifoLevel = *pTyCoDv->ricReg;
        fifoLevel = (fifoLevel & Z1630_RICR_FIFO_CTRL_STATUS_MASK) >>
                                        Z1630_RICR_FIFO_CTRL_STATUS_SHIFT;
     
        if (fifoLevel >= REACT_FIFO_DEPTH)
            {
            for(byte_count=0; byte_count<REACT_FIFO_DEPTH; byte_count++)
                {
                /*
                 * read  data bytes
                 */
                rx_msg_ptr[byte_count] = *pTyCoDv->rxChar;        
     
                /*
                 * read rcsr to flush register on last byte of message 
                 */ 
                rcsr = *Z1630_REG (pTyCoDv->chanBase, IPMPS_REG_OFFSET,
Z1630_RCSR);
                if ( !(rcsr & Z1630_RCSR_FIRST_BYTE_ERROR))
                   {
                   /* The problems here somewhere.*/
                   rx->firstByteExCount++;
                   /* Reset the serial channel forcing SDLC resync. */ 
                   *Z1630_REG (pTyCoDv->chanBase, IPMPS_REG_OFFSET, Z1630_CCAR)
=
0xc800;
                   return (FALSE);
                   }
                }
     
     
            /*
             * swing to the next buffer
             */
            rx->whichBuffer = (rx->whichBuffer++) % INT_SWING_BUFFERS; 
            rx->currentPos = rx->swingBuffer[rx->whichBuffer];
     
            return (TRUE);
            }
        else
            return (FALSE);
    }
     
     




From pouivet@ocegr.fr  Fri Jan 30 08:30:48 1998
From: Mickael Pouivet <pouivet@ocegr.fr>
Date: Fri Jan 30 08:30:52 PST 1998
Subject: Tornado for Java

I'm trying to use the Java Virtual Machine (1.1 beta) for Tornado on a 
ultra604 Power PC board running VxWorks5.3.1.

When getting standard classes.zip from a network location, everything is
OK.

But when changing JAVA_CLASS_PATH and/or JAVA_HOME so that to use a 
classes.zip located on our target local IDE disk 
the folllowing error is displayed :
  "Invoking Java VM with command line: java myClass
   Unable to initialize threads: cannot find class java/lang/Thread"

Note that the problem only occurs with classes.zip but neither with any
of ours plain nor with the "COM.wrs.demo.HelloWorld" file that we can
get from ultra604 local IDE disk.
 
 Has anybody already got that problem?
 Thanks for any suggestion.
       
          Regards.
          Mickael Pouivet.

-- 
---------------------------------------------------------------------
    	Mickael POUIVET
	OCE Industries S.A.
	FRANCE 
    	Tel : 01 48 98 81 30
    	E-mail: pouivet@ocegr.fr
---------------------------------------------------------------------


From mea@mclean.sparta.com  Fri Jan 30 08:58:05 1998
From: Mike Anderson <mea@mclean.sparta.com>
Date: Fri Jan 30 08:59:09 PST 1998

VxWorks Greetings!

  Can someone out there tell me the difference between a task "switch"
hook and a task "swap" hook?  It looks like when the switchHook is
called, the scheduler has already run and selected the next task to
run.  What I'd like to do is to get in *before* the scheduler is run
to tinker with the task priorities and, in effect, implement a new
scheduling policy.

TIA, 

---------------------------------------------------------------------
|Michael E. Anderson        | Voice -> 703 448 1683 x235            |
|Chief Engineer             | FAX   -> 703 893 5494                 |
|mea@mclean.sparta.com      | http://www.mclean.sparta.com          |
|___________________________|_______________________________________|
|             SPARTA, Inc.              |                           |
|     /\\     C4I Operation             |"Software Development is   |
|    ///\\    7926 Jones Branch Drive   | like making a baby...     |
|   /////\\   Suite 900                 | You can't make a baby in  |
|  /////  \\  McLean, VA 22102          | one month by impregnating |
| / \\\\\  \\ 703-448-0210              | nine women.               |
| \  \\\\\ //                           |                           |
|  \  //////                            | Some things just take     |
|   \//////   SPARTA                    | time."                    |
|    \////    Pride In Performance      |                           |
|     \//     --------------------      |                           |
---------------------------------------------------------------------




From YF.Siu@eng.efi.com  Fri Jan 30 12:32:53 1998
From: "Yuet Fung Siu" <YF.Siu@eng.efi.com>
Date: Fri Jan 30 12:32:57 PST 1998
Subject: task switch/swap hooks

As far as I know, both task swap hooks (undocumented ?) and switch hooks
will be called right before the dispatcher, and after the task ready queue
had been finalized. One major difference between the two is that switch
hooks will be called on every task switch, whereas for swap hooks, you
can specify when the hook will be called (swap in or out) and which
tasks. Swap hooks will be called only after they have been registered
via taskSwapHookAdd and taskSwapHookAttach. The floating-point context
save/restore is a typical implementation using swap hooks.

So I think may be you need to replace the VxWorks schedular: reschedule.

Hope this helps and good luck,

YF

+	
+	  Can someone out there tell me the difference between a task "switch"
+	hook and a task "swap" hook?  It looks like when the switchHook is
+	called, the scheduler has already run and selected the next task to
+	run.  What I'd like to do is to get in *before* the scheduler is run
+	to tinker with the task priorities and, in effect, implement a new
+	scheduling policy.
+	
+	TIA, 
+	


From Bob.Ferrara@digital.com  Fri Jan 30 12:49:25 1998
From: Bob Ferrara <Bob.Ferrara@digital.com>
Date: Fri Jan 30 12:49:28 PST 1998
Subject: VxWorks - system diagnostics

Hi all -

I am required to produce some level of diagnostics for the
various components on my system, such as, Ethernet device,
disk drive, floppy driver and graphics card.


I believe all selected components are currently supported under
VxWorks, thus, drivers exist.


Is it possible to create shell scripts to "talk" to these devices and 
exercise them ?

For example, are there shell commands that could put the Ethernet
into a loopback mode and then send packets to verify its functionality?

Otherwise, would I be required to purchase a VxWorks Developer's
License to permit writing/compiling/downloading diagnostics written 
in C?

Thanks for any suggestions,

 Bob Ferrara
 Bob.Ferrara@Digital.com



From anthony.le@lamrc.com  Fri Jan 30 13:16:55 1998
From: "Anthony T. Le" <anthony.le@lamrc.com>
Date: Fri Jan 30 13:16:59 PST 1998
Subject: MV162 Bus Error when accessing VME bus

Hello:


Does anyone know how to set up for vxWorks for MVME162 board (or configure the MMU)
to make it talk to the VME bus A24/A32/D16/D32 address space?

Anthony





From cruz_nojunk@xyplex.com  Fri Jan 30 13:49:09 1998
From: Roger Cruz <cruz_nojunk@xyplex.com>
Date: Fri Jan 30 13:49:12 PST 1998
Subject: Re[2]: WindView questions with Tornado 1.0.1 

 Anyone knows if this also works with tornado 1.0?


>From brett.smith@wg.com  Mon Jan 19 05:09:47 1998
From: "Brett Smith"<brett.smith@wg.com>
Date: Mon Jan 19 05:09:50 PST 1998
Subject: Re[2]: WindView questions with Tornado 1.0.1


     Ethernet is not required for WindView, at least not with an x86
     target.  I had WindView running over a serial target server for a
     p-133.

     The only thing I had to do was build with WDB configured for serial

     and included the INSTRUMENTATION directive:

     #define INCLUDE_INSTRUMENTATION

     in config.h

        BWS

--
Roger Cruz                           cruz@xyplex.com
Xyplex Networks                      w: 508-952-4783
295 Foster Street                    f: 508-952-4887
Littleton, MA 01460





From cbriles@lanl.gov  Fri Jan 30 14:20:48 1998
From: Carolyn Briles <cbriles@lanl.gov>
Date: Fri Jan 30 14:20:51 PST 1998
Subject: acromag ip502 module

Hello All,

Does anyone have experience using the Acromag IP502 RS485
module with vxWorks?  

I am using the modules on a MVME162LX.  The drivers provided
are OS-9, but are easy to read and port.  I am getting some 
unexpected Line Status errors and was wondering if anyone
had been down this road.

Thanks!
Carolyn





/~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.\
| Carolyn Briles          |                          |
| Los Alamos National Lab | (505) 665-1198 (office)  |
| P-21,  MS D454          |                          |
| P.O. Box 1663           | (505) 667-7684 (FAX)     |
| Los Alamos, NM 87545    |                          |
\~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~./


From greg.brissey@nmr.varian.com  Fri Jan 30 15:44:23 1998
From: greg.brissey@nmr.varian.com (Greg Brissey x6951)
Date: Fri Jan 30 15:44:27 PST 1998
Subject: accessing VME bus   vxworks

Anthony

  This may not be what you are looking for but we use the 
  TRANSPARET Transation Register of the 68040 to allow
  VME access from $10000000 -> $5fffffff address space
  we do this instead of programing the sysPhysMemDesc[] struct
   for the MMU. Doing it this way speeds up up the bootup.

      *   
     *  bits:
     * 31-24: logical Address base
     * 23-16: logical address mask
     *    15: Enable Translation
     * 14-13: Address mode (00-user,01-Super, 1X-any)
     *   6-5: cache mode: 00-cache wr/through, 01-cache copyback,
     *               10-noncache,serialized, 11-noncache
     *     2: Write - 0 R/W, 1 R_Only
     *   
     *  compile for mc68040, otherwise compiler errors will result
     */  
#define DTT0_VALUE   0x10EFC040  /* from $10000000 -> $5fffffff */
#define DTT1_VALUE   0x20DFC040  /* from $20000000 -> $2fffffff */
     asm ("movec %0,dtt0" : : "r" (DTT0_VALUE));
     asm ("movec %0,dtt1" : : "r" (DTT1_VALUE));


    Actually I obtain this trick from previous discussion on the exploder
    about VME access.


Greg Brissey
greg.brissey@nmr.varian.com
Varian NMR R&D
Palo Alto CA


